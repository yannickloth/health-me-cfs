SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./B-zFJtiar6.js",import.meta.url,"B-zFJtiar6");SML.di("./BlPAB0-vrn.js",import.meta.url,"BlPAB0-vrn");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");
SML.dm("07V_X64YGf",["Dw4vb8Yfbm","B-zFJtiar6","BlPAB0-vrn","5r73EsgItq"],(async(t,e,r,E)=>{const s=e.W(E.s);let i=class extends s{constructor(){super(...arguments),this.id="",this.subreddit=""}pageIndexChangedCallback(e){super.pageIndexChangedCallback(e);const E=this.pageIndex>e?r.G.Forward:r.G.Backward;t.i(this,r.g(this,E))}};t._([t.n({type:String})],i.prototype,"id",void 0),t._([t.n({type:String})],i.prototype,"subreddit",void 0),i=t._([t.e("shreddit-gallery-listener")],i)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./DyRz1vAoTm.js",import.meta.url,"DyRz1vAoTm");SML.di("./Z0tk4vmzIQ.js",import.meta.url,"Z0tk4vmzIQ");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./E3QE3c4_Ye.js",import.meta.url,"E3QE3c4_Ye");SML.di("./DasPtA-dN5.js",import.meta.url,"DasPtA-dN5");SML.di("./C8QDHFSIkY.js",import.meta.url,"C8QDHFSIkY");
SML.dm("2oAMtcRlsC",["Dw4vb8Yfbm","DyRz1vAoTm","Z0tk4vmzIQ","5r73EsgItq","E3QE3c4_Ye","DasPtA-dN5","C8QDHFSIkY"],(async(t,e,s,i)=>{let n=class extends i.s{constructor(){super(),this.postId="",this.spoiler=!1,this.nsfw=!1,this.quarantined=!1,this.game=!1,this.app="",this.onPostUpdateAction=({postId:t,action:e,value:i})=>{if(this.postId===t)switch(e){case s.a.markAsNsfw:this.nsfw=i;break;case s.a.markAsSpoiler:this.spoiler=i}},this.pubsubController=new t.u(this)}connectedCallback(){super.connectedCallback(),this.pubsubController.subscribe(t.T.PostUpdated,this.onPostUpdateAction)}renderContentTag(t){const s=e.c(e.g()[t]);return i.x`<span class="h-lg inline-block">${s}</span>`}render(){return this.nsfw||this.spoiler||this.quarantined||this.app?i.x` <div class="content-tags inline-flex gap-xs"> ${this.nsfw?this.renderContentTag(e.C.NSFW):""} ${this.app?i.x`<a target="_blank" href="https://developers.reddit.com/apps/${this.app}?utm=watermark_v1" @click="${()=>this.dispatchEvent(new CustomEvent("tag-click",{detail:{type:e.C.APP}}))}">${this.renderContentTag(this.game?e.C.GAME:e.C.APP)}</a>`:""} ${this.spoiler?this.renderContentTag(e.C.SPOILER):""} ${this.quarantined?this.renderContentTag(e.C.QUARANTINED):""} </div> `:""}};n.styles=[t.t],t._([t.n({type:String,attribute:"post-id"})],n.prototype,"postId",void 0),t._([t.n({type:Boolean,attribute:"spoiler",reflect:!0})],n.prototype,"spoiler",void 0),t._([t.n({type:Boolean,attribute:"nsfw",reflect:!0})],n.prototype,"nsfw",void 0),t._([t.n({type:Boolean,attribute:"quarantined",reflect:!0})],n.prototype,"quarantined",void 0),t._([t.n({type:Boolean})],n.prototype,"game",void 0),t._([t.n({type:String})],n.prototype,"app",void 0),n=t._([t.e("shreddit-content-tags")],n)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");
SML.dm("7e6Mie450p",["Dw4vb8Yfbm","5r73EsgItq"],(async(e,t)=>{let i=class extends t.s{constructor(){super(...arguments),this._imageElem=null,this._traceCompleted=!1,this._imageStartTiming=0,this._imageLoadedTiming=0,this._imageReadyTiming=0,this._observer=new e.bK,this._hasBeenInView=!1,this.placement="image_post",this.isPromoted=!1,this.onEnter=()=>{this._hasBeenInView=!0,this._imageStartTiming||(this._imageStartTiming=Date.now()),this.applyListeners(),this._timeoutTimer||(this._timeoutTimer=setTimeout((()=>{this._imageElem?.complete&&this._imageElem?.naturalWidth||this.sendImageMetric("download_fail")}),6e4))},this.onLeave=()=>{if(this._traceCompleted||!this._hasBeenInView||!this._imageStartTiming)return;const e=Date.now()-this._imageStartTiming>=150;!this._imageReadyTiming&&e&&this.sendImageMetric("exit_before_visible")},this.onLoad=()=>{this._imageLoadedTiming=Date.now(),this.poll()},this.onError=()=>{this.sendImageMetric("download_fail")},this.checkStatus=e=>{if(e.naturalWidth&&!this._imageReadyTiming)return this._imageLoadedTiming||(this._imageLoadedTiming=Date.now()),this._imageReadyTiming=Date.now(),this.sendImageMetric(),!0;e.complete&&!this._imageLoadedTiming&&(this._imageLoadedTiming=Date.now(),this.poll());const t=Date.now()-this._imageLoadedTiming;return this._pollVisibleInterval&&t>1e4&&this.sendImageMetric("download_fail"),!1}}connectedCallback(){if(super.connectedCallback(),this._traceCompleted)return;if(this._imageElem=this.previousElementSibling,!this._imageElem.tagName.includes("IMG"))throw new Error("<image-observer> must be immediately after the observed <img> in the DOM");this.checkStatus(this._imageElem)||(this._observer.observe(this._imageElem),this._imageElem.addEventListener("faceplate-enter",this.onEnter),this._imageElem.addEventListener("faceplate-leave",this.onLeave))}disconnectedCallback(){super.disconnectedCallback(),this._observer.unobserve(this._imageElem),this._imageElem?.removeEventListener("faceplate-enter",this.onEnter),this._imageElem?.removeEventListener("faceplate-leave",this.onLeave),this.cleanup()}applyListeners(){if(!this._imageElem)return;this.checkStatus(this._imageElem)||(this._imageElem.addEventListener("load",this.onLoad,{once:!0}),this._imageElem.addEventListener("error",this.onError,{once:!0}))}cleanup(){clearInterval(this._pollVisibleInterval),clearTimeout(this._timeoutTimer),this._imageElem?.removeEventListener("load",this.onLoad),this._imageElem?.removeEventListener("error",this.onError),this._imageStartTiming=0,this._imageLoadedTiming=0,this._imageReadyTiming=0}poll(){!this._pollVisibleInterval&&this._hasBeenInView&&(this._pollVisibleInterval=setInterval((()=>{this.checkStatus(this._imageElem)}),25))}sendImageMetric(t=void 0){const i=this._getFeedPostInfo(),s=this._getGalleryInfo();let a,n;i&&({position:n,...a}=i),this.isPromoted&&(a||(a={}),a.promoted=!0,a.type=this.promotedPostType);const o=this._imageStartTiming||this._imageLoadedTiming||this._imageReadyTiming||Date.now(),m=this._imageReadyTiming||Date.now(),r={source:"image",action:"trace",noun:"performance",client_timestamp:Date.now(),image_trace:{get_image_start_timestamp:o,image_ready_timestamp:m,view_visibile_timestamp:o},media:{width:this._imageElem?.naturalWidth,height:this._imageElem?.naturalHeight,url:this._imageElem?.src,placement:this.placement},action_info:{position:n,reason:t,page_type:e.H()}};a&&(r.post=a),s&&(r.gallery=s),this._sendEvent(r),this.cleanup(),"exit_before_visible"!==t&&(this._traceCompleted=!0)}_getFeedPostInfo(){const t=this.closest("shreddit-post, shreddit-ad-post");if(t)return{id:t.id,promoted:t.nodeName.includes("AD"),nsfw:t.nsfw,view_type:t.viewType===e.ag.CompactView?"classic":"card",position:t.feedIndex}}_getGalleryInfo(){if(!this.closest("gallery-carousel"))return;const e=this.closest("li")?.getAttribute("slot");return e?{position:Number(e.split("-")[1])-1}:void 0}_sendEvent(t){e.i(this,t)}createRenderRoot(){return this}};e._([e.n()],i.prototype,"placement",void 0),e._([e.n({type:Boolean,attribute:"is-promoted"})],i.prototype,"isPromoted",void 0),e._([e.n({type:String,attribute:"promoted-post-type"})],i.prototype,"promotedPostType",void 0),i=e._([e.e("image-observer")],i)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./BIzQFHISzm.js",import.meta.url,"BIzQFHISzm");SML.di("./DNuG1KLpV-.js",import.meta.url,"DNuG1KLpV-");SML.di("./O6qhDxcY8s.js",import.meta.url,"O6qhDxcY8s");SML.di("./BOFc1KQJc-.js",import.meta.url,"BOFc1KQJc-");SML.di("./Z0tk4vmzIQ.js",import.meta.url,"Z0tk4vmzIQ");
SML.dm("B0eUmh4x0D",["Dw4vb8Yfbm","5r73EsgItq","BIzQFHISzm","DNuG1KLpV-","O6qhDxcY8s","BOFc1KQJc-","Z0tk4vmzIQ"],(async(e,t,i,s,o,r,a)=>{let n=class extends t.s{constructor(){super(...arguments),this.isEnoughParentWidth=!1,this.removed=!1,this.thingId="",this.shouldIgnoreParentWidth=!1,this.pubsub=new e.u(this),this.minWidthToShowLabel=460,this.onCommentUpdateAction=e=>{if(e.commentId!==this.thingId)return;const{action:t}=e;switch(t){case r.C.approve:case r.C.approveOptimistic:this.removed=!1;break;case r.C.remove:case r.C.removeAsSpam:case r.C.confirmRemoval:case r.C.removeOptimistic:case r.C.removeAsSpamOptimistic:case r.C.confirmRemovalOptimistic:this.removed=!0}},this.onPostUpdateAction=e=>{if(e.postId!==this.thingId)return;const{action:t}=e;switch(t){case a.a.approve:case a.a.approveOptimistic:this.removed=!1;break;case a.a.remove:case a.a.removeAsSpam:case a.a.confirmRemoval:case a.a.removeOptimistic:case a.a.removeAsSpamOptimistic:case a.a.confirmRemovalOptimistic:this.removed=!0}},this.onAwardOnContentUpdateAction=e=>{if(e.awardOnContentId!==this.thingId)return;const{action:t}=e;switch(t){case o.A.approve:this.removed=!1;break;case o.A.remove:case o.A.confirmRemoval:this.removed=!0}}}connectedCallback(){this.initializeResizeObserver(),this.pubsub.subscribe(e.T.PostUpdated,this.onPostUpdateAction),this.pubsub.subscribe(e.T.CommentUpdated,this.onCommentUpdateAction),this.pubsub.subscribe(e.T.AwardOnContentUpdated,this.onAwardOnContentUpdateAction),super.connectedCallback()}disconnectedCallback(){this.resizeObserver?.disconnect(),super.disconnectedCallback()}initializeResizeObserver(){const e=s.g(this);e&&(this.resizeObserver=new ResizeObserver((e=>{for(const t of e){const e=t.contentRect.width>=this.minWidthToShowLabel;e!==this.isEnoughParentWidth&&(this.isEnoughParentWidth=e)}})),this.resizeObserver.observe(e))}render(){return t.x` <span class="inline-flex items-center gap-xs text-12 text-neutral-content w-full"> <div class="relative"> <slot name="verdict-indicator-avatar"></slot> <div aria-hidden="true" class="absolute bottom-0 -right-px flex justify-center items-center h-md w-md rounded-full border-solid border-md border-neutral-background scale-75 origin-bottom-right translate-y-px ${this.removed?"bg-red-200 text-red-700":"bg-kiwigreen-200 text-kiwigreen-700"}"> ${this.removed?e.al({size:t.I.ExtraSmall}):i.c({size:t.I.ExtraSmall})} </div> </div> ${this.shouldShowLabel?t.x`<slot name="verdict-indicator-label"></slot>`:""} </span> `}get shouldShowLabel(){return this.shouldIgnoreParentWidth||this.isEnoughParentWidth}};n.styles=[e.t],e._([e.h()],n.prototype,"isEnoughParentWidth",void 0),e._([e.n({type:Boolean,reflect:!0})],n.prototype,"removed",void 0),e._([e.n({type:String,attribute:"thing-id"})],n.prototype,"thingId",void 0),e._([e.n({type:Boolean,attribute:"ignore-parent-width"})],n.prototype,"shouldIgnoreParentWidth",void 0),n=e._([e.e("mod-verdict-indicator-component")],n)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./B-zFJtiar6.js",import.meta.url,"B-zFJtiar6");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");
SML.dm("B4_JewVyg-",["Dw4vb8Yfbm","B-zFJtiar6","5r73EsgItq"],(async(e,t,r)=>{class a{constructor(e,t){this.slotTrail=[],(this.host=e).addController(this),this.slotName=t}hostConnected(){let e=this.host;const t=[e];for(;e=e.getRootNode().host;)t.push(e);const r=t.pop();let a=r.querySelector(`[slot="${this.slotName}"]`);a||(a=document.createElement("div"),a.slot=this.slotName,r.appendChild(a)),this.slotted=a,t.forEach((e=>{const t=document.createElement("slot");t.name=t.slot=this.slotName,this.slotTrail.push(e.appendChild(t))}))}hostDisconnected(){for(;this.slotTrail.length>0;)this.slotTrail.pop()?.remove();this.slotted?.remove(),this.slotted=void 0}}var n;let o;!function(e){e.Render="render",e.Execute="execute"}(n||(n={}));const i=new Uint8Array(16);function c(){if(!o&&(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(i)}var s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const l=[];for(let e=0;e<256;++e)l.push((e+256).toString(16).slice(1));function h(e,t=0){return(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase()}function u(e){if(!function(e){return"string"==typeof e&&s.test(e)}(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r}function p(e,t,r){function a(e,a,n,o){var i;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof a&&(a=u(a)),16!==(null===(i=a)||void 0===i?void 0:i.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+e.length);if(c.set(a),c.set(e,a.length),c=r(c),c[6]=15&c[6]|t,c[8]=63&c[8]|128,n){o=o||0;for(let e=0;e<16;++e)n[o+e]=c[e];return n}return h(c)}try{a.name=e}catch(e){}return a.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",a.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",a}function d(e){return 14+(e+64>>>9<<4)+1}function f(e,t){const r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function y(e,t,r,a,n,o){return f((i=f(f(t,e),f(a,o)))<<(c=n)|i>>>32-c,r);var i,c}function g(e,t,r,a,n,o,i){return y(t&r|~t&a,e,t,n,o,i)}function k(e,t,r,a,n,o,i){return y(t&a|r&~a,e,t,n,o,i)}function b(e,t,r,a,n,o,i){return y(t^r^a,e,t,n,o,i)}function m(e,t,r,a,n,o,i){return y(r^(t|~a),e,t,n,o,i)}p("v3",48,(function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){const t=[],r=32*e.length,a="0123456789abcdef";for(let n=0;n<r;n+=8){const r=e[n>>5]>>>n%32&255,o=parseInt(a.charAt(r>>>4&15)+a.charAt(15&r),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[d(t)-1]=t;let r=1732584193,a=-271733879,n=-1732584194,o=271733878;for(let t=0;t<e.length;t+=16){const i=r,c=a,s=n,l=o;r=g(r,a,n,o,e[t],7,-680876936),o=g(o,r,a,n,e[t+1],12,-389564586),n=g(n,o,r,a,e[t+2],17,606105819),a=g(a,n,o,r,e[t+3],22,-1044525330),r=g(r,a,n,o,e[t+4],7,-176418897),o=g(o,r,a,n,e[t+5],12,1200080426),n=g(n,o,r,a,e[t+6],17,-1473231341),a=g(a,n,o,r,e[t+7],22,-45705983),r=g(r,a,n,o,e[t+8],7,1770035416),o=g(o,r,a,n,e[t+9],12,-1958414417),n=g(n,o,r,a,e[t+10],17,-42063),a=g(a,n,o,r,e[t+11],22,-1990404162),r=g(r,a,n,o,e[t+12],7,1804603682),o=g(o,r,a,n,e[t+13],12,-40341101),n=g(n,o,r,a,e[t+14],17,-1502002290),a=g(a,n,o,r,e[t+15],22,1236535329),r=k(r,a,n,o,e[t+1],5,-165796510),o=k(o,r,a,n,e[t+6],9,-1069501632),n=k(n,o,r,a,e[t+11],14,643717713),a=k(a,n,o,r,e[t],20,-373897302),r=k(r,a,n,o,e[t+5],5,-701558691),o=k(o,r,a,n,e[t+10],9,38016083),n=k(n,o,r,a,e[t+15],14,-660478335),a=k(a,n,o,r,e[t+4],20,-405537848),r=k(r,a,n,o,e[t+9],5,568446438),o=k(o,r,a,n,e[t+14],9,-1019803690),n=k(n,o,r,a,e[t+3],14,-187363961),a=k(a,n,o,r,e[t+8],20,1163531501),r=k(r,a,n,o,e[t+13],5,-1444681467),o=k(o,r,a,n,e[t+2],9,-51403784),n=k(n,o,r,a,e[t+7],14,1735328473),a=k(a,n,o,r,e[t+12],20,-1926607734),r=b(r,a,n,o,e[t+5],4,-378558),o=b(o,r,a,n,e[t+8],11,-2022574463),n=b(n,o,r,a,e[t+11],16,1839030562),a=b(a,n,o,r,e[t+14],23,-35309556),r=b(r,a,n,o,e[t+1],4,-1530992060),o=b(o,r,a,n,e[t+4],11,1272893353),n=b(n,o,r,a,e[t+7],16,-155497632),a=b(a,n,o,r,e[t+10],23,-1094730640),r=b(r,a,n,o,e[t+13],4,681279174),o=b(o,r,a,n,e[t],11,-358537222),n=b(n,o,r,a,e[t+3],16,-722521979),a=b(a,n,o,r,e[t+6],23,76029189),r=b(r,a,n,o,e[t+9],4,-640364487),o=b(o,r,a,n,e[t+12],11,-421815835),n=b(n,o,r,a,e[t+15],16,530742520),a=b(a,n,o,r,e[t+2],23,-995338651),r=m(r,a,n,o,e[t],6,-198630844),o=m(o,r,a,n,e[t+7],10,1126891415),n=m(n,o,r,a,e[t+14],15,-1416354905),a=m(a,n,o,r,e[t+5],21,-57434055),r=m(r,a,n,o,e[t+12],6,1700485571),o=m(o,r,a,n,e[t+3],10,-1894986606),n=m(n,o,r,a,e[t+10],15,-1051523),a=m(a,n,o,r,e[t+1],21,-2054922799),r=m(r,a,n,o,e[t+8],6,1873313359),o=m(o,r,a,n,e[t+15],10,-30611744),n=m(n,o,r,a,e[t+6],15,-1560198380),a=m(a,n,o,r,e[t+13],21,1309151649),r=m(r,a,n,o,e[t+4],6,-145523070),o=m(o,r,a,n,e[t+11],10,-1120210379),n=m(n,o,r,a,e[t+2],15,718787259),a=m(a,n,o,r,e[t+9],21,-343485551),r=f(r,i),a=f(a,c),n=f(n,s),o=f(o,l)}return[r,a,n,o]}(function(e){if(0===e.length)return[];const t=8*e.length,r=new Uint32Array(d(t));for(let a=0;a<t;a+=8)r[a>>5]|=(255&e[a/8])<<a%32;return r}(e),8*e.length))}));var v={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function w(e,t,r){if(v.randomUUID&&!e)return v.randomUUID();const a=(e=e||{}).random||(e.rng||c)();return a[6]=15&a[6]|64,a[8]=63&a[8]|128,h(a)}function A(e,t,r,a){switch(e){case 0:return t&r^~t&a;case 1:case 3:return t^r^a;case 2:return t&r^t&a^r&a}}function S(e,t){return e<<t|e>>>32-t}p("v5",80,(function(e){const t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const a=e.length/4+2,n=Math.ceil(a/16),o=new Array(n);for(let t=0;t<n;++t){const r=new Uint32Array(16);for(let a=0;a<16;++a)r[a]=e[64*t+4*a]<<24|e[64*t+4*a+1]<<16|e[64*t+4*a+2]<<8|e[64*t+4*a+3];o[t]=r}o[n-1][14]=8*(e.length-1)/Math.pow(2,32),o[n-1][14]=Math.floor(o[n-1][14]),o[n-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<n;++e){const a=new Uint32Array(80);for(let t=0;t<16;++t)a[t]=o[e][t];for(let e=16;e<80;++e)a[e]=S(a[e-3]^a[e-8]^a[e-14]^a[e-16],1);let n=r[0],i=r[1],c=r[2],s=r[3],l=r[4];for(let e=0;e<80;++e){const r=Math.floor(e/20),o=S(n,5)+A(r,i,c,s)+l+t[r]+a[e]>>>0;l=s,s=c,c=S(i,30)>>>0,i=n,n=o}r[0]=r[0]+n>>>0,r[1]=r[1]+i>>>0,r[2]=r[2]+c>>>0,r[3]=r[3]+s>>>0,r[4]=r[4]+l>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}));const E="captcha-update",R=Symbol("mixins/with-recaptcha");return {C:E,L:a,get R(){return n},W:function(o){if(e.di(o,R))return o;class i extends o{constructor(){super(...arguments),this.recaptchaMethod=n.Render,this.renderString="explicit",this.uuid=w(),this.captchaSlotName=`${this.tagName.toLowerCase()}-captcha-element-${this.uuid}`,this.captchaSlotController=new a(this,this.captchaSlotName)}async insertRecaptchaScript(e=this.renderString,r=this.captchaSiteKey,a=this.captchaAction,n=this.recaptchaMethod){r&&(this.recaptchaController||(this.recaptchaController=new t.b5({siteKey:e||r,action:a})),await this.recaptchaController.loadScript(),this.onRecaptchaLoad(r,a,n))}removeRecaptchaScript(){this.recaptchaController?.destroy(),this.recaptchaController=void 0}onRecaptchaLoad(t=this.captchaSiteKey,r=this.captchaAction,a=this.recaptchaMethod){const o=window.grecaptcha;if(!o||a===n.Execute)return;const i=n=>{this.captchaToken=n,this.dispatchEvent(e.c(E,{token:n,siteKey:t,action:r,recaptchaMethod:a}))};o.enterprise.ready((async()=>{this.captchaWidgetId=o.enterprise.render(this.captchaSlotController.slotted,{action:r||"",sitekey:t||"",theme:e.ae()?"dark":"light",callback:i,"expired-callback":i,"error-callback":i})}))}async getRecaptchaToken(e=this.captchaAction,r=this.captchaSiteKey){if(this.recaptchaMethod=n.Execute,this.captchaToken=void 0,!window.grecaptcha?.enterprise?.execute)throw"reCAPTCHA not ready or site key not set.";if(!e||!r)throw new Error("reCAPTCHA action or site key is not provided.");this.recaptchaController||(this.recaptchaController=new t.b5({siteKey:r,action:e}));try{const t=await this.recaptchaController.generateToken(e);return this.captchaToken=t,t}catch(e){throw`Error in reCAPTCHA token retrieval: ${e}`}}resetRecaptcha(e=this.recaptchaMethod){const t=window.grecaptcha;t&&e!==n.Execute&&void 0!==this.captchaWidgetId&&t.enterprise.ready((async()=>{t.enterprise.reset(this.captchaWidgetId),this.captchaToken=void 0}))}async getRecaptchaTokenSafe(e,t){let r=null;try{r=(await this.getRecaptchaToken(e,t))??null}catch(e){r=null}return r}dispatchRecaptchaFailureAlert(){const t=e.c("faceplate-alert",{level:e.a5.error,message:"An error occurred. Please disable any extensions or try using a different web browser to continue.",cause:"recaptcha-failure"});this.dispatchEvent(t)}renderRecaptcha(e=this.captchaSiteKey,t=this.recaptchaMethod){return e?t===n.Execute?r.A:r.x`<slot name="${this.captchaSlotName}"></slot>`:r.A}renderRecaptchaIn(e,t=this.captchaSiteKey,a=this.recaptchaMethod){r.B(this.renderRecaptcha(t,a),e)}}return i[R]=!0,e._([e.n({type:String,attribute:"captcha-action"})],i.prototype,"captchaAction",void 0),e._([e.n({type:String,attribute:"captcha-site-key"})],i.prototype,"captchaSiteKey",void 0),e._([e.n({type:String,attribute:"captcha-method"})],i.prototype,"recaptchaMethod",void 0),e._([e.n({type:String,attribute:"render-string"})],i.prototype,"renderString",void 0),e._([e.h()],i.prototype,"captchaToken",void 0),i}};}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");
SML.dm("B5l4afN3bV",["Dw4vb8Yfbm"],(async a=>{const{svg:m}=a.a();return{c:a.m(m`<path d="M10 1a9 9 0 00-9 9c0 1.947.79 3.58 1.935 4.957L.231 17.661A.784.784 0 00.785 19H10a9 9 0 009-9 9 9 0 00-9-9zm0 16.2H6.162c-.994.004-1.907.053-3.045.144l-.076-.188a36.981 36.981 0 002.328-2.087l-1.05-1.263C3.297 12.576 2.8 11.331 2.8 10c0-3.97 3.23-7.2 7.2-7.2s7.2 3.23 7.2 7.2-3.23 7.2-7.2 7.2zm5.2-7.2a1.2 1.2 0 11-2.4 0 1.2 1.2 0 012.4 0zm-4 0a1.2 1.2 0 11-2.4 0 1.2 1.2 0 012.4 0zm-4 0a1.2 1.2 0 11-2.4 0 1.2 1.2 0 012.4 0z"></path>`,"0 0 20 20","chat")}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./BOFc1KQJc-.js",import.meta.url,"BOFc1KQJc-");SML.di("./C5bRok1J9n.js",import.meta.url,"C5bRok1J9n");SML.di("./Czk9z15SR1.js",import.meta.url,"Czk9z15SR1");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./DMVINMWPkT.js",import.meta.url,"DMVINMWPkT");SML.di("./CvmCFjWH38.js",import.meta.url,"CvmCFjWH38");SML.di("./B5l4afN3bV.js",import.meta.url,"B5l4afN3bV");SML.di("./BIzQFHISzm.js",import.meta.url,"BIzQFHISzm");SML.di("./CuOyDBsRWL.js",import.meta.url,"CuOyDBsRWL");SML.di("./CjgEd4y4FT.js",import.meta.url,"CjgEd4y4FT");SML.di("./iewwAXEto0.js",import.meta.url,"iewwAXEto0");SML.di("./BM4eKBOTt3.js",import.meta.url,"BM4eKBOTt3");SML.di("./C6UOB_RPC4.js",import.meta.url,"C6UOB_RPC4");SML.di("./C_bmnG8wYl.js",import.meta.url,"C_bmnG8wYl");SML.di("./B-zFJtiar6.js",import.meta.url,"B-zFJtiar6");SML.di("./CG8L8PJoXS.js",import.meta.url,"CG8L8PJoXS");SML.di("./O6qhDxcY8s.js",import.meta.url,"O6qhDxcY8s");SML.di("./C8QDHFSIkY.js",import.meta.url,"C8QDHFSIkY");SML.di("./xrDbp1ee_h.js",import.meta.url,"xrDbp1ee_h");SML.di("./Z0tk4vmzIQ.js",import.meta.url,"Z0tk4vmzIQ");SML.di("./znAVeSwIf_.js",import.meta.url,"znAVeSwIf_");SML.di("./Cy2cpc6ZDy.js",import.meta.url,"Cy2cpc6ZDy");SML.di("./Dc4r6aHTbv.js",import.meta.url,"Dc4r6aHTbv");SML.di("./RXNEUFNiHt.js",import.meta.url,"RXNEUFNiHt");SML.di("./D_g7f2Ewyi.js",import.meta.url,"D_g7f2Ewyi");SML.di("./DVCQM8tfVd.js",import.meta.url,"DVCQM8tfVd");SML.di("./E3QE3c4_Ye.js",import.meta.url,"E3QE3c4_Ye");SML.di("./C17omQ_RhR.js",import.meta.url,"C17omQ_RhR");SML.di("./DasPtA-dN5.js",import.meta.url,"DasPtA-dN5");SML.di("./Dh8G_lEIvS.js",import.meta.url,"Dh8G_lEIvS");
SML.dm("B5zjeOvyDF",["Dw4vb8Yfbm","BOFc1KQJc-","C5bRok1J9n","Czk9z15SR1","5r73EsgItq","DMVINMWPkT","CvmCFjWH38","B5l4afN3bV","BIzQFHISzm","CuOyDBsRWL","CjgEd4y4FT","iewwAXEto0","BM4eKBOTt3","C6UOB_RPC4","C_bmnG8wYl","B-zFJtiar6","CG8L8PJoXS","O6qhDxcY8s","C8QDHFSIkY","xrDbp1ee_h","Z0tk4vmzIQ","RXNEUFNiHt","D_g7f2Ewyi","DVCQM8tfVd","E3QE3c4_Ye","C17omQ_RhR","DasPtA-dN5","Dh8G_lEIvS","znAVeSwIf_","Cy2cpc6ZDy","Dc4r6aHTbv"],(async(e,t,i,a,o,n,r,s,l,d,m,h,c,u,p,k,R,N,I,T,g,A,b,E,S,v,C,P)=>{let O=class extends a.M{constructor(){super(...arguments),this.hasParent=!1,this.pubsub=new e.u(this),this.handleCommentUpdate=({commentId:a,action:o,value:n})=>{if(a===this.thingId)switch(o){case t.C.lock:this.isLocked=Boolean(n);break;case t.C.sticky:this.isStickied=Boolean(n);break;case t.C.distinguishAsMod:this.distinguishedAs=n?e.bl.Moderator:void 0;break;case t.C.distinguishAsAdmin:this.distinguishedAs=n?e.bl.Admin:void 0;break;case t.C.approve:case t.C.approveOptimistic:this.isRemoved=!1,this.hasRemovalReason=!1,this.verdict=e.af.ModApproved,this.itemState=i.M.APPROVED,this.hasReports=!1;break;case t.C.remove:case t.C.removeAsSpam:case t.C.confirmRemoval:case t.C.removeOptimistic:case t.C.removeAsSpamOptimistic:case t.C.confirmRemovalOptimistic:this.isRemoved=!0,this.verdict=e.af.ModRemoved,this.itemState=i.M.REMOVED,this.hasReports=!1;break;case t.C.addRemovalReason:this.hasRemovalReason=Boolean(n);break;case t.C.ignoreReports:this.isReportingIgnored=Boolean(n),n&&(this.isRemoved=!1,this.verdict=e.af.ModApproved,this.itemState=i.M.APPROVED)}}}get isStickyable(){return super.isStickyable&&this.isCurrentUserAuthor&&!this.hasParent}connectedCallback(){super.connectedCallback(),this.pubsub.subscribe(e.T.CommentUpdated,this.handleCommentUpdate)}renderActions(){return [this.renderConfirmRemovalAction(),this.renderApproveAction(),this.renderRemoveAction(),this.isContentLevelModsCommsEnabled?this.renderShareToModChatAction(this.modContentDiscussionContext):null,this.renderSpamAction(),this.renderIgnoreReportsAction(),this.renderUnignoreReportsAction(),this.renderAddRemovalReasonAction(),this.renderDistinguishAction(),this.renderUndistinguishAction(),this.renderStickyAction("Sticky comment"),this.renderUnstickyAction("Unsticky comment"),this.renderLockAction("Lock comment"),this.renderUnlockAction("Unlock comment"),this.renderCopyLinkAction()];}};e._([e.n({type:Boolean,attribute:"has-parent"})],O.prototype,"hasParent",void 0),O=e._([e.e("shreddit-comment-mod-actions-menu")],O);let D=class extends o.s{constructor(){super(...arguments),this.feedViewType=e.ag.ModQueueCompactView,this.viewContext=T.P.CommentsPage,this.itemState=i.M.UNMODERATED,this.hasReports=!1,this.isModMode=!1,this.isRemoved=!1,this.isDeleted=!1,this.isLocked=!1,this.isStickied=!1,this.isHighlighted=!1,this.isCurrentUserAuthor=!1,this.hasParent=!1,this.isIconOnly=!1,this.hasRemovalReason=!1,this.permalink="",this.isDesktopViewport=!1,this.isSpamFilteredPost=!1,this.isProfilePost=!1,this.isPromotedPost=!1,this.hasFlairPermissions=!1,this.areHighlightsEnabled=!1,this.hideInlineActions=!1,this.isSmartEscalations=!1,this.isContentLevelModsCommsEnabled=!1,this.modContentDiscussionContext=void 0,this.isFeedNoApproveEnabled=!1,this.focusChatTextareaFn=r.f,this.moderationState=i.M.UNMODERATED,this.pubsub=new e.u(this),this._handleThingUpdate=e=>{let a="";if("awardOnContentId"in e?a=e.awardOnContentId:"commentId"in e?a=e.commentId:"postId"in e&&(a=e.postId),a!==this.thingId)return;const{value:o}=e;switch(e.action){case g.a.approve:case t.C.approve:case N.A.approve:case t.C.approveOptimistic:this.hasRemovalReason=!1,this.isRemoved=!1,this.moderationState=i.M.APPROVED;break;case g.a.remove:case g.a.removeAsSpam:case g.a.confirmRemoval:case t.C.remove:case t.C.removeAsSpam:case t.C.confirmRemoval:case N.A.remove:case N.A.confirmRemoval:case t.C.removeOptimistic:case t.C.removeAsSpamOptimistic:case t.C.confirmRemovalOptimistic:this.isRemoved=!0,this.moderationState=i.M.REMOVED;break;case g.a.addRemovalReason:case t.C.addRemovalReason:this.hasRemovalReason=!0;break;case g.a.updateHighlightedPost:this.isHighlighted=o;break;case g.a.lock:case t.C.lock:this.isLocked=o;break;case g.a.delete:this.isDeleted=o;break;case g.a.sticky:case t.C.sticky:this.isStickied=o}}}get itemType(){return this.thingId?R.i(this.thingId):null}get isPost(){return this.itemType===e.M.Post}get isCompactView(){return this.feedViewType===e.ag.CompactView}get isOnModqueuePage(){return this.viewContext===T.P.ModQueue||this.viewContext===T.P.ModQueueAll}get isApproved(){return this.moderationState===i.M.APPROVED}get shouldShowConfirmRemoval(){return i.a(this.moderationState,this.isSpamFilteredPost)}get shouldShowActionInline(){return i.b(this.viewContext,this.feedViewType)&&!this.isIconOnly&&!this.hideInlineActions}get isStickyable(){const e=!(this.viewContext===T.P.ProfileFeed||this.viewContext===T.P.ProfileFeed2),t=this.isCurrentUserAuthor&&!this.hasParent;return this.isPost?e:e&&t}get itemTopic(){switch(this.itemType){case e.M.Award:return e.T.AwardOnContentUpdated;case e.M.Comment:return e.T.CommentUpdated;case e.M.Post:return e.T.PostUpdated;default:return null}}connectedCallback(){super.connectedCallback(),this.moderationState=this.itemState,this.itemTopic&&this.pubsub.subscribe(this.itemTopic,this._handleThingUpdate)}getApproveButtonAppearance(){const e=k.ak()?"bordered":"secondary";return this.isCompactView?e:this.shouldShowConfirmRemoval||this.hasReports?"primary":(this.moderationState,i.M.REMOVED,e)}renderApproveAction(){return (this.isModMode||this.isOnModqueuePage)&&i.c(this.moderationState)?this.isFeedNoApproveEnabled&&!this.isOnModqueuePage&&this.moderationState===i.M.UNMODERATED?null:o.x` <mod-action-button screen-reader-content="${"Approve content"}" data-mod-action="${I.M.ApproveContent}" button-appearance="${this.getApproveButtonAppearance()}" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center">${l.c({attributes:{"aria-hidden":"true"},size:o.I.Small})}</span> <span slot="text">${"Approve"}</span> </mod-action-button> `:null;}renderRemoveAction(){return (this.isModMode||this.isOnModqueuePage)&&i.d(this.moderationState)?this.isFeedNoApproveEnabled&&!this.isOnModqueuePage&&this.moderationState===i.M.UNMODERATED?null:o.x` <mod-action-button screen-reader-content="${"Remove content"}" data-mod-action="${I.M.RemoveContent}" button-appearance="${k.ak()?"bordered":"secondary"}" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center">${e.al({attributes:{"aria-hidden":"true"},size:o.I.Small})}</span> <span slot="text"> ${"Remove"} </span> </mod-action-button> `:null;}renderConfirmRemovalAction(){return (this.isModMode||this.isOnModqueuePage)&&this.shouldShowConfirmRemoval?o.x` <mod-action-button screen-reader-content="${"Confirm Removal"}" data-mod-action="${I.M.ConfirmRemoval}" button-appearance="${k.ak()?"bordered":"secondary"}" ?show-full-buttons="${!this.isIconOnly}" thing-id="${e.ad(this.thingId)}" ?smart-escalations-tracking="${this.isSmartEscalations}"> <span slot="icon" class="flex justify-center">${e.al({attributes:{"aria-hidden":"true"},size:o.I.Small})}</span> <span slot="text"> ${"Confirm Removal"} </span> </mod-action-button> `:null;}renderSpamAction(){return i.e({moderationState:this.moderationState,isSpamFilteredPost:this.isSpamFilteredPost,isRemoved:this.isRemoved,isPromotedPost:this.isPromotedPost})&&this.shouldShowActionInline?o.x` <mod-action-button screen-reader-content="${"Remove content as spam"}" data-mod-action="${I.M.RemoveContentAsSpam}" button-appearance="plain" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center">${d.s({attributes:{"aria-hidden":"true"},size:o.I.Small})}</span> <span slot="text"> ${"Spam"} </span> </mod-action-button> `:null;}renderShareToModChatAction(){if(!i.f({isPromotedPost:this.isPromotedPost})||!this.isContentLevelModsCommsEnabled||!this.modContentDiscussionContext?.modChatChannel||!this.isOnModqueuePage||this.isOnModqueuePage&&!this.shouldShowActionInline&&!this.modContentDiscussionContext.modContentDiscussion)return null;let e=this.modContentDiscussionContext?.modContentDiscussion?`${A.g(this.modContentDiscussionContext.modContentDiscussion.chatChannel?.roomId,this.modContentDiscussionContext.modContentDiscussion.chatMessage?.id)}/thread`:A.a(this.modContentDiscussionContext?.modChatChannel?.roomId);this.modContentDiscussionContext?.modContentDiscussion||(e+=`?draft=${encodeURIComponent("https://www.reddit.com"+this.permalink)}`);const t=this.modContentDiscussionContext?.modContentDiscussion?I.M.ViewChatThread:I.M.ShareToModChat,a=this.modContentDiscussionContext?.modContentDiscussion?"Open chat thread":"Share to mod chat",n=this.modContentDiscussionContext?.modContentDiscussion?"Open chat thread":"Share to mod chat";return o.x` <faceplate-tracker source="moderator" action="click" noun="${this.modContentDiscussionContext?.eventContext?.noun}" data-faceplate-tracking-context="${JSON.stringify({subreddit:{id:this.modContentDiscussionContext?.eventContext?.subredditId,name:this.modContentDiscussionContext?.eventContext?.subredditName},post:{id:this.modContentDiscussionContext?.eventContext?.postId},...(this.modContentDiscussionContext?.eventContext?.roomId && {chat:{id:this.modContentDiscussionContext?.eventContext?.roomId}}),...(this.modContentDiscussionContext?.eventContext?.commentId && {comment:{id:this.modContentDiscussionContext?.eventContext?.commentId}})})}" slot="mod-share-to-mod-chat"> <share-to-mod-chat-coachmark location="${this.modContentDiscussionContext?.modContentDiscussion?"modQueueChat":"modQueue"}" view-context="${this.viewContext}"> <reddit-chat-anchor> <a href="${e}"> <div class="relative"> <mod-action-button screen-reader-content="${a}" button-appearance="plain" data-mod-action="${t}"> <span slot="icon" class="flex justify-center"> ${s.c({attributes:{"aria-hidden":"true"},size:o.I.Small})} </span> <span slot="text"> ${n} </span> </mod-action-button> </div> </a> </reddit-chat-anchor> </share-to-mod-chat-coachmark> </faceplate-tracker> `;}renderFlairAction(){return this.isPost&&this.shouldShowActionInline?o.x` <mod-action-button screen-reader-content="${"Open post flair modal"}" data-mod-action="${I.M.OpenEditPostFlairModal}" button-appearance="plain" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center">${m.t({attributes:{"aria-hidden":"true"},size:o.I.Small})}</span> <span slot="text"> ${"Flair"} </span> </mod-action-button>`:null;}renderAddRemovalReasonAction(){return (this.isModMode||this.isOnModqueuePage)&&this.itemType!==e.M.Award&&i.s(this.moderationState,this.hasRemovalReason,this.isSpamFilteredPost,this.isProfilePost)?o.x` <mod-action-button screen-reader-content="${"Add removal reason"}" data-mod-action="${I.M.AddRemovalReason}" button-appearance="${k.ak()?"bordered":"secondary"}" ?show-full-buttons="${!0}"> <span slot="icon" class="flex justify-center">${n.a({attributes:{"aria-hidden":"true"},size:o.I.Small})}</span> <span slot="text"> ${"Add removal reason"} </span> </mod-action-button> ${this.isIconOnly?o.x`<div class="separator"></div>`:null} `:null;}renderCopyLinkAction(){return this.shouldShowActionInline?this.isPost?o.x`<shreddit-post-share-button ?use-button="${!0}" ?is-desktop-viewport="${this.isDesktopViewport}" permalink="${this.permalink}" size="${e.q.Small}" ?show-full-buttons="${!this.isIconOnly}"></shreddit-post-share-button>`:o.x`<shreddit-comment-share-button slot="comment-share" ?use-button="${!0}" ?is-desktop-viewport="${this.isDesktopViewport}" permalink="${this.permalink}" ?show-full-buttons="${!this.isIconOnly}"></shreddit-comment-share-button>`:null}renderLockAction(){if(!this.shouldShowActionInline||this.isLocked)return null;const e="Lock";return o.x` <mod-action-button screen-reader-content="${e}" data-mod-action="${I.M.Lock}" event-noun="lock" button-appearance="plain" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center"> ${c.l({attributes:{"aria-hidden":"true"},size:o.I.Small})} </span> <span slot="text"> ${e} </span> </mod-action-button>`}renderUnlockAction(){if(!this.shouldShowActionInline||!this.isLocked)return null;const e="Unlock";return o.x` <mod-action-button screen-reader-content="${e}" data-mod-action="${I.M.Unlock}" event-noun="unlock" button-appearance="plain" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center"> ${h.l({attributes:{"aria-hidden":"true"},size:o.I.Small})} </span> <span slot="text"> ${e} </span> </mod-action-button>`}renderStickyAction(){if(!this.isStickyable||!this.shouldShowActionInline||this.isStickied||this.areHighlightsEnabled)return null;const e="Sticky";return o.x` <mod-action-button screen-reader-content="${e}" data-mod-action="${I.M.Sticky}" event-noun="sticky" button-appearance="plain" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center"> ${p.p({attributes:{"aria-hidden":"true"},size:o.I.Small})} </span> <span slot="text"> ${e} </span> </mod-action-button>`}renderUnstickyAction(){if(!this.isStickyable||!this.shouldShowActionInline||!this.isStickied||this.areHighlightsEnabled)return null;const e="Unsticky";return o.x` <mod-action-button screen-reader-content="${e}" data-mod-action="${I.M.Unsticky}" event-noun="unsticky" button-appearance="plain" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center"> ${u.p({attributes:{"aria-hidden":"true"},size:o.I.Small})} </span> <span slot="text"> ${e} </span> </mod-action-button>`}renderAddToHighlightsAction(){if(!this.isStickyable||!this.shouldShowActionInline||!this.areHighlightsEnabled||!d.H.has(this.viewContext)||this.isHighlighted)return null;const e="Add to highlights";return o.x` <mod-action-button screen-reader-content="${e}" data-mod-action="${I.M.UpdateHighlightedPost}" event-noun="highlight" button-appearance="plain" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center"> ${p.p({attributes:{"aria-hidden":"true"},size:o.I.Small})} </span> <span slot="text"> ${e} </span> </mod-action-button>`}renderRemoveFromHighlightsAction(){if(!(this.isStickyable&&this.shouldShowActionInline&&this.areHighlightsEnabled&&d.H.has(this.viewContext)&&this.isHighlighted))return null;const e="Remove from highlights";return o.x` <mod-action-button screen-reader-content="${e}" data-mod-action="${I.M.RemoveHighlightedPost}" event-noun="unhighlight" button-appearance="plain" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center"> ${u.p({attributes:{"aria-hidden":"true"},size:o.I.Small})} </span> <span slot="text"> ${e} </span> </mod-action-button>`}render(){return o.x` ${this.renderAddRemovalReasonAction()} ${this.renderApproveAction()} ${this.renderRemoveAction()} ${this.renderConfirmRemovalAction()} ${this.renderShareToModChatAction()} ${this.renderSpamAction()} ${this.renderFlairAction()} ${this.renderLockAction()} ${this.renderUnlockAction()} ${this.renderCopyLinkAction()} ${this.renderStickyAction()} ${this.renderUnstickyAction()} ${this.renderAddToHighlightsAction()} ${this.renderRemoveFromHighlightsAction()} `}};D.styles=[e.t,o.a`:host{display:flex;gap:var(--spacer-xs)}.separator{border-left:1px solid rgb(0,0,0,.1);width:1px;height:32px}`],e._([e.n({type:String,attribute:"thing-id"})],D.prototype,"thingId",void 0),e._([e.n({type:String,attribute:"feed-view-type"})],D.prototype,"feedViewType",void 0),e._([e.n({type:String,attribute:"view-context"})],D.prototype,"viewContext",void 0),e._([e.n({type:String,attribute:"item-state"})],D.prototype,"itemState",void 0),e._([e.n({type:Boolean,attribute:"has-reports"})],D.prototype,"hasReports",void 0),e._([e.n({type:Boolean,attribute:"mod-mode"})],D.prototype,"isModMode",void 0),e._([e.n({type:Boolean,attribute:"removed"})],D.prototype,"isRemoved",void 0),e._([e.n({type:Boolean,attribute:"deleted"})],D.prototype,"isDeleted",void 0),e._([e.n({type:Boolean,attribute:"locked"})],D.prototype,"isLocked",void 0),e._([e.n({type:Boolean,attribute:"stickied"})],D.prototype,"isStickied",void 0),e._([e.n({type:Boolean,attribute:"highlighted"})],D.prototype,"isHighlighted",void 0),e._([e.n({type:Boolean,attribute:"current-user-author"})],D.prototype,"isCurrentUserAuthor",void 0),e._([e.n({type:Boolean,attribute:"has-parent"})],D.prototype,"hasParent",void 0),e._([e.n({type:Boolean,attribute:"icon-only"})],D.prototype,"isIconOnly",void 0),e._([e.n({type:Boolean,attribute:"has-removal-reason"})],D.prototype,"hasRemovalReason",void 0),e._([e.n({type:String,attribute:"permalink"})],D.prototype,"permalink",void 0),e._([e.n({type:Boolean,attribute:"is-desktop-viewport"})],D.prototype,"isDesktopViewport",void 0),e._([e.n({type:Boolean,attribute:"is-spam-filtered-post"})],D.prototype,"isSpamFilteredPost",void 0),e._([e.n({type:Boolean,attribute:"is-profile-post"})],D.prototype,"isProfilePost",void 0),e._([e.n({type:Boolean,attribute:"is-promoted-post"})],D.prototype,"isPromotedPost",void 0),e._([e.n({type:Boolean,attribute:"has-flair-permissions"})],D.prototype,"hasFlairPermissions",void 0),e._([e.n({type:Boolean,attribute:"highlights-enabled"})],D.prototype,"areHighlightsEnabled",void 0),e._([e.n({type:Boolean,attribute:"hide-inline-actions"})],D.prototype,"hideInlineActions",void 0),e._([e.n({type:Boolean,attribute:"smart-escalations"})],D.prototype,"isSmartEscalations",void 0),e._([e.n({type:Boolean,attribute:"is-content-level-mods-comms-enabled"})],D.prototype,"isContentLevelModsCommsEnabled",void 0),e._([e.n({type:Object,attribute:"mod-content-discussion-context"})],D.prototype,"modContentDiscussionContext",void 0),e._([e.n({type:Boolean,attribute:"is-feed-no-approve-enabled"})],D.prototype,"isFeedNoApproveEnabled",void 0),e._([e.n({attribute:!1})],D.prototype,"focusChatTextareaFn",void 0),e._([e.h()],D.prototype,"moderationState",void 0),D=e._([e.e("shreddit-mod-inline-actions")],D);let L=class extends a.M{constructor(){super(...arguments),this.isNsfw=!1,this.isSpoiler=!1,this.pubsub=new e.u(this),this._handlePostUpdate=({postId:t,action:a,value:o})=>{if(t===this.thingId)switch(a){case g.a.lock:this.isLocked=Boolean(o);break;case g.a.sticky:this.isStickied=Boolean(o);break;case g.a.updateHighlightedPost:this.isHighlighted=Boolean(o);break;case g.a.distinguishAsMod:this.distinguishedAs=o?e.bl.Moderator:void 0;break;case g.a.approveOptimistic:case g.a.approve:this.isRemoved=!1,this.hasRemovalReason=!1,this.verdict=e.af.ModApproved,this.itemState=i.M.APPROVED,this.hasReports=!1,this.requestUpdate();break;case g.a.remove:case g.a.removeAsSpam:case g.a.confirmRemoval:case g.a.removeOptimistic:case g.a.removeAsSpamOptimistic:case g.a.confirmRemovalOptimistic:this.isRemoved=!0,this.verdict=e.af.ModRemoved,this.itemState=i.M.REMOVED,this.hasReports=!1;break;case g.a.addRemovalReason:this.hasRemovalReason=Boolean(o);break;case g.a.markAsNsfw:this.isNsfw=Boolean(o);break;case g.a.markAsSpoiler:this.isSpoiler=Boolean(o);break;case g.a.ignoreReports:this.isReportingIgnored=Boolean(o),o&&(this.isRemoved=!1,this.verdict=e.af.ModApproved,this.itemState=i.M.APPROVED)}},this._handlePostFlairUpdate=({postId:e,updatedHtml:t})=>{e===this.thingId&&(this.hasPostFlair=!!t&&t.trim().length>0)}}get isStickyable(){return super.isStickyable}connectedCallback(){super.connectedCallback(),this.pubsub.subscribe(e.T.PostUpdated,this._handlePostUpdate),this.pubsub.subscribe(e.T.PostFlairUpdated,this._handlePostFlairUpdate)}renderMarkAsNsfwAction(){return this.isDeleted||this.isNsfw?null:b.l({leadingIcon:v.n(),label:"Add NSFW tag",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleMarkNsfw)});}renderUnmarkAsNsfwAction(){return this.isDeleted||!this.isNsfw?null:b.l({leadingIcon:S.n(),label:"Remove NSFW tag",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleUnmarkNsfw)});}renderMarkAsSpoilerAction(){return this.isDeleted||this.isSpoiler?null:b.l({leadingIcon:P.c(),label:"Add spoiler tag",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleMarkSpoiler)});}renderUnmarkAsSpoilerAction(){return this.isDeleted||!this.isSpoiler?null:b.l({leadingIcon:C.c(),label:"Remove spoiler tag",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleUnmarkSpoiler)});}renderAdjustCrowdControlAction(){return this.isPromotedPost?null:b.l({leadingIcon:E.c(),label:"Adjust crowd control",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleAdjustCrowdControl)});}renderActions(){return [this.renderConfirmRemovalAction(),this.renderApproveAction(),this.renderRemoveAction(),this.isContentLevelModsCommsEnabled?this.renderShareToModChatAction(this.modContentDiscussionContext):null,this.renderSpamAction(),this.renderIgnoreReportsAction(),this.renderUnignoreReportsAction(),this.renderAddRemovalReasonAction(),this.renderDistinguishAction(),this.renderUndistinguishAction(),this.renderStickyAction("Sticky post"),this.renderUnstickyAction("Unsticky post"),this.renderAddToHighlightsAction(),this.renderRemoveFromHighlightsAction(),this.renderLockAction("Lock comments"),this.renderUnlockAction("Unlock comments"),this.renderEditPostFlairAction(r.a(this.hasPostFlair)),this.renderMarkAsNsfwAction(),this.renderUnmarkAsNsfwAction(),this.renderMarkAsSpoilerAction(),this.renderUnmarkAsSpoilerAction(),this.renderAdjustCrowdControlAction(),this.renderCopyLinkAction()];}};e._([e.n({type:Boolean,attribute:"nsfw"})],L.prototype,"isNsfw",void 0),e._([e.n({type:Boolean,attribute:"spoiler"})],L.prototype,"isSpoiler",void 0),L=e._([e.e("shreddit-post-mod-actions-menu")],L)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./B-zFJtiar6.js",import.meta.url,"B-zFJtiar6");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");
SML.dm("B6sa1lzoK7",["Dw4vb8Yfbm","B-zFJtiar6","5r73EsgItq"],(async(t,e,o)=>{let n=class extends o.s{constructor(){super(...arguments),this.clickLocation=t.D.UNKNOWN,this.enableAdPostHydration=!1,this.storageController=null}async connectedCallback(){await super.connectedCallback(),await this.resolveAdStorageControllerDependencies()}async resolveAdStorageControllerDependencies(){if(!this.enableAdPostHydration)return;const{AdStorageController:t}=await SML.di("./B-zFJtiar6.js",import.meta.url,"B-zFJtiar6").then((function(t){return t.dl}));this.storageController=new t(this)}async disconnectedCallback(){await super.disconnectedCallback()}handleClick(t){this.storageController&&this.enableAdPostHydration&&this.storageController.storeAdDataInStorage();"auxclick"===t.type&&1!==t.button||e.t({el:this,clickLocation:this.clickLocation})}render(){return o.x`<slot @click="${this.handleClick}" @contextmenu="${this.handleClick}" @auxclick="${this.handleClick}"></slot>`}};n.styles=[t.t],t._([t.n({type:String,attribute:"click-location"})],n.prototype,"clickLocation",void 0),t._([t.n({type:Boolean,attribute:"enable-ad-post-hydration"})],n.prototype,"enableAdPostHydration",void 0),n=t._([t.e("click-location-tracker")],n)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");
SML.dm("B9BDZKZMGC",["Dw4vb8Yfbm","5r73EsgItq"],(async(t,s)=>{const e=new DOMParser;let i=class extends s.s{constructor(){super(...arguments),this.postId="",this.flairClass="",this.pubsub=new t.u(this),this.onPostFlairChange=t=>{t.postId===this.postId&&this.renderUpdatedFlair(t.updatedHtml)}}connectedCallback(){super.connectedCallback(),requestAnimationFrame((()=>{this.pubsub.subscribe(t.T.PostFlairUpdated,this.onPostFlairChange)}))}renderUpdatedFlair(t){const s=this.shadowRoot?.querySelector("slot")?.assignedElements({flatten:!0})[0];if(!t&&s)return void s.remove();const i=e.parseFromString(t,"text/html").body.firstChild;if(i){if(this.flairClass&&i instanceof HTMLElement){const t=this.flairClass.split(" ").filter((t=>!!t));i.classList.add(...t)}s?s.replaceWith(i):this.appendChild(i)}}render(){return s.x`<slot></slot>`}};i.styles=[t.t],t._([t.n({type:String,attribute:"post-id"})],i.prototype,"postId",void 0),t._([t.n({type:String,attribute:"flair-class"})],i.prototype,"flairClass",void 0),i=t._([t.e("shreddit-post-flair")],i)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");
SML.dm("BFJyoIhMKv",["Dw4vb8Yfbm"],(async e=>{const a="devplatform",r=a=>{switch(a){case e.au.PostDetail:return"pdp";case e.au.Profile:return"profile";case e.au.Community:return"subreddit";case e.au.Embed:return"embed";case e.au.Home:case e.au.Popular:case e.au.All:case e.au.CustomFeed:case e.au.GeoCuratedFeed:case e.au.UserPosts:case e.au.ModQueue:case e.au.ModQueueAll:case e.au.SearchResults:return"feed";default:return""}};var u;!function(e){e.all="all",e.arena="arena",e.conversation="conversation",e.custom="custom",e.embed="embed",e.home="home",e.modQueue="mod_queue",e.modQueueAll="mod_queue_all",e.news="news",e.popular="popular",e.profile="profile",e.promotedSearchTrend="promoted_search_trend",e.read="read",e.search="search",e.subreddit="subreddit",e.user="user",e.watch="watch"}(u||(u={}));const t=a=>{switch(a){case e.au.All:return u.all;case e.au.ArenaFeed:return u.arena;case e.au.Community:return u.subreddit;case e.au.CustomFeed:case e.au.GeoCuratedFeed:return u.custom;case e.au.Embed:return u.embed;case e.au.Home:return u.home;case e.au.ModQueue:return u.modQueue;case e.au.ModQueueAll:return u.modQueueAll;case e.au.Popular:return u.popular;case e.au.Profile:return u.profile;case e.au.SearchResults:return u.search;case e.au.UserPosts:return u.user;default:return""}};return{D:a,a:(e,a)=>{if(URL.canParse(e)){const r=new URL(e);return r.searchParams.set("entry_point",a),r.toString()}return e},c:e=>({source:a,action:e.action,noun:e.noun,devplatform_custom_post_info:{post_id:e.postId,subreddit_id:e.subredditId,block_type:e.blockType,presentation_context:e.pageType?r(e.pageType):"",feed_type:e.pageType?t(e.pageType):"",watermark:e.watermark,post_chrome:e.post_chrome},devplatform:{runtime:"web",installation_id:e.appInstallationId,app_id:e.appId,app_slug:e.appSlug,app_name:e.appSlug,app_version_number:e.appVersionNumber,public_api_version:e.appPublicApiVersion,internal_entry_point:e.internalEntryPoint||"",app_recommendation_criteria:e.appRecommendationCriteria||""},init_info:e.init_info,request:{user_agent:e.userAgent},post:e.post,definition:e.definition})}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./CNdFOsbHrs.js",import.meta.url,"CNdFOsbHrs");SML.di("./B6sa1lzoK7.js",import.meta.url,"B6sa1lzoK7");SML.di("./BIvvQbZj9p.js",import.meta.url,"BIvvQbZj9p");SML.di("./Bb_6_71M-3.js",import.meta.url,"Bb_6_71M-3");SML.di("./CPSOeCrm6v.js",import.meta.url,"CPSOeCrm6v");SML.di("./B-zFJtiar6.js",import.meta.url,"B-zFJtiar6");SML.di("./w2XkRJ2mzc.js",import.meta.url,"w2XkRJ2mzc");SML.di("./Ctcf-FPPNG.js",import.meta.url,"Ctcf-FPPNG");SML.di("./BlPAB0-vrn.js",import.meta.url,"BlPAB0-vrn");SML.di("./Cxi0lHfX5y.js",import.meta.url,"Cxi0lHfX5y");SML.di("./Z0tk4vmzIQ.js",import.meta.url,"Z0tk4vmzIQ");SML.di("./xrDbp1ee_h.js",import.meta.url,"xrDbp1ee_h");SML.di("./pA9dwrnd0r.js",import.meta.url,"pA9dwrnd0r");SML.di("./Cl1pMDH2OX.js",import.meta.url,"Cl1pMDH2OX");SML.di("./CEs3hLX56z.js",import.meta.url,"CEs3hLX56z");SML.di("./B6Ai7g9fbR.js",import.meta.url,"B6Ai7g9fbR");SML.di("./BXUgRcxEAi.js",import.meta.url,"BXUgRcxEAi");SML.di("./h4Pa0OJr_5.js",import.meta.url,"h4Pa0OJr_5");SML.di("./BIzQFHISzm.js",import.meta.url,"BIzQFHISzm");SML.di("./DFh5Z0Dv0L.js",import.meta.url,"DFh5Z0Dv0L");SML.di("./BtqmVQuPYp.js",import.meta.url,"BtqmVQuPYp");SML.di("./BLrhRle6xP.js",import.meta.url,"BLrhRle6xP");SML.di("./C3-eAP6Oln.js",import.meta.url,"C3-eAP6Oln");SML.di("./DMGDObG7XA.js",import.meta.url,"DMGDObG7XA");SML.di("./C8QDHFSIkY.js",import.meta.url,"C8QDHFSIkY");
SML.dm("BH_5BVBNJs",["Dw4vb8Yfbm","5r73EsgItq","Bb_6_71M-3","CPSOeCrm6v","B-zFJtiar6","w2XkRJ2mzc","Ctcf-FPPNG","BlPAB0-vrn","Cxi0lHfX5y","Z0tk4vmzIQ","xrDbp1ee_h","pA9dwrnd0r","CNdFOsbHrs","B6sa1lzoK7","BIvvQbZj9p","Cl1pMDH2OX","CEs3hLX56z","B6Ai7g9fbR","BXUgRcxEAi","h4Pa0OJr_5","BIzQFHISzm","DFh5Z0Dv0L","BtqmVQuPYp","BLrhRle6xP","C3-eAP6Oln","DMGDObG7XA","C8QDHFSIkY"],(async(e,t,i,s,r,o,a,n,l,d,h,p)=>{class m{constructor(t){this.areItemsLoaded=!1,(this.host=t).addController(this),this.eventController=new e.E(t)}get galleryItemEls(){return Array.from(this.host.querySelectorAll(`.${o.C}`))}async waitUntilImagesLoaded(){return new Promise((e=>{this.areItemsLoaded&&e();let t=0;const i=()=>{t++,t===this.galleryItemEls.length&&(this.areItemsLoaded=!0,e())};this.galleryItemEls.forEach((e=>{const t=e.querySelector("img");t.complete?i():t.onload=()=>{i()}}))}))}handleCarouselArrowClick(t){const i=t.detail.direction===a.C.FORWARDS?n.G.Forward:n.G.Backward,s=function({direction:t,numGalleryItems:i,placement:s,impressionId:r,postId:o,authorId:a,subredditId:n,title:l}){return e.b({source:"gallery",action:"click",noun:t},{gallery:{num_items:i,position:void 0},ad_metadata:{placement:s,impression_id:r},post:{id:o,author_id:a,promoted:!0,subreddit_id:n,title:l,type:e.eH.Gallery}})}({authorId:this.host.authorId,impressionId:this.host.impressionId,numGalleryItems:this.host.galleryItems?.length??0,placement:this.host.placement,postId:this.host.id,subredditId:this.host.subredditId,title:this.host.title,direction:i});e.i(this.host,s)}getActiveSlideIndex(e){const t="SHREDDIT-DYNAMIC-AD-LINK"===e.nodeName?e:e.querySelector("shreddit-dynamic-ad-link"),i=t?.galleryIndex;return void 0===i?null:i}async observeGalleryItems(e){try{await this.waitUntilImagesLoaded()}catch(e){return}this.galleryItemEls.forEach((t=>e.observe(t)))}async setupGalleryViewMediaTracking(){const e=this.createGalleryViewMediaObserver();this.galleryViewMediaObserver=e,await this.observeGalleryItems(this.galleryViewMediaObserver)}async setupPixelImpressionTracking(){const e=this.createImpressionObserver();this.galleryImpressionObserver=e,await this.observeGalleryItems(this.galleryImpressionObserver)}teardownObserver(e){e&&this.galleryItemEls.forEach((t=>e.unobserve(t)))}createImpressionObserver(){return new IntersectionObserver((t=>{t.forEach((t=>{if(!t.isIntersecting)return;const i=this.getActiveSlideIndex(t.target);if(null===i)return;const s=e.c(r.O,{itemIndex:i,postId:this.host.id});this.host.dispatchEvent(s),this.galleryImpressionObserver?.unobserve(t.target)}))}),{threshold:.25})}createGalleryViewMediaObserver(){return new IntersectionObserver((t=>{t.forEach((t=>{if(!t.isIntersecting)return;const i=this.getActiveSlideIndex(t.target);null!==i&&(e.i(this.host,function({galleryIdx:t,galleryData:i,impressionId:s,postId:r}){const o=i[t];if(!o)return null;const a={action_info:{page_type:e.au.PostDetail},post:{id:r,promoted:!0},media:{id:o.media.id,height:o.media.height,width:o.media.width,url:o.outboundUrl},gallery:{id:o.id,position:t,media_ids:i.map((e=>e.media.id)),num_items:i.length},ad_metadata:{impression_id:s}};return e.b({source:"gallery",action:"view",noun:"media"},a)}({galleryData:this.host.galleryItems||[],galleryIdx:i,impressionId:this.host.impressionId,postId:this.host.id})),this.galleryViewMediaObserver?.unobserve(t.target))}))}),{threshold:.2})}async hostConnected(){this.host.galleryItems&&(this.eventController.define("faceplate-carousel:slide",this.handleCarouselArrowClick.bind(this)),await this.setupPixelImpressionTracking(),await this.setupGalleryViewMediaTracking())}hostDisconnected(){this.teardownObserver(this.galleryImpressionObserver),this.teardownObserver(this.galleryViewMediaObserver)}}class u{constructor(e){this.isDown=!1,this.startX=0,this.scrollLeft=0,this.onMouseDown=e=>{this.galleryImagesContainer&&(this.isDown=!0,this.startX=e.pageX-this.galleryImagesContainer.offsetLeft,this.scrollLeft=this.galleryImagesContainer.scrollLeft)},this.unsetIsDown=()=>{this.isDown=!1},this.onMouseMove=e=>{if(!this.galleryImagesContainer)return;if(!this.isDown)return;e.preventDefault();const t=3*(e.pageX-this.galleryImagesContainer.offsetLeft-this.startX);this.galleryImagesContainer.scrollLeft=this.scrollLeft-t},(this.host=e).addController(this)}get hasHorizontalDragBehavior(){return this.host.useLegacyDragNav}get galleryImagesContainer(){return document.querySelector(`.${o.G}`)}setupDesktopDragScroll(){this.galleryImagesContainer?.addEventListener("mousedown",this.onMouseDown),this.galleryImagesContainer?.addEventListener("mouseleave",this.unsetIsDown),this.galleryImagesContainer?.addEventListener("mouseup",this.unsetIsDown),this.galleryImagesContainer?.addEventListener("mousemove",this.onMouseMove)}teardownDesktopDragScroll(){this.galleryImagesContainer?.removeEventListener("mousedown",this.onMouseDown),this.galleryImagesContainer?.removeEventListener("mouseleave",this.unsetIsDown),this.galleryImagesContainer?.removeEventListener("mouseup",this.unsetIsDown),this.galleryImagesContainer?.removeEventListener("mousemove",this.onMouseMove)}hostConnected(){this.host.useLegacyDragNav&&this.galleryImagesContainer&&this.setupDesktopDragScroll()}hostDisconnected(){this.host.useLegacyDragNav&&this.galleryImagesContainer&&this.teardownDesktopDragScroll()}}const c=i.W(t.s);let E=class extends c{constructor(){super(...arguments),this.adEvents=[],this.outboundLinkUrl="",this.isBlank=!1,this.impressionId="0",this.isShoppingAd=!1,this.isHideAdEnabled=!1,this.hidden=!1,this.isMobile=!1,this.useLegacyDragNav=!1,this.shouldTrackPosition=!1,this.isCategoryTakeover=!1,this.isReminderAd=!1,this.isUserLoggedIn=!1,this.shouldSkipInitAdObserverOnStartup=!1,this.isHiddenOnSort=!1,this.isClickDisabled=!1,this._events=new e.E(this),this.toggleableVideoAdController=null,this.galleryTrackingController=new m(this),this.dragScroll=new u(this),this.pubsub=new e.u(this),this.handleRsvpClick=t=>{e.i(this,h.w(this))},this.handleUnRsvpClick=t=>{e.i(this,h.x(this))},this.handleClick=e=>{this.isReminderAd&&this.isUserLoggedIn&&this.handleReminderAdClick(e)},this.handleReminderAdClick=t=>{const i=this.querySelector("ad-reminder-button");if(i?.isReminderSet||!1)return;l.s(t,{includeCommentsPageChecks:!0})||(t.preventDefault(),this.pubsub.publish(e.T.TriggerAdReminderModal,{postId:this.id}))},this.handleStartAdObserver=()=>{this.enableAdObserver(this.getAdObserverConfig())},this.onAdUpdateAction=({action:e,value:t,impressionId:i})=>{this.impressionId===i&&e===d.a.hide&&(this.hidden=t)},this.handleHideOnSort=()=>{this.isHiddenOnSort=!0},this.handleBlockPdpAdClick=({delay:e})=>{this.isClickDisabled=!0,setTimeout((()=>{this.isClickDisabled=!1}),e)},this._trackAdClick=this._events.define("observe-ad-click",(async t=>{await this._activateLeadGenDialog(),s.s({leadGenInfo:this.leadGenInfo,postId:this.id,impressionId:this.impressionId,onSuccess:()=>this.dispatchEvent(e.c(e.f8))})}))}static get styles(){return[e.t]}getAdObserverConfig(){return{events:i.e(this.adEvents),postId:this.id,impressionId:this.impressionId,postElement:this,galleryItems:this.galleryItems?.map((e=>({...e,adEvents:i.e(e.adEvents||[])}))),adType:this.adType}}async connectedCallback(){super.connectedCallback(),this.shouldSkipInitAdObserverOnStartup?window.addEventListener(p.E,this.handleStartAdObserver):this.handleStartAdObserver(),this.pubsub.subscribe(e.T.AdUpdated,this.onAdUpdateAction),this.pubsub.subscribe(e.T.CommentSort,this.handleHideOnSort),this.pubsub.subscribe(e.T.BlockPdpAdClick,this.handleBlockPdpAdClick),this.addEventListener(d.c,this.handleRsvpClick),this.addEventListener(d.b,this.handleUnRsvpClick),this.addEventListener("click",this.handleClick),await this.resolveCarouselDependencies(),await this.resolveVideoAdDependencies()}async disconnectedCallback(){super.disconnectedCallback(),this.adMeasurer&&this.adMeasurer.handleUnload(),this.removeEventListener(d.c,this.handleRsvpClick),this.removeEventListener(d.b,this.handleUnRsvpClick),this.removeEventListener("click",this.handleClick),window.removeEventListener(p.E,this.handleStartAdObserver)}_activateLeadGenDialog(){return s.a({leadGenInfo:this.leadGenInfo})}get shouldRenderCarouselComponent(){return Array.isArray(this.galleryItems)&&!this.isMobile&&!this.useLegacyDragNav}async resolveCarouselDependencies(){this.shouldRenderCarouselComponent&&(await SML.di("./BKX6RFGIsQ.js",import.meta.url,"BKX6RFGIsQ"),this.querySelector("shreddit-gallery-carousel")?.classList.remove("flex"))}async resolveVideoAdDependencies(){if(this.adType!==e.f9.VIDEO)return;const{ToggleableVideoAdController:t}=await SML.di("./BXUgRcxEAi.js",import.meta.url,"BXUgRcxEAi").then((function(e){return e.i}));this.toggleableVideoAdController=new t(this,((e,t)=>{this.adMeasurer&&(this.adMeasurer.dimensions={height:e,width:t})}))}render(){return this.hidden&&this.isHideAdEnabled||this.isHiddenOnSort?t.A:t.x` <div class="${r.j(this.isMobile&&this.placement!==e.aj.COMMENT_TREES&&"mx-md",this.isClickDisabled&&"pointer-events-none")}"> <slot name="full-comments-page-ad-link"></slot> ${this.isCategoryTakeover?t.x` <slot name="ad-format-content"></slot> <slot name="expanded-video-player"></slot> <slot name="disclaimer-text"></slot> `:t.x` <slot name="credit-bar"></slot> <slot name="ad-format-content"></slot> <slot name="call-to-action-row"></slot> <slot name="ad-reminder-bar"></slot> <slot name="expanded-video-player"></slot> `} </div> `}};e._([e.n({type:String,attribute:"post-id"})],E.prototype,"postId",void 0),e._([e.n({type:Array,attribute:"ad-events",reflect:!0})],E.prototype,"adEvents",void 0),e._([e.n({type:Array,attribute:"gallery-items"})],E.prototype,"galleryItems",void 0),e._([e.n({type:String,attribute:"outbound-link-url",reflect:!0})],E.prototype,"outboundLinkUrl",void 0),e._([e.n({type:Boolean,attribute:"is-blank"})],E.prototype,"isBlank",void 0),e._([e.n({type:Object,attribute:"lead-gen-info"})],E.prototype,"leadGenInfo",void 0),e._([e.n({type:String,attribute:"impression-id"})],E.prototype,"impressionId",void 0),e._([e.n({type:String,attribute:"ad-type"})],E.prototype,"adType",void 0),e._([e.n({type:String,attribute:"campaign-id"})],E.prototype,"campaignId",void 0),e._([e.n({type:Boolean,attribute:"is-shopping-ad"})],E.prototype,"isShoppingAd",void 0),e._([e.n({type:Boolean,attribute:"is-hide-ad-enabled"})],E.prototype,"isHideAdEnabled",void 0),e._([e.n({type:Boolean,reflect:!0})],E.prototype,"hidden",void 0),e._([e.n({type:Boolean,attribute:"is-mobile"})],E.prototype,"isMobile",void 0),e._([e.n({type:Boolean,attribute:"use-legacy-drag-nav"})],E.prototype,"useLegacyDragNav",void 0),e._([e.n({type:String,attribute:"subreddit-id"})],E.prototype,"subredditId",void 0),e._([e.n({type:String,attribute:"country-code"})],E.prototype,"countryCode",void 0),e._([e.n({type:String,attribute:"author-id"})],E.prototype,"authorId",void 0),e._([e.n({type:String})],E.prototype,"title",void 0),e._([e.n({type:String})],E.prototype,"domain",void 0),e._([e.n({type:String,attribute:"placement"})],E.prototype,"placement",void 0),e._([e.n({type:Boolean,attribute:"should-track-position"})],E.prototype,"shouldTrackPosition",void 0),e._([e.n({type:String,attribute:"encrypted-tracking-payload"})],E.prototype,"encryptedTrackingPayload",void 0),e._([e.n({type:Array,attribute:"additional-event-metadata"})],E.prototype,"additionalEventMetadata",void 0),e._([e.n({type:String,attribute:"ad-transparency-encoded-data"})],E.prototype,"adTransparencyEncodedData",void 0),e._([e.n({type:Boolean,attribute:"is-category-takeover"})],E.prototype,"isCategoryTakeover",void 0),e._([e.n({type:Boolean,attribute:"is-reminder-ad"})],E.prototype,"isReminderAd",void 0),e._([e.n({type:Boolean,attribute:"user-logged-in"})],E.prototype,"isUserLoggedIn",void 0),e._([e.n({type:String,attribute:"ads-correlation-id"})],E.prototype,"adsCorrelationId",void 0),e._([e.n({type:String,attribute:"overlay-text"})],E.prototype,"overlayText",void 0),e._([e.n({type:String,attribute:"overlay-type"})],E.prototype,"overlayType",void 0),e._([e.n({type:Boolean,attribute:"skip-init-ad-observer-on-startup"})],E.prototype,"shouldSkipInitAdObserverOnStartup",void 0),e._([e.h()],E.prototype,"isHiddenOnSort",void 0),e._([e.h()],E.prototype,"isClickDisabled",void 0),E=e._([e.e("shreddit-comments-page-ad")],E)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./Dr-661gpDM.js",import.meta.url,"Dr-661gpDM");SML.di("./B-zFJtiar6.js",import.meta.url,"B-zFJtiar6");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./D2GdwS8jc7.js",import.meta.url,"D2GdwS8jc7");SML.di("./BhZAdnVq89.js",import.meta.url,"BhZAdnVq89");
SML.dm("BOhFIvFWxC",["Dw4vb8Yfbm","Dr-661gpDM","B-zFJtiar6","5r73EsgItq","D2GdwS8jc7","BhZAdnVq89"],(async(t,e,i,n,s,a)=>{var r;let o=r=class extends e.F{constructor(){super(...arguments),this._setup=!1,this._bbwidth=0,this._fbwidth=0,this._forwardButtonVisible=!0,this._backButtonVisible=!1,this.selectedClasses=["bg-secondary-background-selected","!text-neutral-content-strong","tab-selected"],this.appearance="fill",this.insetHug=!1,this.underline=!1,this._mutationCallback=t=>{for(const e of t)if("attributes"===e.type&&"faceplate-tab-selected"===e.attributeName&&e.target.nodeType===Node.ELEMENT_NODE){e.target.hasAttribute("faceplate-tab-selected")?this._handleTabSelected(e.target):this._handleTabDeselected(e.target)}},this._setupButtons=()=>{this._setup&&(this.backButtonElements[0]?.removeEventListener("click",this._handleBackButtonClick),this.style.removeProperty("--back-button-width"),this.forwardButtonElements[0]?.removeEventListener("click",this._handleForwardButtonClick),this.style.removeProperty("--forward-button-width")),this.backButtonElements[0]instanceof HTMLElement&&(this._backButtonVisible||this.backButton?.removeAttribute("hidden"),this._bbwidth=this.backButton.clientWidth,this._backButtonVisible||this.backButton?.setAttribute("hidden",""),this.style.setProperty("--back-button-width",`${this._bbwidth}px`),this.backButtonElements[0].addEventListener("click",this._handleBackButtonClick)),this.forwardButtonElements[0]instanceof HTMLElement&&(this._forwardButtonVisible||this.forwardButton?.removeAttribute("hidden"),this._fbwidth=this.forwardButton.clientWidth,this._forwardButtonVisible||this.backButton?.setAttribute("hidden",""),this.style.setProperty("--forward-button-width",`${this._fbwidth}px`),this.forwardButtonElements[0].addEventListener("click",this._handleForwardButtonClick))},this._handleContainerScroll=()=>{this._backButtonVisible=0!==Math.floor(this._containerLeft),this._forwardButtonVisible=Math.round(this._containerBaseRight)!==Math.round(this.container?.scrollWidth??0)},this._handleBackButtonClick=t=>{t.preventDefault(),t.stopPropagation();const e=this._tabs,i=this._leftmostVisibleTab,n=e[i];if(null==n)return;let s=n.right-(this.container?.clientWidth??0);i!==e.length-1&&(s+=(this._fbwidth??0)-r.tabSpacing.raw),this.container?.scroll({behavior:"smooth",left:s})},this._handleForwardButtonClick=t=>{t.preventDefault(),t.stopPropagation();const e=this._tabs,i=this._rightmostVisibleTab,n=e[i];if(null==n)return;let s=n.left;0!==i&&(s-=(this._bbwidth??0)+r.tabSpacing.raw),this.container?.scroll({behavior:"smooth",left:s})},this._scrollToSelected=()=>{const t=this._tabs,e=t.findIndex((t=>"true"===t.el.getAttribute("aria-selected"))),i=t[e];if(null==i)return;const n=i.right-i.left,s=(this.container?.clientWidth??0)-(this._bbwidth+this._fbwidth),a=i.left-this._bbwidth-s/2+n/2;this.container?.scroll({behavior:"smooth",left:a})}}connectedCallback(){super.connectedCallback(),this._mutationObserver=new MutationObserver(this._mutationCallback),this._mutationObserver.observe(this,r.mutationObserverOptions)}disconnectedCallback(){super.disconnectedCallback(),this._mutationObserver.disconnect()}firstUpdated(t){super.firstUpdated(t),this._setupAll()}_setupAll(){this._setup&&this.container&&(this.container.removeEventListener("scroll",this._handleContainerScroll),this._resizeObserver?.unobserve(this.container)),this.container?.addEventListener("scroll",this._handleContainerScroll),this.container?.removeEventListener("resize",this._setupAll),this._setupButtons(),this._resizeObserver||(this._resizeObserver=new ResizeObserver(this._handleContainerScroll)),this.container&&this._resizeObserver?.observe(this.container),this._setup||(this.style.setProperty("--anim-duration","0ms"),this._handleContainerScroll(),requestAnimationFrame((()=>{this.style.removeProperty("--anim-duration")}))),this._setup=!0}_handleTabSelected(t){let e=this.selectedClasses;t.classList.contains("tab-bottom-border")&&t.hasAttribute("rpl")&&(e=e?.filter((t=>"bg-secondary-background-selected"!==t))),t.classList.add(...e??[]),t.tabIndex=0,this._scrollToSelected()}_handleTabDeselected(t){t.tabIndex=-1,t.classList.remove(...this.selectedClasses??[])}get _containerBaseWidth(){return this.container?.clientWidth??0}get _containerBaseLeft(){return this.container?.scrollLeft??0}get _containerLeft(){return 0===this._containerBaseLeft?this._containerBaseLeft:this._containerBaseLeft+(this.backButton?.clientWidth??0)+r.tabSpacing.raw}get _containerBaseRight(){return this._containerBaseLeft+this._containerBaseWidth}get _containerRight(){return this._containerBaseRight===this.container?.scrollWidth?this._containerBaseRight:this._containerBaseRight-((this.forwardButton?.clientWidth??0)+r.tabSpacing.raw)}get _rightmostVisibleTab(){const t=this._tabs;let e=0,i=0;for(let i=t.length-1;i>=0;i--)if(t[i]?.isVisible){e=i;break}if(0===e)for(let i=t.length-1;i>=0;i--)if(t[i]?.partiallyVisible){e=i;break}for(const[e,n]of t.entries()){const s=t[i];n.partiallyVisible&&s&&n.right>s.right&&(i=e)}return i<=e&&e<t.length-1?e+1:t[i]?.isVisible&&i!==t.length-1?i+1:i}get _leftmostVisibleTab(){const t=this._tabs;let e=t.length-1,i=t.length-1;for(let i=0;i<t.length;i++)if(t[i]?.isVisible){e=i;break}if(e===t.length-1)for(let i=0;i<t.length;i++)if(t[i]?.partiallyVisible){e=i;break}for(const[e,n]of t.entries()){const s=t[i];n.partiallyVisible&&s&&n.left<s.left&&(i=e)}return i>=e&&e>0?e-1:t[i]?.isVisible&&0!==i?i-1:i}get _tabs(){const{pageNames:t}=this,e=[];for(const n of i.c(this.pages)){const i=t?t[n-1]:`page-${n}`,s=this.shadowRoot.querySelector(`slot[name="${i}"]`).parentElement,a=s.offsetLeft,r=s.offsetLeft+s.offsetWidth,o=a>this._containerLeft&&a<this._containerRight||r<this._containerRight&&r>this._containerLeft,l=a>this._containerLeft&&r<this._containerRight||a<this._containerLeft&&r>this._containerRight;e.push({el:s,left:a,right:r,isVisible:l,partiallyVisible:o})}return e}render(){const e=super.render();return n.x`<div class="container"> ${e} <div class="${t.Z({internalButton:!0,internalForwardButton:!0,hideable:!0,hidden:!this._forwardButtonVisible})}" @resize="${this._setupButtons}"> <slot name="forward-button" @slotchange="${this._setupButtons}"></slot> </div> <div class="${t.Z({internalButton:!0,internalBackButton:!0,hideable:!0,hidden:!this._backButtonVisible})}" @resize="${this._setupButtons}"> <slot name="back-button" @slotchange="${this._setupButtons}"></slot> </div> </div>`}};return o.mutationObserverOptions={childList:!0,subtree:!0,attributes:!0,attributeFilter:["faceplate-tab-selected"]},o.tabSpacing={raw:8},o.backButton=()=>t.o({appearance:"plain",attributes:{type:"button",tabindex:"-1",slot:"back-button"},shape:"pill",size:t.q.Small,leadingIcon:s.c({size:n.I.Small}),screenReaderContent:"back"}),o.forwardButton=()=>t.o({appearance:"plain",attributes:{type:"button",tabindex:"-1",slot:"forward-button"},shape:"pill",size:t.q.Small,leadingIcon:a.c({size:n.I.Small}),screenReaderContent:"forward"}),o.styles=n.a`:host{--plain-background:rgba(255, 255, 255, 0);--anim-duration:300ms;--button-gap:var(--spacer-xs, 8);display:flex;width:fit-content;max-width:100%}@media (prefers-color-scheme:dark){:host{--plain-background:rgba(0, 0, 0, 0)}}@media (prefers-reduced-motion){:host{--anim-duration:0ms}}.hideable{transition:opacity var(--anim-duration,300ms) ease;visibility:visible;opacity:1}.hidden{animation-name:hide-button;animation-duration:var(--anim-duration,300ms);animation-fill-mode:forwards;opacity:0}@keyframes hide-button{from{visiblity:visible}to{visiblity:hidden;z-index:-1}}.container{width:fit-content;max-width:100%;overflow:hidden;display:flex;justify-content:center;align-items:center;flex-direction:row;flex-wrap:nowrap;position:relative}.tablist{display:flex;overflow:auto;align-items:center;flex-flow:row nowrap;gap:var(--button-gap);scroll-behavior:smooth;scrollbar-width:none}.tablist::-webkit-scrollbar{display:none}.tablist:focus-visible{outline:0}[role=tab]{display:flex;flex-shrink:0}.internalButton{position:absolute;top:0;bottom:0;display:flex;align-items:center}.internalForwardButton{inset-inline-end:0;padding-inline-start:var(--button-gap);background-image:linear-gradient(to right,var(--plain-background) 0,var(--color-neutral-background) 30%);cursor:pointer}.internalBackButton{inset-inline-start:0;padding-inline-end:var(--button-gap);background-image:linear-gradient(to left,var(--plain-background) 0,var(--color-neutral-background) 30%);cursor:pointer}:host([inset]) .container{margin:0 var(--spacer-md)}:host([appearance=fill]){--button-gap:0;width:100%}:host([appearance=fill]) .container,:host([appearance=fill]) .tablist{width:inherit}:host([appearance=fill]) [role=tab]{flex-grow:1}:host([underline]) .container::after{position:absolute;display:block;content:'';border-bottom:solid var(--rem1) var(--color-neutral-border-weak);inset-inline:0;bottom:0}`,t._([t.a2(".internalForwardButton")],o.prototype,"forwardButton",void 0),t._([t.a2(".internalBackButton")],o.prototype,"backButton",void 0),t._([t.a2(".tablist")],o.prototype,"container",void 0),t._([t.l({slot:"forward-button"})],o.prototype,"forwardButtonElements",void 0),t._([t.l({slot:"back-button"})],o.prototype,"backButtonElements",void 0),t._([t.h()],o.prototype,"_forwardButtonVisible",void 0),t._([t.h()],o.prototype,"_backButtonVisible",void 0),t._([t.n({attribute:!1})],o.prototype,"selectedClasses",void 0),t._([t.n({attribute:!0})],o.prototype,"appearance",void 0),t._([t.n({attribute:!0,type:Boolean})],o.prototype,"insetHug",void 0),t._([t.n({attribute:!0,type:Boolean})],o.prototype,"underline",void 0),o=r=t._([t.e("faceplate-tabgroup")],o),{get F(){return o}}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./B-zFJtiar6.js",import.meta.url,"B-zFJtiar6");
SML.dm("Bb6e8s2O1k",["Dw4vb8Yfbm","B-zFJtiar6"],(async(e,a)=>{let r=e.Y;const{svg:t}=e.a();return{c:e.m(t`<path d="M13.21 8c-.23 0-.46-.09-.63-.26L10 5.16 7.42 7.74a.9.9 0 01-1.27 0 .9.9 0 010-1.27l3.21-3.21a.9.9 0 011.27 0l3.21 3.21A.894.894 0 0113.21 8zM10 17c-.23 0-.46-.09-.63-.26l-3.21-3.21a.9.9 0 010-1.27.9.9 0 011.27 0l2.58 2.58 2.58-2.58a.9.9 0 011.27 0 .9.9 0 010 1.27l-3.21 3.21c-.17.17-.4.26-.63.26H10z"></path>`,"0 0 20 20","caret-up-down"),r:async function({responseId:t,subredditId:d,contentId:n,modmailVariables:s}){const{data:o,errors:i}=await r({operation:e.O.RenderSavedResponseTemplateBySubredditId,variables:{responseId:t,subredditId:d,variables:{...n?{removalVariables:{contentId:n}}:{},...s?{modmailVariables:s}:{}}}});if(i?.length||"Subreddit"!==o.subredditInfoById?.__typename)throw new Error(a.bC());return o.subredditInfoById?.moderation?.renderSavedResponseTemplate}}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./xrDbp1ee_h.js",import.meta.url,"xrDbp1ee_h");SML.di("./Ctcf-FPPNG.js",import.meta.url,"Ctcf-FPPNG");
SML.dm("BlPAB0-vrn",["Dw4vb8Yfbm","xrDbp1ee_h","Ctcf-FPPNG"],(async(i,a,r)=>{var t;!function(i){i.Forward="forward",i.Backward="backward"}(t||(t={}));const e=(r,t,e)=>i.b({source:"gallery",action:"view",noun:"media"},{...a.g(r),gallery:{num_items:e,position:t}}),n=(r,t,e,n)=>i.b({source:"gallery",action:"click",noun:t},{...a.g(r),gallery:{num_items:n,position:e}});return{get G(){return t},a:e,g:n,h:(a,o,d)=>{const m=n(a,o.detail.direction===r.C.FORWARDS?t.Forward:t.Backward,o.detail.prevPositionIndex,o.detail.num_items),s=e(a,o.detail.currPositionIndex,o.detail.num_items);d&&(m.ad_metadata={impression_id:d},s.ad_metadata={impression_id:d}),i.i(a,m),i.i(a,s)}}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./FQGvCwaizg.js",import.meta.url,"FQGvCwaizg");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./eY7T41bKac.js",import.meta.url,"eY7T41bKac");SML.di("./BYzqEZ3uv3.js",import.meta.url,"BYzqEZ3uv3");SML.di("./jWC3N3n7Al.js",import.meta.url,"jWC3N3n7Al");SML.di("./Bb6e8s2O1k.js",import.meta.url,"Bb6e8s2O1k");SML.di("./CQMf561ZyA.js",import.meta.url,"CQMf561ZyA");
SML.dm("BuM34fxA_u",["Dw4vb8Yfbm","FQGvCwaizg","5r73EsgItq","eY7T41bKac","jWC3N3n7Al","Bb6e8s2O1k","CQMf561ZyA","BYzqEZ3uv3"],(async(e,t,i,a,l,r,s)=>{let o=class extends l.F{constructor(){super(...arguments),this.appearance=s.T.SECONDARY,this.label="",this.clearable=!1,this.multiple=!1,this.required=!1,this.prefix=null,this.helperTextLevel=null,this.helperTextPlaceholder="",this.helperTextAriaLive="polite",this.helperTextMessage="",this.readonly=!1,this.inputRef=e.a3(),this._selectController=new a.S(this),this.focus=()=>{this.inputRef.value?.focus()},this.syncInputValidation=(e=!1)=>{const t=this.options.map((e=>e.value)),i=this.inputRef?.value?.value,a=this.value||this.arbitrary&&i||!this.arbitrary&&t.includes(i);if(this.required&&!a){const t=this.inputRef?.value?._internals.validationMessage;this.dropdownMenu?.hidden&&t&&(e?this.form?.invalidateFieldWithMessage(this.name,t):this.setCustomValidity(t))}else this.form?.invalidateFieldWithMessage(this.name,"")},this.resetFaceplateDirty=()=>{this.removeAttribute("faceplate-dirty")},this.matchOptionsToInput=e=>{if(this.autocomplete&&!this.multiple){const t=e.currentTarget?.value;this.options.forEach((e=>{const i=e.displayText?.toLowerCase().trim();if(this.onFilterOption?this.onFilterOption?.(t,e):i?.startsWith(t.toLowerCase())){if(!t)return e.removeAttribute("hidden"),void(e.matchedText="");e.hasAttribute("hidden")&&e.removeAttribute("hidden"),e.matchedText=e.displayText?.slice(0,t.length)}else e.setAttribute("hidden","")})),this._selectController.focusedIndex=0}},this.clear=e=>{e.preventDefault(),e.stopPropagation(),this._selectController.selectedOptions.forEach((e=>{e.resetSelection()})),this._selectController.value="",this.inputRef.value&&(this.inputRef.value.value="")},this.handleKeyBindings=e=>{this.readonly||this.multiple?e.preventDefault():"Backspace"!==e.key||this.multiple||(this._selectController.value="")},this.getTextField=()=>i.x`<faceplate-text-input ?disabled="${this.disabled}" novalidate ${e.a4(this.inputRef)} appearance="${this.appearance}" role="combobox" aria-controls="menu" aria-expanded="${!this.hidden}" id="trigger" faceplate-popper-trigger aria-label="${this.label}" value="${this._selectController.getSelectedOptionsAsStr()}" ?required="${this.required}" @input="${this.matchOptionsToInput}" suppress-internal-clicks persistent-trailing-icon with-select helper-text-aria-live="${e.ad(this.helperTextAriaLive??void 0)}" helper-text-message="${e.ad(this.helperTextMessage)}" helper-text-level="${e.ad(this.helperTextLevel??void 0)}" helper-text-placeholder="${e.ad(this.helperTextPlaceholder)}" helper-text-screen-reader-msg="${e.ad(this.helperTextScreenReaderMsg)}" aria-autocomplete="list" name="${this.name}" prefix="${e.ad(this.prefix)}"> <span slot="label">${this.label}</span> <slot name="clearButton" slot="clearButton" @click="${this.clear}"></slot> <span slot="trailingIconButton">${r.c({attributes:{"aria-hidden":"true"}})}</span> </faceplate-text-input>`}get referenceElement(){return this.inputRef.value}get selectedOptions(){return this._selectController.selectedOptions}get selectedIndex(){return this._selectController.selectedIndex}get value(){return this._selectController.value}set value(e){e!==this.value&&(this._selectController.value=e)}connectedCallback(){super.connectedCallback(),this.addEventListener("focus",this.resetFaceplateDirty),this.addEventListener("keydown",this.handleKeyBindings)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("focus",this.resetFaceplateDirty),this.removeEventListener("keydown",this.handleKeyBindings)}async firstUpdated(){super.firstUpdated(),this.setupValidationSync()}async setupValidationSync(){const e=await t.c(this);e&&this.isConnected&&(this.inputRef.value?.hasValidationHelpers||this.inputRef.value?.setFormValidationHelpers(e),this.syncInputValidation(),this.addEventListener(e.validationTrigger,(()=>this.syncInputValidation(!0))),e.addEventListener("faceplate-submit",(()=>this.syncInputValidation(!0))))}static get styles(){return i.a`:host{display:inline-block}:host([disabled]){cursor:not-allowed}faceplate-text-input{flex:1}:host([readonly]){caret-color:transparent}faceplate-menu{height:var(--faceplate-select-menu-height,auto);width:var(--faceplate-select-menu-width,auto);max-height:var(--faceplate-select-menu-max-height,auto);max-width:var(--faceplate-select-menu-max-width,auto);overflow:auto}`}render(){return i.x` <faceplate-dropdown-menu ?disabled="${this.disabled}" position="bottom-start" manual-trigger-focus> ${this.getTextField()} <faceplate-menu part="menu" slot="menu" id="menu" ariarole="listbox" faceplate-popper-content disable-auto-focus> <slot></slot> </faceplate-menu> </faceplate-dropdown-menu> `}};e._([e.n({type:String})],o.prototype,"appearance",void 0),e._([e.n({type:String})],o.prototype,"label",void 0),e._([e.n({type:Boolean})],o.prototype,"clearable",void 0),e._([e.n({type:Boolean})],o.prototype,"multiple",void 0),e._([e.n({type:Boolean})],o.prototype,"required",void 0),e._([e.n({type:String})],o.prototype,"prefix",void 0),e._([e.n({type:String})],o.prototype,"autocomplete",void 0),e._([e.n({type:Boolean})],o.prototype,"arbitrary",void 0),e._([e.n({type:String,reflect:!0,attribute:"helper-text-level"})],o.prototype,"helperTextLevel",void 0),e._([e.n({type:String,attribute:"helper-text-placeholder"})],o.prototype,"helperTextPlaceholder",void 0),e._([e.n({type:String,reflect:!0,attribute:"helper-text-aria-live"})],o.prototype,"helperTextAriaLive",void 0),e._([e.n({type:String,attribute:"helper-text-message"})],o.prototype,"helperTextMessage",void 0),e._([e.n({type:String,attribute:"helper-text-screen-reader-msg"})],o.prototype,"helperTextScreenReaderMsg",void 0),e._([e.n()],o.prototype,"onFilterOption",void 0),e._([e.n({type:Boolean})],o.prototype,"readonly",void 0),e._([e.l()],o.prototype,"options",void 0),e._([e.l({selector:"faceplate-option:not([hidden])"})],o.prototype,"visibleOptions",void 0),e._([e.l()],o.prototype,"triggerSlot",void 0),e._([e.a2("faceplate-dropdown-menu")],o.prototype,"dropdownMenu",void 0),o=e._([e.e("faceplate-select-text-input")],o)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");
SML.dm("C17omQ_RhR",["Dw4vb8Yfbm"],(async a=>{const{svg:c}=a.a();return{n:a.m(c`<path d="M10 19a3.29 3.29 0 01-2.333-.965l-5.702-5.702a3.304 3.304 0 010-4.666l5.701-5.702a3.303 3.303 0 014.668 0l5.701 5.702a3.304 3.304 0 010 4.666l-5.701 5.702A3.292 3.292 0 019.998 19H10zm0-16.2c-.383 0-.768.145-1.06.437L3.24 8.94a1.502 1.502 0 000 2.122l5.702 5.702a1.501 1.501 0 002.12 0l5.703-5.702a1.502 1.502 0 000-2.122l-5.702-5.702a1.496 1.496 0 00-1.06-.438H10zM5.834 7.74l-.029.013v1.44l1.23-.545v4.64H8.57V6.711h-.476L5.833 7.74v.001zm8.33 2.751a1.994 1.994 0 00-.665-.638 1.846 1.846 0 00.615-1.381c0-.364-.096-.688-.285-.964a1.884 1.884 0 00-.768-.643 2.45 2.45 0 00-1.05-.227c-.377 0-.73.075-1.051.224a1.906 1.906 0 00-.775.641 1.65 1.65 0 00-.292.965c0 .28.059.545.176.791.107.226.255.425.439.594a1.973 1.973 0 00-.665.641A1.708 1.708 0 009.89 12.4c.21.296.503.533.87.704.367.171.784.257 1.242.257.45 0 .865-.085 1.23-.252a2.15 2.15 0 00.873-.7c.212-.298.319-.634.319-1 0-.333-.088-.642-.264-.917h.003zm-1.338 1.236a.844.844 0 01-.336.282c-.147.07-.305.105-.482.105-.175 0-.335-.034-.48-.1a.836.836 0 01-.342-.279.68.68 0 01-.126-.402.7.7 0 01.123-.405.851.851 0 01.335-.293c.145-.072.31-.109.49-.109.183 0 .347.037.486.11a.83.83 0 01.332.292.72.72 0 010 .8zm-.131-2.757a.733.733 0 01-.284.272.823.823 0 01-.403.1.834.834 0 01-.406-.1.743.743 0 01-.284-1.029.698.698 0 01.285-.257.888.888 0 01.403-.092c.147 0 .284.031.404.092.121.06.214.144.284.256a.708.708 0 01.103.376.743.743 0 01-.103.383z"></path>`,"0 0 20 20","nsfw")}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");
SML.dm("C2hekzTn1k",["Dw4vb8Yfbm"],(async t=>{const e={next:"nextElementSibling",prev:"previousElementSibling"};var r,s;!function(t){t.FEED="feed",t.COMMENTS_PAGE="comments_page"}(r||(r={})),function(t){t.NEXT="next",t.PREV="prev"}(s||(s={}));return{get P(){return s},a:class{constructor(s,n){this.cache={},this.isPostOrComment=t=>["shreddit-comment","shreddit-post","shreddit-ad-post","shreddit-profile-comment"].includes(t?.tagName.toLowerCase()??""),this.traverse=t=>{const e=this.current;this._current?this.findPostOrComment(t):this._current=this.options.getFirstElement(),this.focusElement(e)},this.focusElement=e=>{if(!this.current||e===this.current)return;const s=document.activeElement;this.current?.onHotkeysFocus?this.current.onHotkeysFocus?.({preventScroll:!0}):this.current.hotkeyController?.onFocus?.({preventScroll:!0}),s===document.activeElement&&t.b2(this.current)?.focus(),this.current.style.scrollMarginTop="var(--shreddit-header-height)";const n=this.isCurrentComment?"start":this.options.type===r.COMMENTS_PAGE?"end":"center";this.current.scrollIntoView({behavior:"instant",block:n})},this.findPostOrComment=t=>{let r=this._current;for(let s=0;r&&s<this.options.maxTraversalCount;s++){const s=r,n=this.options.customTraversal?.(t,r);if(r=n??r?.[e[t]]??s.parentElement?.[e[t]],this.options?.customPostOrCommentDetection?.(r)||this.isPostOrComment(r)){this._current=r;break}}},this.host=s,this.host.addController(this),this.options={maxTraversalCount:10,...n}}hostConnected(){}hostDisconnected(){}get current(){return this._current!==this.cache?.rawElement&&(this.cache={rawElement:this._current,postOrComment:this.options?.customPostOrCommentDetection?.(this._current)??this._current}),this.cache?.postOrComment}get isCurrentPost(){return["shreddit-post","shreddit-ad-post"].includes(this.current?.tagName.toLowerCase()??"")}get isCurrentComment(){return"shreddit-comment"===(this.current?.tagName.toLowerCase()??"")}get isCurrentProfileComment(){return"shreddit-profile-comment"===(this.current?.tagName.toLowerCase()??"")}},get b(){return r}}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");
SML.dm("C3-eAP6Oln",["Dw4vb8Yfbm"],(async a=>{const{svg:t}=a.a();return{c:a.m(t`<path d="M6.5 17.9a.898.898 0 01-.636-1.536L12.227 10 5.864 3.636a.898.898 0 010-1.272.898.898 0 011.272 0l7 7a.898.898 0 010 1.272l-7 7a.897.897 0 01-.636.264z"></path>`,"0 0 20 20","chevron-right",!0)}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");
SML.dm("C32iWCYscP",["Dw4vb8Yfbm","5r73EsgItq"],(async(s,e)=>{const t="data-chat-channel-recommendations-element-dismiss",n="click";let i=class extends(s.W(e.s)){constructor(){super(...arguments),this.onDismiss=e=>{this.parentNode?.removeChild(this),e.stopPropagation(),s.aH(s.aI.Dismiss,s.fr.ChatChannelsOnPdp)}}connectedCallback(){super.connectedCallback(),this.addDismissHandlers()}disconnectedCallback(){super.disconnectedCallback(),this.removeDismissHandlers()}addDismissHandlers(){this.querySelector(`[${t}]`)?.addEventListener(n,this.onDismiss)}removeDismissHandlers(){this.querySelector(`[${t}]`)?.removeEventListener(n,this.onDismiss)}render(){return e.x`<slot></slot>`}};i.styles=[s.t],i=s._([s.e("chat-channel-recommendations-wrapper")],i)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./DFEdFtCEna.js",import.meta.url,"DFEdFtCEna");SML.di("./CnDGunUlBx.js",import.meta.url,"CnDGunUlBx");SML.di("./B4_JewVyg-.js",import.meta.url,"B4_JewVyg-");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");
SML.dm("C37QCTsxJM",["Dw4vb8Yfbm","DFEdFtCEna","CnDGunUlBx","B4_JewVyg-","5r73EsgItq"],(async(t,e,n,o,i)=>{let r;const s=new Uint8Array(16);function l(){if(!r&&(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(s)}var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const p=[];for(let t=0;t<256;++t)p.push((t+256).toString(16).slice(1));function c(t,e=0){return(p[t[e+0]]+p[t[e+1]]+p[t[e+2]]+p[t[e+3]]+"-"+p[t[e+4]]+p[t[e+5]]+"-"+p[t[e+6]]+p[t[e+7]]+"-"+p[t[e+8]]+p[t[e+9]]+"-"+p[t[e+10]]+p[t[e+11]]+p[t[e+12]]+p[t[e+13]]+p[t[e+14]]+p[t[e+15]]).toLowerCase()}function u(t){if(!function(t){return"string"==typeof t&&a.test(t)}(t))throw TypeError("Invalid UUID");let e;const n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=255&e,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=255&e,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=255&e,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=255&e,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=255&e,n}function h(t,e,n){function o(t,o,i,r){var s;if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));const e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}(t)),"string"==typeof o&&(o=u(o)),16!==(null===(s=o)||void 0===s?void 0:s.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+t.length);if(l.set(o),l.set(t,o.length),l=n(l),l[6]=15&l[6]|e,l[8]=63&l[8]|128,i){r=r||0;for(let t=0;t<16;++t)i[r+t]=l[t];return i}return c(l)}try{o.name=t}catch(t){}return o.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",o.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",o}function d(t){return 14+(t+64>>>9<<4)+1}function g(t,e){const n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function S(t,e,n,o,i,r){return g((s=g(g(e,t),g(o,r)))<<(l=i)|s>>>32-l,n);var s,l}function A(t,e,n,o,i,r,s){return S(e&n|~e&o,t,e,i,r,s)}function f(t,e,n,o,i,r,s){return S(e&o|n&~o,t,e,i,r,s)}function m(t,e,n,o,i,r,s){return S(e^n^o,t,e,i,r,s)}function w(t,e,n,o,i,r,s){return S(n^(e|~o),t,e,i,r,s)}h("v3",48,(function(t){if("string"==typeof t){const e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(let n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return function(t){const e=[],n=32*t.length,o="0123456789abcdef";for(let i=0;i<n;i+=8){const n=t[i>>5]>>>i%32&255,r=parseInt(o.charAt(n>>>4&15)+o.charAt(15&n),16);e.push(r)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[d(e)-1]=e;let n=1732584193,o=-271733879,i=-1732584194,r=271733878;for(let e=0;e<t.length;e+=16){const s=n,l=o,a=i,p=r;n=A(n,o,i,r,t[e],7,-680876936),r=A(r,n,o,i,t[e+1],12,-389564586),i=A(i,r,n,o,t[e+2],17,606105819),o=A(o,i,r,n,t[e+3],22,-1044525330),n=A(n,o,i,r,t[e+4],7,-176418897),r=A(r,n,o,i,t[e+5],12,1200080426),i=A(i,r,n,o,t[e+6],17,-1473231341),o=A(o,i,r,n,t[e+7],22,-45705983),n=A(n,o,i,r,t[e+8],7,1770035416),r=A(r,n,o,i,t[e+9],12,-1958414417),i=A(i,r,n,o,t[e+10],17,-42063),o=A(o,i,r,n,t[e+11],22,-1990404162),n=A(n,o,i,r,t[e+12],7,1804603682),r=A(r,n,o,i,t[e+13],12,-40341101),i=A(i,r,n,o,t[e+14],17,-1502002290),o=A(o,i,r,n,t[e+15],22,1236535329),n=f(n,o,i,r,t[e+1],5,-165796510),r=f(r,n,o,i,t[e+6],9,-1069501632),i=f(i,r,n,o,t[e+11],14,643717713),o=f(o,i,r,n,t[e],20,-373897302),n=f(n,o,i,r,t[e+5],5,-701558691),r=f(r,n,o,i,t[e+10],9,38016083),i=f(i,r,n,o,t[e+15],14,-660478335),o=f(o,i,r,n,t[e+4],20,-405537848),n=f(n,o,i,r,t[e+9],5,568446438),r=f(r,n,o,i,t[e+14],9,-1019803690),i=f(i,r,n,o,t[e+3],14,-187363961),o=f(o,i,r,n,t[e+8],20,1163531501),n=f(n,o,i,r,t[e+13],5,-1444681467),r=f(r,n,o,i,t[e+2],9,-51403784),i=f(i,r,n,o,t[e+7],14,1735328473),o=f(o,i,r,n,t[e+12],20,-1926607734),n=m(n,o,i,r,t[e+5],4,-378558),r=m(r,n,o,i,t[e+8],11,-2022574463),i=m(i,r,n,o,t[e+11],16,1839030562),o=m(o,i,r,n,t[e+14],23,-35309556),n=m(n,o,i,r,t[e+1],4,-1530992060),r=m(r,n,o,i,t[e+4],11,1272893353),i=m(i,r,n,o,t[e+7],16,-155497632),o=m(o,i,r,n,t[e+10],23,-1094730640),n=m(n,o,i,r,t[e+13],4,681279174),r=m(r,n,o,i,t[e],11,-358537222),i=m(i,r,n,o,t[e+3],16,-722521979),o=m(o,i,r,n,t[e+6],23,76029189),n=m(n,o,i,r,t[e+9],4,-640364487),r=m(r,n,o,i,t[e+12],11,-421815835),i=m(i,r,n,o,t[e+15],16,530742520),o=m(o,i,r,n,t[e+2],23,-995338651),n=w(n,o,i,r,t[e],6,-198630844),r=w(r,n,o,i,t[e+7],10,1126891415),i=w(i,r,n,o,t[e+14],15,-1416354905),o=w(o,i,r,n,t[e+5],21,-57434055),n=w(n,o,i,r,t[e+12],6,1700485571),r=w(r,n,o,i,t[e+3],10,-1894986606),i=w(i,r,n,o,t[e+10],15,-1051523),o=w(o,i,r,n,t[e+1],21,-2054922799),n=w(n,o,i,r,t[e+8],6,1873313359),r=w(r,n,o,i,t[e+15],10,-30611744),i=w(i,r,n,o,t[e+6],15,-1560198380),o=w(o,i,r,n,t[e+13],21,1309151649),n=w(n,o,i,r,t[e+4],6,-145523070),r=w(r,n,o,i,t[e+11],10,-1120210379),i=w(i,r,n,o,t[e+2],15,718787259),o=w(o,i,r,n,t[e+9],21,-343485551),n=g(n,s),o=g(o,l),i=g(i,a),r=g(r,p)}return[n,o,i,r]}(function(t){if(0===t.length)return[];const e=8*t.length,n=new Uint32Array(d(e));for(let o=0;o<e;o+=8)n[o>>5]|=(255&t[o/8])<<o%32;return n}(t),8*t.length))}));var y={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function v(t,e,n){if(y.randomUUID&&!t)return y.randomUUID();const o=(t=t||{}).random||(t.rng||l)();return o[6]=15&o[6]|64,o[8]=63&o[8]|128,c(o)}function b(t,e,n,o){switch(t){case 0:return e&n^~e&o;case 1:case 3:return e^n^o;case 2:return e&n^e&o^n&o}}function C(t,e){return t<<e|t>>>32-e}h("v5",80,(function(t){const e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){const e=unescape(encodeURIComponent(t));t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);const o=t.length/4+2,i=Math.ceil(o/16),r=new Array(i);for(let e=0;e<i;++e){const n=new Uint32Array(16);for(let o=0;o<16;++o)n[o]=t[64*e+4*o]<<24|t[64*e+4*o+1]<<16|t[64*e+4*o+2]<<8|t[64*e+4*o+3];r[e]=n}r[i-1][14]=8*(t.length-1)/Math.pow(2,32),r[i-1][14]=Math.floor(r[i-1][14]),r[i-1][15]=8*(t.length-1)&4294967295;for(let t=0;t<i;++t){const o=new Uint32Array(80);for(let e=0;e<16;++e)o[e]=r[t][e];for(let t=16;t<80;++t)o[t]=C(o[t-3]^o[t-8]^o[t-14]^o[t-16],1);let i=n[0],s=n[1],l=n[2],a=n[3],p=n[4];for(let t=0;t<80;++t){const n=Math.floor(t/20),r=C(i,5)+b(n,s,l,a)+p+e[n]+o[t]>>>0;p=a,a=l,l=C(s,30)>>>0,s=i,i=r}n[0]=n[0]+i>>>0,n[1]=n[1]+s>>>0,n[2]=n[2]+l>>>0,n[3]=n[3]+a>>>0,n[4]=n[4]+p>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}));const I=o.W(i.s);let O=class extends I{constructor(){super(...arguments),this.authFlow=t.A.Unknown,this.locale="en-EN",this.disableGoogleSSOButton=!1,this.disableAppleSSOButton=!1,this.subscribeToEmailDigest=!1,this.shouldNotTrackContinueWithGoogleTelemetry=!1,this.googleApiController=new n.G(this,n.G.ButtonUX),this.googleSSOButtonWidth=0,this.googleSlotName=`${this.tagName.toLowerCase()}-google-${v()}`,this.googleSlotController=new o.L(this,this.googleSlotName),this.appleSlotName=`${this.tagName.toLowerCase()}-apple-${v()}`,this.appleSlotController=new o.L(this,this.appleSlotName),this.authFlowController=new e.A(this),this.googleSigninBoundOnClick=this.onContinueWithGoogleClick.bind(this),this.renderGoogleSSOButton=()=>{const t=this.googleSlotController.slotted;if(t?.classList.add("h-[40px]"),0===this.container.clientWidth)return;const e=Math.max(Math.min(this.container.clientWidth,400),251);if(e===this.googleSSOButtonWidth)return;this.googleSSOButtonWidth=e,window.google?.accounts.id.renderButton(t,{logo_alignment:"left",size:"large",shape:"pill",text:"continue_with",theme:"outline",type:"standard",locale:this.locale,width:this.googleSSOButtonWidth,state:this.googleSlotName,click_listener:this.googleSigninBoundOnClick});const n=t?.querySelector("iframe");n?.setAttribute("tabindex","0")},this.onGoogleCredentialResponse=async e=>{if(!this.isConnected)return;const o=this.getActiveElement();if(o===document.body||this.contains(o)||this.googleSlotController.slotted?.contains(o))try{const o=n.G.parseCredentialResponse(e);return this.dispatchSSOAuthSuccess({email:o.email,idToken:e.credential,isSignedInAutomatically:!1,provider:t.dq.Google})}catch(e){window.Sentry?.captureException?.(e),this.dispatchSSOAuthFailure(t.dq.Google)}},this.initAppleSSOButton=()=>{if(!this.isConnected)return;if(this.disableAppleSSOButton)return;const e=this.appleSlotController.slotted;if(e){e.id=t.dr;try{window.AppleID.auth.init({clientId:CLIENT_CONFIG.APPLE_SSO_CLIENT_ID,redirectURI:window.location.origin,scope:"email",state:t.K.get("csrf_token"),usePopup:!0})}catch(t){window.Sentry?.captureException?.(t)}finally{e.id="",this.dispatchEvent(t.c("focusable-content-loaded"))}}else window.Sentry?.captureMessage?.("Apple SSO button container could not be found")},this.onAppleIDSignInOnSuccess=({detail:e})=>{if(!this.isConnected)return;if(!e?.authorization)return window.Sentry?.captureMessage?.("Apple sign in success event is missing authorization data"),void this.dispatchSSOAuthFailure(t.dq.Apple,"missing_data");const n=e.authorization.id_token;if(!n)return window.Sentry?.captureMessage?.("Apple sign in success event is missing an id token"),void this.dispatchSSOAuthFailure(t.dq.Apple,"missing_token");this.dispatchSSOAuthSuccess({email:e.user?.email||"",idToken:n,isSignedInAutomatically:!1,provider:t.dq.Apple})},this.onAppleIDSignInFailure=({detail:e})=>{this.isConnected&&"popup_closed_by_user"!==e?.error&&this.dispatchSSOAuthFailure(t.dq.Apple,e?.error)}}connectedCallback(){super.connectedCallback?.(),this.googleSSOButtonWidth=0,this.initGoogleSSOButton(),document.addEventListener("AppleIDSignInOnFailure",this.onAppleIDSignInFailure),document.addEventListener("AppleIDSignInOnSuccess",this.onAppleIDSignInOnSuccess),this.insertRecaptchaScript()}disconnectedCallback(){super.disconnectedCallback?.(),document.removeEventListener("AppleIDSignInOnFailure",this.onAppleIDSignInFailure),document.removeEventListener("AppleIDSignInOnSuccess",this.onAppleIDSignInOnSuccess),this.resizeObserver?.disconnect()}firstUpdated(){this.injectScript(t.ds,this.initAppleSSOButton)}async injectScript(t,e){try{await n.l(`script#${t}`),e()}catch(t){window.Sentry?.captureException?.(t)}}getActiveElement(){return document.activeElement}async initGoogleSSOButton(){this.isConnected&&(await this.googleApiController.initialize(),window.google&&(this.resizeObserver=new ResizeObserver(this.renderGoogleSSOButton),this.resizeObserver.observe(this.container)),this.dispatchEvent(t.c("focusable-content-loaded")))}renderGoogleSSOButtonContainer(){return this.disableGoogleSSOButton?i.A:i.x` <div class="focusable"> <div class="rounded-5 h-[40px] flex justify-center items-center box-border overflow-hidden relative capitalize"> <slot class="${t.dt}" name="${this.googleSlotName}"></slot> </div> </div> `}renderAppleSSOButtonContainer(){return this.disableAppleSSOButton?i.A:i.x` <div class="relative focusable"> <div class="rounded-5 h-[40px] bg-white border-sm border-solid border-[#dadce0] cursor-pointer px-sm overflow-hidden relative text-center select-none align-middle whitespace-nowrap"> <div class="text-[#131313] flex flex-nowrap flex-row h-100 items-center justify-between relative w-100"> <svg height="18" viewBox="0 0 18 18" width="18" xmlns="http://www.w3.org/2000/svg"> <path fill="currentColor" strike="inherit" d="m8.8162 4.15385c.78824 0 1.7763-.54927 2.3647-1.28163.5329-.6637.9215-1.59059.9215-2.517484 0-.125875-.0111-.251748-.0333-.354736-.8771.0343293-1.9318.606484-2.56458 1.37317-.49959.5836-.95477 1.49905-.95477 2.43738 0 .13732.02221.27464.03331.32041.05551.01144.14433.02289.23314.02289zm-2.77549 13.84615c1.07689 0 1.55427-.7438 2.89761-.7438 1.36558 0 1.66528.7209 2.86428.7209 1.1768 0 1.9651-1.1214 2.7089-2.2199.8327-1.2588 1.1768-2.4946 1.199-2.5519-.0777-.0228-2.3314-.9726-2.3314-3.63887 0-2.3115 1.7763-3.35283 1.8762-3.43293-1.1768-1.73935-2.9642-1.78512-3.4527-1.78512-1.3211 0-2.39799.8239-3.07521.8239-.73274 0-1.69861-.77813-2.84211-.77813-2.17599 0-4.38528 1.85378-4.38528 5.35537 0 2.17418.82155 4.47428 1.83183 5.96188.86595 1.2587 1.62088 2.2886 2.70888 2.2886z"/> </svg> <span class="flex-grow font-[500] text-14 overflow-hidden overflow-ellipsis align-top"> ${"Continue With Apple"} </span> </div> <div class="opacity-0 absolute top-0 start-0 end-0 bottom-0"> <slot class="${t.dr}" name="${this.appleSlotName}" @click="${this.onContinueWithAppleClick}" @keydown="${this.onContinueWithAppleKeydown}"></slot> </div> </div> </div> `;}dispatchSSOAuthFailure(n,o="unknown"){let i;n===t.dq.Apple&&(i=e.c),n===t.dq.Google&&(i=e.d),i&&t.i(this,i({success:!1,reason:o})),this.authFlowController.trackSSOFailure({authFlow:this.authFlow,provider:n,reason:o})}async dispatchSSOAuthSuccess(e){const n=(await this.getRecaptchaTokenSafe())??void 0,o=t.c("sso-auth-success",e);if(this.dispatchEvent(o),!o.defaultPrevented)return this.authFlowController.identityProviderSigin({...e,recaptchaToken:n,recaptchaAction:this.captchaAction,authFlow:this.authFlow,subscribeToEmailDigest:this.subscribeToEmailDigest})}onContinueWithGoogleClick(){this.trackContinueWithGoogle()}onContinueWithAppleClick(){this.trackContinueWithApple()}onContinueWithAppleKeydown(t){"Enter"!==t.key&&"Space"!==t.key||this.trackContinueWithApple()}trackContinueWithGoogle(){this.shouldNotTrackContinueWithGoogleTelemetry||(t.i(this,e.a(this.authFlow,t.dq.Google)),t.i(this,e.e()))}trackContinueWithApple(){t.i(this,e.a(this.authFlow,t.dq.Apple)),t.i(this,e.b())}render(){return i.x` <div id="container" class="flex flex-col gap-xs mx-auto max-w-[400px]"> ${this.renderGoogleSSOButtonContainer()} ${this.renderAppleSSOButtonContainer()} </div> `}};O.styles=[i.a`.focusable:focus-within{outline:var(--color-global-focus) auto 1px;outline-offset:2px}`,t.t],t._([t.n({type:String,attribute:"auth-flow"})],O.prototype,"authFlow",void 0),t._([t.n({type:String,attribute:"locale"})],O.prototype,"locale",void 0),t._([t.n({type:Boolean,attribute:"disable-google-sso-button"})],O.prototype,"disableGoogleSSOButton",void 0),t._([t.n({type:Boolean,attribute:"disable-apple-sso-button"})],O.prototype,"disableAppleSSOButton",void 0),t._([t.n({type:Boolean,attribute:"subscribe-to-email"})],O.prototype,"subscribeToEmailDigest",void 0),t._([t.n({type:Boolean,attribute:"should-not-track-continue-with-google-telemetry"})],O.prototype,"shouldNotTrackContinueWithGoogleTelemetry",void 0),t._([t.a2("#container")],O.prototype,"container",void 0),O=t._([t.e("auth-flow-sso-buttons")],O)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./xrDbp1ee_h.js",import.meta.url,"xrDbp1ee_h");
SML.dm("C5bRok1J9n",["Dw4vb8Yfbm","xrDbp1ee_h"],(async(E,R)=>{const D=R=>R===E.af.ModApproved,e=R=>R===E.af.AdminApproved,P=R=>R===E.af.ModRemoved||R===E.af.ModSpammed,o=R=>R===E.af.AdminRemoved||R===E.af.AdminSpammed;var M;!function(E){E.UNMODERATED="UNMODERATED",E.APPROVED="APPROVED",E.REMOVED="REMOVED",E.SPAM="SPAM",E.REPORTED="REPORTED",E.FILTERED="FILTERED"}(M||(M={}));const d=(E,R)=>(E===M.FILTERED||R)&&E!==M.APPROVED&&E!==M.REMOVED;return{get M(){return M},a:d,b:(D,e)=>(D===R.P.ModQueue||D===R.P.ModQueueAll)&&e===E.ag.ModQueueCompactView,c:E=>[M.REPORTED,M.FILTERED,M.UNMODERATED,M.REMOVED,M.SPAM].includes(E),d:E=>[M.APPROVED,M.UNMODERATED,M.REPORTED].includes(E),e:({moderationState:E,isSpamFilteredPost:R,isRemoved:D,isPromotedPost:e})=>(d(E,R)||!D)&&!e,f:({isPromotedPost:E})=>!E,h:E=>D(E)||e(E)||P(E)||o(E),i:E=>D(E)||e(E),s:(E,R,D,e)=>E===M.REMOVED&&!e&&!R&&!d(E,D)}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./B-zFJtiar6.js",import.meta.url,"B-zFJtiar6");
SML.dm("C8ijvHauXT",["Dw4vb8Yfbm","5r73EsgItq","B-zFJtiar6"],(async(e,t,o)=>{const s=t.s;let n=class extends s{constructor(){super(...arguments),this.commentComposer=null,this.addCommentButton=null,this._events=new e.E(this),this.handleCommentPost=this._events.define(o.C,(()=>{const e=this.querySelector("#empty-comments-banner");e&&(e.classList.add("hidden"),e.ariaHidden="true")})),this.handleCommentSearchToggle=e=>{this.commentComposer?.classList.toggle("hidden",e.detail.isHidden),this.addCommentButton?.classList.toggle("hidden",e.detail.isHidden)}}firstUpdated(){this.commentComposer=this.querySelector(`${e.w.commentComposerHost}`),this.addCommentButton=this.querySelector(e.w.addCommentButton)}render(){return t.x` <faceplate-tracker source="post_detail" action="view" noun="comment_body_header"> <slot @pdp-comment-search-toggle="${this.handleCommentSearchToggle}"> </slot> </faceplate-tracker> `}};return n=e._([e.e("comment-body-header")],n),{get CommentBodyHeader(){return n}}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");
SML.dm("CDbzh0L9oi",["Dw4vb8Yfbm"],(async e=>{const{svg:a}=e.a(),i=e.m(a`<path d="M18.1 10.9h-3a.9.9 0 010-1.8h3a.9.9 0 010 1.8zM5.8 10a.9.9 0 00-.9-.9h-3a.9.9 0 000 1.8h3a.9.9 0 00.9-.9zm5.1 8.1v-3a.9.9 0 00-1.8 0v3a.9.9 0 001.8 0zm0-13.2v-3a.9.9 0 00-1.8 0v3a.9.9 0 001.8 0zm5.464-1.264a.9.9 0 00-1.273 0L12.97 5.757a.901.901 0 001.273 1.273l2.121-2.121a.901.901 0 000-1.273zM7.03 12.97a.9.9 0 00-1.273 0l-2.121 2.121a.901.901 0 001.273 1.273l2.121-2.121a.901.901 0 000-1.273zm9.334 2.121l-2.121-2.121a.9.9 0 00-1.273 1.273l2.121 2.121a.9.9 0 001.273-1.273zM7.03 5.758L4.909 3.637A.9.9 0 003.636 4.91l2.121 2.121A.9.9 0 007.03 5.758z"></path>`,"0 0 20 20","load");let o=e.Y;return {I:/[^\p{L}\d '&\-/$]/u,M:10,f:async function(a){return (async a=>{const{data:i,errors:n}=await o({operation:e.O.UpdateFollowedKeywords,variables:{input:{keywords:a.map((a=>({keyword:a,followState:e.az.Followed})))}}});if(n?.length||!i?.updateFollowedKeywords?.ok){const e=i?.updateFollowedKeywords?.errors;if(e&&e.length>0){const a=e.filter((e=>"InvalidArgument"===e.code)),i=e.filter((e=>"InvalidArgument"!==e.code)),o=[];if(a.length>0){const e=[];a.forEach((a=>{const i=a.message.match(/invalid arguments: ([^\\"]+)/i);i&&i[1]&&i[1].split(",").forEach((a=>{const i=a.trim();i&&e.push(i)}))})),e.length>0&&o.push(`Keyword alerts are not available for "${e.join('", "')}"`)}if(i.length>0){const e=i.map((e=>{const a=e.message.match(/keyword "(.+?)"/);return a?a[1]:null})).filter(Boolean);let a=i.map((e=>e.message)).join("; ");e.length>0&&(a=`Could not follow the following keywords: ${e.join(", ")}.`),o.push(a)}if(o.length>0)throw new Error(o.join("\n"))}throw new Error("Unable to follow keywords")}})(a);},l:i,u:async function(a){return (async a=>{const{data:i,errors:n}=await o({operation:e.O.UpdateFollowedKeywords,variables:{input:{keywords:[{keywordId:a,followState:e.h6.Unfollowed}]}}}),l="Unable to remove keyword";if(n?.length||!i?.updateFollowedKeywords?.ok)throw new Error(l)})(a);}};}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./DT9eLCODQW.js",import.meta.url,"DT9eLCODQW");
SML.dm("CEUJsu8B0y",["Dw4vb8Yfbm","5r73EsgItq","DT9eLCODQW"],(async(e,a,t)=>{let o=class extends a.s{constructor(){super(...arguments),this.replaceItselfWithChildren=()=>{this.replaceWith(...this.childNodes)}}render(){return a.x`<div class="mx-md xs:mx-0"> <div class="items-center justify-between flex flex-row py-sm px-md w-100 bg-neutral-background border-neutral-border rounded-2 border-solid border box-border"> <div> ${t.b({size:a.I.Medium,attributes:{className:"align-middle mr-2xs"}})} <span class="text-neutral-content-weak"> ${"Posted by a blocked account"} </span> </div> ${e.o({appearance:"secondary",size:e.q.Small,attributes:{rel:"nofollow",id:"primary-button",onclick:this.replaceItselfWithChildren},children:"View Post"})} </div> </div>`;}};o.styles=[e.t],o=e._([e.e("shreddit-blocked-post-content")],o)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");
SML.dm("CInntUEpAD",["Dw4vb8Yfbm","5r73EsgItq"],(async(e,a)=>{class t extends Error{constructor(e){super(e),this.name="TimeoutError"}}const i=async e=>new Promise((a=>setTimeout(a,e)));let r=class extends a.s{constructor(){super(...arguments),this.postId="",this.isGalleryPost=!1,this.isPolling=!1}connectedCallback(){super.connectedCallback(),this.postId&&this.startMediaStatusPoll()}disconnectedCallback(){super.disconnectedCallback(),this.isPolling=!1}async isSingleImageOrVideoMediaReady(){const a=await e.Y({operation:e.O.GetPostMediaStatus,variables:{id:this.postId}}),t=a.data.postInfoById,i=t?.__typename;if(a.errors.length||"SubredditPost"!==i&&"ProfilePost"!==i)throw new Error("Could not fetch the media status of an image or video post");const r=t?.media?.status?.transcodingStatus;return r&&r!==e.cl.Incomplete}async isGalleryMediaReady(){const a=await e.Y({operation:e.O.GetPostGalleryMediaStatus,variables:{id:this.postId}}),t=a.data.postInfoById,i=t?.__typename;if(a.errors.length||"SubredditPost"!==i&&"ProfilePost"!==i)throw new Error("Could not fetch the media status of a gallery post");const r=t?.gallery?.items?.map((e=>e?.media?.status));return r?.every((a=>a&&a!==e.cm.Unprocessed))}async getMediaStatusPollPromise(){let e=0;for(;this.isPolling;)try{await i(3e3);if(this.isGalleryPost?await this.isGalleryMediaReady():await this.isSingleImageOrVideoMediaReady())return void this.parentElement?.querySelector("div.media-placeholder")?.replaceChildren("Processing complete")}catch(a){if(e>=3)throw a;e++}}async startMediaStatusPoll(){this.isPolling=!0;const a=new Promise(((e,a)=>{setTimeout((()=>{a(new t(`Timed out while polling for the media status of a post ${this.postId}`))}),18e4)}));try{await Promise.race([this.getMediaStatusPollPromise(),a])}catch(a){const i=a instanceof t?{level:e.a5.error,message:"Media processing takes more than usual. Come back later for updates.",cause:"post-media-polling-timeout"}:{level:e.a5.error,message:"Failed to fetch media processing status. Come back later for updates.",cause:"post-media-polling-error-retry-count-exceeded"};this.dispatchEvent(e.c("faceplate-alert",i))}this.isPolling=!1}render(){return a.A}};r.styles=[e.t],e._([e.n({type:String,attribute:"post-id"})],r.prototype,"postId",void 0),e._([e.n({type:Boolean,attribute:"is-gallery-post"})],r.prototype,"isGalleryPost",void 0),r=e._([e.e("post-media-status-poller")],r)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./CqGTWb5M_i.js",import.meta.url,"CqGTWb5M_i");SML.di("./CU8weQ2dDy.js",import.meta.url,"CU8weQ2dDy");SML.di("./tO6bKRQro7.js",import.meta.url,"tO6bKRQro7");SML.di("./BuM34fxA_u.js",import.meta.url,"BuM34fxA_u");SML.di("./DIrjWut_vd.js",import.meta.url,"DIrjWut_vd");SML.di("./D1DY-avSiT.js",import.meta.url,"D1DY-avSiT");SML.di("./BSYfFtBeKH.js",import.meta.url,"BSYfFtBeKH");SML.di("./BeFppRYbzE.js",import.meta.url,"BeFppRYbzE");SML.di("./Bu440t6XLo.js",import.meta.url,"Bu440t6XLo");SML.di("./Cn5JTNK6V3.js",import.meta.url,"Cn5JTNK6V3");SML.di("./wBWjBlz6KG.js",import.meta.url,"wBWjBlz6KG");SML.di("./kS-PCwPq_X.js",import.meta.url,"kS-PCwPq_X");SML.di("./jWC3N3n7Al.js",import.meta.url,"jWC3N3n7Al");SML.di("./FQGvCwaizg.js",import.meta.url,"FQGvCwaizg");
SML.dm("CJnU84A1cL",["Dw4vb8Yfbm","5r73EsgItq","CqGTWb5M_i","tO6bKRQro7","BeFppRYbzE","Bu440t6XLo","Cn5JTNK6V3","wBWjBlz6KG","kS-PCwPq_X","jWC3N3n7Al","FQGvCwaizg","CU8weQ2dDy","BuM34fxA_u","DIrjWut_vd","D1DY-avSiT","BSYfFtBeKH"],(async(e,a,i,t,n,o,r,s,l,d,m)=>{const u="dont-notify-tooltip-close",c="removal-reason-input-changed",{svg:p}=e.a(),g=e.m(p`<path d="M15.11 8.7l-1.63-.34c-.93-.19-1.65-.91-1.84-1.84l-.34-1.63c-.23-1.12-1.16-1.87-2.3-1.87s-2.07.75-2.3 1.87l-.34 1.63c-.19.93-.92 1.65-1.84 1.84l-1.63.34c-1.12.23-1.87 1.16-1.87 2.3s.75 2.07 1.87 2.3l1.63.34c.93.19 1.65.91 1.84 1.84l.34 1.63c.23 1.12 1.16 1.87 2.3 1.87s2.07-.75 2.3-1.87l.34-1.63c.19-.93.92-1.65 1.84-1.84l1.63-.34c1.12-.23 1.87-1.16 1.87-2.3s-.75-2.07-1.87-2.3zm-.37 2.84l-1.63.34c-1.63.34-2.9 1.61-3.24 3.24l-.34 1.63c-.08.4-.4.44-.54.44s-.46-.04-.54-.44l-.34-1.63a4.178 4.178 0 00-3.24-3.24l-1.63-.34c-.39-.08-.44-.4-.44-.54s.04-.46.44-.54l1.63-.34c1.63-.34 2.9-1.61 3.24-3.24l.34-1.63c.08-.4.4-.44.54-.44s.46.04.54.44l.34 1.63c.34 1.63 1.61 2.9 3.24 3.24l1.63.34c.39.08.44.4.44.54s-.04.46-.44.54zM18 3.1h-1.1V2c0-.5-.4-.9-.9-.9s-.9.4-.9.9v1.1H14c-.5 0-.9.4-.9.9s.4.9.9.9h1.1V6c0 .5.4.9.9.9s.9-.4.9-.9V4.9H18c.5 0 .9-.4.9-.9s-.4-.9-.9-.9z"></path>`,"0 0 20 20","ai");class h extends CustomEvent{constructor(e){super(h.eventName,{detail:e,bubbles:!0,composed:!0})}}h.eventName="select-suggested-removal-reason";let v=class extends a.s{constructor(){super(...arguments),this.reasons=[],this.suggestions=[],this.eventContext={}}getReasonNumber(e){const a=this.reasons.findIndex((a=>a.id===e));return a>=0?a+1:0}getSelectedChip(){return this.shadowRoot?.querySelector('rpl-filter-chip[name="removal-reason-suggestion"][selected]')??null}render(){return a.x` <div class="my-xs w-fit"> ${g({size:a.I.ExtraSmall})} ${"Suggested"} <rpl-tooltip appearance="inverted" trigger="hover focus" placement="right" @click="${e=>e.preventDefault()}"> ${i.i({size:a.I.ExtraSmall})} <span slot="content" class="pointer-events-auto"> ${"Suggestions based on the content, your rules, and your removal reasons."} <a href="https://support.reddithelp.com/hc/articles/15484471320980-Saved-Responses" target="_blank" class="text-inverted-neutral-content-strong" @click="${e=>e.stopPropagation()}"> ${"Learn more"} </a> </span> </rpl-tooltip> <div class="flex flex-col gap-xs mt-xs"> ${this.suggestions.map((e=>{const i=this.getReasonNumber(e.id);return a.x` <faceplate-tracker source="moderator" action="click" noun="removal_reason_recommendation" data-faceplate-tracking-context="${JSON.stringify({action_info:{reason:e.id},subreddit:{id:this.eventContext.subredditId},post:{id:this.eventContext.postId},comment:{id:this.eventContext.commentId}})}" @click="${e=>{e.preventDefault(),e.stopPropagation()}}"> <rpl-filter-chip name="removal-reason-suggestion" class="max-w-fit" appearance="bordered" data-removal-reason-id="${e.id}" ?selected="${this.value===e.id}" @click="${()=>{this.dispatchEvent(new h({reasonId:e.id}))}}">${i?`${i}. `:""}${e.title}</rpl-filter-chip> </faceplate-tracker> `}))} </div> </div> `;}};v.styles=[e.t],e._([e.n({type:Array})],v.prototype,"reasons",void 0),e._([e.n({type:Array})],v.prototype,"suggestions",void 0),e._([e.n({type:Object,attribute:"event-context"})],v.prototype,"eventContext",void 0),e._([e.n()],v.prototype,"value",void 0),v=e._([e.e("removal-reason-suggestions")],v);let k=class extends a.s{constructor(){super(...arguments),this._showCoachmark=!localStorage.getItem(this.getLocalStorageKey()),this.closeCoachmark=e=>{e.stopPropagation(),this._showCoachmark=!1},this.handleLearnMore=e=>{e.stopPropagation(),window.open("https://support.reddithelp.com/hc/articles/15484471320980-Saved-Responses","_blank")}}getLocalStorageKey(){return e.a9.RemovalReasonSuggestionsCoachmarkSeen}connectedCallback(){super.connectedCallback();localStorage.getItem(this.getLocalStorageKey())?this._showCoachmark=!1:(localStorage.setItem(this.getLocalStorageKey(),"true"),this._showCoachmark=!0)}disconnectedCallback(){super.disconnectedCallback()}render(){return a.x`<rpl-coachmark placement="${n.P.Bottom}" appearance="${o.a.Inverted}" ?open="${this._showCoachmark}" class="w-[270px]"> <slot></slot> <rpl-coachmark-card slot="content" aria-live="polite" appearance="${o.a.Inverted}" class="w-[270px]"> <div slot="title" class="pt-xs pb-2xs"> <div> ${"Save time with suggested removal reasons"} </div> </div> ${e.o({attributes:{className:"close-btn",slot:"close-button",onclick:e=>{e.stopPropagation(),this.closeCoachmark(e)}},appearance:"plainInverted",size:e.q.Small,leadingIcon:e.al({size:a.I.Small})})} <div class="text-12 mb-sm"> ${"Based on the content, your rules, and your removal reasons, well suggest the most likely removal reasons."} </div> ${e.o({attributes:{slot:"secondary-button",onclick:this.handleLearnMore},children:"Learn More",appearance:"plainInverted",size:e.q.Small})} ${e.o({attributes:{slot:"primary-button",onclick:this.closeCoachmark},children:"Got It",appearance:"plainInverted",size:e.q.Small})} </rpl-coachmark-card> </rpl-coachmark>`;}};k.styles=[e.t],e._([e.h()],k.prototype,"_showCoachmark",void 0),k=e._([e.e("removal-reason-suggestions-coachmark")],k);class N extends d.F{constructor(){super(...arguments),this.isInputDirty=!1,this.hasInvalidMacro=!1,this.required=!1,this.handleSubmit=()=>{this.isInputDirty=!0},this.handleInvalid=e=>{e.preventDefault()}}get value(){const e=this._internals.getFormValue();return e?e.toString():null}set value(e){e!==this.value&&(this._internals.setFormValue(e),this.updateValidity(),this.dispatchEvent(new CustomEvent(c,{detail:{value:e},bubbles:!0})))}connectedCallback(){super.connectedCallback(),m.c(this).then((e=>{e?.addEventListener("faceplate-submit",this.handleSubmit)})),this.addEventListener("invalid",this.handleInvalid),this.updateValidity()}disconnectedCallback(){super.disconnectedCallback(),this.form?.removeEventListener("faceplate-submit",this.handleSubmit),this.removeEventListener("invalid",this.handleInvalid)}updateValidity(){this.hasInvalidMacro?this._internals.setValidity({valueMissing:!0},this.getInvalidMacroValidationMessage()):this.required&&!this.value?this._internals.setValidity({valueMissing:!0},this.getValueMissingValidationMessage()):this._internals.setValidity(),this.requestUpdate()}getValueMissingValidationMessage(){return""}getInvalidMacroValidationMessage(){return""}renderValidationState(){return this.isInputDirty&&this.validationMessage?a.x`<span class="text-12 text-danger-content px-md">${this.validationMessage}</span>`:null}}e._([e.h()],N.prototype,"isInputDirty",void 0),e._([e.h()],N.prototype,"hasInvalidMacro",void 0),e._([e.n({type:Boolean})],N.prototype,"required",void 0);class b extends CustomEvent{constructor(e){super(b.eventName,{detail:e,bubbles:!0,composed:!0})}}b.eventName="select-removal-reason";let I=class extends N{constructor(){super(...arguments),this.isSitewide=!1,this.selectedRemovalReason=this.value,this.handleSelectSuggestedRemovalReason=e=>{this.selectReasonById(e.detail.reasonId,!1)},this.handleSelect=e=>{const a=e.target;this.selectReasonById(a.value)}}get displayText(){return this.reasons?.find((e=>e.id===this.value))?.title||""}static get styles(){return[e.t,a.a`:host{display:flex;flex-direction:column}`]}getValueMissingValidationMessage(){return "Removal reason is required.";}getInvalidMacroValidationMessage(){return "This removal reason contains an invalid macro. Please update the removal reason and try again.";}getPlatformRuleOption(){return {id:"default-removal-reason",title:"Breaking platform rules",message:""};}selectReasonById(e,a=!0){const i=(this.includePlatformRuleOption?[...(this.reasons || []),this.getPlatformRuleOption()]:this.reasons||[]).find((a=>a.id===e));i&&this.selectedRemovalReason!==i.id&&(this.selectedRemovalReason=i.id,this.value=i.id,this.dispatchEvent(new b({...i,isSitewide:this.isSitewide,trackEvent:a})))}getDropdownPlaceholder(){return this.isSitewide?"Select a platform rule":"Select a removal reason";}setInvalidMacro(e){this.hasInvalidMacro=e,this.isInputDirty=!0,this.updateValidity()}connectedCallback(){super.connectedCallback(),this.addEventListener(h.eventName,this.handleSelectSuggestedRemovalReason)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener(h.eventName,this.handleSelectSuggestedRemovalReason)}render(){return a.x` <label class="text-16 text-neutral-content-strong"> ${super.render()} </label> <faceplate-select-text-input label="${this.getDropdownPlaceholder()}" value="${this.selectedRemovalReason}" readonly="readonly" style="--faceplate-select-menu-max-height:350px;-faceplate-select-menu-max-width:80vw" @faceplate-select-text-input:change="${this.handleSelect}"> ${this.reasons?.map(((e,i)=>a.x`<faceplate-option value="${e.id}" display-text="${e.title}" ?selected="${e.id===this.selectedRemovalReason}"><span slot="leading" class="whitespace-nowrap text-16">${i+1}</span></faceplate-option>`))} ${this.includePlatformRuleOption&&a.x`<faceplate-option value="default-removal-reason" display-text="${this.getPlatformRuleOption().title}"></faceplate-option>`} ${this.includeAddRemovalReasonOption&&a.x`<faceplate-option value="add-removal-reason"> <slot name="link"></slot> </faceplate-option>`} </faceplate-select-text-input> ${this.renderValidationState()} ${this.removalReasonSuggestionsContext?.predictedRemovalSavedResponses&&this.removalReasonSuggestionsContext?.predictedRemovalSavedResponses.length>0?a.x` <removal-reason-suggestions-coachmark> <removal-reason-suggestions class="block w-fit" reasons="${JSON.stringify(this.reasons)}" suggestions="${JSON.stringify(this.removalReasonSuggestionsContext.predictedRemovalSavedResponses)}" event-context="${JSON.stringify(this.removalReasonSuggestionsContext.eventContext)}" value="${this.selectedRemovalReason}"></removal-reason-suggestions> </removal-reason-suggestions-coachmark> `:""} `}};e._([e.n({type:Array})],I.prototype,"reasons",void 0),e._([e.n({type:Boolean,attribute:"is-sitewide"})],I.prototype,"isSitewide",void 0),e._([e.n({type:Boolean,attribute:"include-platform-rule-option"})],I.prototype,"includePlatformRuleOption",void 0),e._([e.n({type:Boolean,attribute:"include-add-removal-reason-option"})],I.prototype,"includeAddRemovalReasonOption",void 0),e._([e.n({type:Object,attribute:"removal-reason-suggestions-context"})],I.prototype,"removalReasonSuggestionsContext",void 0),e._([e.h()],I.prototype,"selectedRemovalReason",void 0),I=e._([e.e("removal-reason-input")],I);let R=class extends t.R{constructor(){super(),this.tooltipVisible=!1,this.trigger="manual",this.placement="top",this.appearance="neutral"}connectedCallback(){super.connectedCallback(),this.initializeTooltip(),this.addEventListener(u,this.hideTooltip)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener(u,this.hideTooltip)}async initializeTooltip(){e.a8.getItem(e.a9.RemovalReasonDontNotifyDismissed)||setTimeout((()=>this.showTooltip()),750)}showTooltip(){this.show()}hideTooltip(a){a.stopPropagation(),e.a8.setItem(e.a9.RemovalReasonDontNotifyDismissed,"true"),this.hide()}};e._([e.h()],R.prototype,"tooltipVisible",void 0),R=e._([e.e("dont-notify-tooltip")],R);let f=class extends a.s{constructor(){super(...arguments),this.isAIModEnabledForSubreddit=!1}handleClose(){this.dispatchEvent(new CustomEvent(u,{bubbles:!0}))}render(){return a.x` <div class="pointer-events-auto py-xs pl-xs w-[200px]"> <div class="flex flex-row"> <div> <div class="text-14 font-bold text-neutral-content-strong"> ${"Don't want to notify?"} </div> <div class="text-12 font-normal text-neutral-content-strong"> ${this.isAIModEnabledForSubreddit?"Use removal reasons to train automations and track mod actions without notifying users.":"Use removal reasons to track mod actions without notifying users."} </div> </div> ${e.o({appearance:"secondary",leadingIcon:e.al({size:a.I.Small}),size:e.q.Small,screenReaderContent:"Close tooltip",attributes:{type:"button",className:"flex-shrink-0 -mt-xs",onclick:this.handleClose}})} </div> <div class="flex justify-end mt-md"> ${e.o({appearance:"plain",size:e.q.Small,children:"Okay",attributes:{type:"button",onclick:this.handleClose}})} </div> </div> `;}};var T;f.styles=[e.t],e._([e.n({type:Boolean,attribute:"is-ai-mod-enabled-for-subreddit"})],f.prototype,"isAIModEnabledForSubreddit",void 0),f=e._([e.e("dont-notify-tooltip-content")],f),function(e){e.Comment="Comment",e.Modmail="Modmail",e.DontNotify="DontNotify"}(T||(T={}));let z=class extends N{constructor(){super(...arguments),this.isModmailAllowed=!1,this.isAIModEnabledForSubreddit=!1}static get styles(){return[e.t,a.a`:host{display:flex;flex-direction:column;gap:var(--spacer-xs)}`]}connectedCallback(){super.connectedCallback(),this.value=T.Comment}getValueMissingValidationMessage(){return "Please select the notification method.";}render(){return a.x` <label class="text-16 text-neutral-content-strong"> ${this._internals.input} ${"Notify user via"} </label> <div class="flex flex-row gap-xs"> ${e.o({appearance:"bordered",children:"Comment",leadingIcon:r.c({size:a.I.Small}),selected:this.value===T.Comment,attributes:{type:"button",onclick:()=>{this.value=T.Comment,this.requestUpdate()}}})} ${this.isModmailAllowed?e.o({appearance:"bordered",children:"Mod Mail",leadingIcon:s.m({size:a.I.Small}),selected:this.value===T.Modmail,attributes:{type:"button",onclick:()=>{this.value=T.Modmail,this.requestUpdate()}}}):a.A} <dont-notify-tooltip> ${e.o({appearance:"bordered",children:"Don't Notify",leadingIcon:l.v({size:a.I.Small}),selected:this.value===T.DontNotify,attributes:{type:"button",onclick:()=>{this.value=T.DontNotify,this.requestUpdate()}}})} <dont-notify-tooltip-content ?is-ai-mod-enabled-for-subreddit="${this.isAIModEnabledForSubreddit}" slot="content"></dont-notify-tooltip-content> </dont-notify-tooltip> </div> ${this.renderValidationState()} `;}};var S;e._([e.n({type:Boolean,attribute:"is-mod-mail-allowed"})],z.prototype,"isModmailAllowed",void 0),e._([e.n({type:Boolean,attribute:"is-ai-mod-enabled-for-subreddit"})],z.prototype,"isAIModEnabledForSubreddit",void 0),z=e._([e.e("removal-reason-notification-method")],z),function(e){e.User="User",e.Mod="Mod"}(S||(S={}));let E=class extends N{static get styles(){return[e.t,a.a`:host{display:flex;flex-direction:column;gap:var(--spacer-xs)}`]}connectedCallback(){super.connectedCallback(),this.value=S.Mod}getValueMissingValidationMessage(){return "Please select the notification sender.";}render(){return a.x` <label class="text-16 text-neutral-content-strong"> ${this._internals.input} ${"Send message as"} </label> <div class="flex flex-row gap-xs"> ${e.o({appearance:"bordered",children:"Mod Team",leadingIcon:a.x`<slot name="mod-icon"></slot>`,selected:this.value===S.Mod&&!this.disabled,attributes:{type:"button",disabled:this.disabled,onclick:()=>{this.value=S.Mod,this.requestUpdate()}}})} ${e.o({appearance:"bordered",children:this.user,leadingIcon:a.x`<slot name="user-icon"></slot>`,selected:this.value===S.User&&!this.disabled,attributes:{type:"button",disabled:this.disabled,onclick:()=>{this.value=S.User,this.requestUpdate()}}})} </div> ${this.renderValidationState()} `;}};return e._([e.n()],E.prototype,"user",void 0),E=e._([e.e("removal-reason-notification-sender")],E),{get R(){return z},S:b,get a(){return T},get b(){return I},c,get d(){return S}}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");
SML.dm("CJv9OgeyPR",["Dw4vb8Yfbm"],(async r=>{const{svg:t}=r.a();return{r:r.m(t`<path d="M15.21 7.5l2.56-3.86c.47-.7-.04-1.64-.88-1.64H5C3.03 2 1.59 3.87 2.1 5.78L4.04 13l1.37 5.08a.906.906 0 001.1.64.9.9 0 00.64-1.1l-1.24-4.61h10.98c.84 0 1.35-.94.88-1.64l-2.56-3.86V7.5zm-9.79 3.7L3.84 5.31c-.13-.5.07-.87.21-1.04.13-.18.44-.47.95-.47h10.5l-2.45 3.7 2.45 3.7H5.42z"></path>`,"0 0 20 20","report")}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./CwJMtJ-bLN.js",import.meta.url,"CwJMtJ-bLN");SML.di("./C17omQ_RhR.js",import.meta.url,"C17omQ_RhR");SML.di("./Dh8G_lEIvS.js",import.meta.url,"Dh8G_lEIvS");
SML.dm("CK4gRenw1f",["Dw4vb8Yfbm","5r73EsgItq","CwJMtJ-bLN","C17omQ_RhR","Dh8G_lEIvS"],(async(a,e,r,n,t)=>{const{svg:s}=a.a(),o=a.m(s`<path d="M17.626 1.744a2.255 2.255 0 00-1.482-.912 2.228 2.228 0 00-2.568 1.7l-.824 3.506-1.139-4.19A2.277 2.277 0 007.525 1.2a2.028 2.028 0 00-.274 1.567L8 5.987a2.095 2.095 0 00-.436-.046h-.221a2.124 2.124 0 00-1.916 1.22 2.111 2.111 0 00-1.084-.307h-.218A2.128 2.128 0 002 8.979v4.247a6.863 6.863 0 007.034 6.625l.685.008h.007c.019 0 .036-.01.056-.011a6.851 6.851 0 006.893-6.618v-2.95L17.97 3.3a2.038 2.038 0 00-.344-1.556zM6.469 8.979v-.913a.874.874 0 01.874-.874h.219a.875.875 0 01.874.874v1.276a2.34 2.34 0 00-.778.923c-.21.459-.257.975-.135 1.464h-.18a.875.875 0 01-.874-.875V8.979zm-3.218 0a.876.876 0 01.874-.874h.218a.876.876 0 01.874.874v2.788a.876.876 0 01-.874.875h-.218a.876.876 0 01-.874-.875V8.979zm6.381 9.626h-.013l-.576-.005a5.661 5.661 0 01-5.766-4.888 2.1 2.1 0 00.848.18h.218a2.125 2.125 0 001.916-1.221 2.1 2.1 0 001.084.307h.219c.214 0 .426-.034.629-.1.227.214.493.384.783.5l2.673 1.064a.637.637 0 00.232.044.625.625 0 00.231-1.2l-2.674-1.069a1.162 1.162 0 01-.662-.638 1 1 0 01.021-.793 1.281 1.281 0 011.637-.593l4.257 1.694a1.14 1.14 0 01.7.762c.01.022.02.044.032.065v.516a5.614 5.614 0 01-5.789 5.375zm5.674-7.8c-.053-.026-.1-.061-.154-.083L10.9 9.032a2.6 2.6 0 00-.951-.182L8.468 2.481a.787.787 0 01.109-.608.97.97 0 01.638-.42.982.982 0 011.185.7L12.154 8.6l.18.486 1-.054L14.8 2.785a.974.974 0 011.145-.719 1 1 0 01.66.4.8.8 0 01.137.6l-1.436 7.739z"></path>`,"0 0 20 20","peace-outline"),i="mod-notes-rail",m=`/svc/shreddit/${i}/r/:subredditName/u/:userName/:subredditId/:userId/:thingId/:triggerSource/:postId/:conversationId`;var l,N;!function(a){a.USERNAME="username",a.USER_HOVER_CARD="user-hover-card",a.MODMAIL_USERNAME="modmail-username"}(l||(l={})),function(a){a.Overview="overview",a.Log="log",a.Posts="posts",a.Comments="comments"}(N||(N={}));const u=[{getButtonText:()=>"Overview",slot:N.Overview},{getButtonText:()=>"Log",slot:N.Log},{getButtonText:()=>"Posts",slot:N.Posts},{getButtonText:()=>"Comments",slot:N.Comments}],I={[a.d2.HelpfulUser]:()=>"Helpful",[a.d2.SolidContributor]:()=>"Good Contributor",[a.d2.SpamWatch]:()=>"Spam Watch",[a.d2.SpamWarning]:()=>"Spam Warning",[a.d2.AbuseWarning]:()=>"Abuse Warning",[a.d2.Ban]:()=>"Ban",[a.d2.BotBan]:()=>"Bot ban",[a.d2.PermaBan]:()=>"Perma ban",[a.d2.UserSummary]:()=>"Summary"};return {M:20,N:[{label:()=>"None",icon:()=>""},{label:I[a.d2.HelpfulUser],icon:(a=e.I.Medium,r)=>o({size:a,attributes:{className:r}}),gqlLabel:a.d2.HelpfulUser},{label:I[a.d2.SolidContributor],icon:(a=e.I.Medium,n)=>r.n({size:a,attributes:{className:n}}),gqlLabel:a.d2.SolidContributor},{label:I[a.d2.SpamWatch],icon:(a=e.I.Medium,r)=>n.n({size:a,attributes:{className:r}}),gqlLabel:a.d2.SpamWatch},{label:I[a.d2.SpamWarning],icon:(a=e.I.Medium,r)=>t.c({size:a,attributes:{className:r}}),gqlLabel:a.d2.SpamWarning},{label:I[a.d2.AbuseWarning],icon:(a=e.I.Medium,r)=>t.c({size:a,attributes:{className:r}}),gqlLabel:a.d2.AbuseWarning}],get a(){return l},get b(){return N},c:u,d:"mod-notes-rail-loading",e:i,f:m};}));
SML.dm("CM4Yt4lwBK",[],(async()=>{var e,n;return function(e){e.READY="ready",e.EMPTY="empty"}(e||(e={})),function(e){e.SUCCESS="success"}(n||(n={})),{get R(){return n},get S(){return e}}}));

SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./BIvvQbZj9p.js",import.meta.url,"BIvvQbZj9p");
SML.dm("CNdFOsbHrs",["Dw4vb8Yfbm","5r73EsgItq","BIvvQbZj9p"],(async(t,e)=>{let r=class extends e.s{constructor(){super(...arguments),this.postId="",this.impressionId="0",this.clickLocation=t.D.UNKNOWN,this.anchorStyleClass="",this.renderAsButton=!1,this.buttonProps={},this._currGalleryIndex=0,this._currGalleryItemText="",this.handleGalleryNavEvent=t=>{t!==this._currGalleryIndex&&(this._currGalleryIndex=t,this.galleryContent&&(this._currGalleryItemText=this.galleryContent[this._currGalleryIndex]))}}connectedCallback(){super.connectedCallback(),this._currGalleryItemText=this.galleryContent?.[this._currGalleryIndex]}createRenderRoot(){return this}render(){return this.galleryContent&&!this._currGalleryItemText?e.A:e.x` <shreddit-dynamic-ad-link target="_blank" post-id="${this.postId}" impression-id="${this.impressionId}" gallery-index="${this._currGalleryIndex}" click-location="${this.clickLocation}" anchor-style-class="${this.anchorStyleClass}" ?render-as-button="${this.renderAsButton}" .ButtonProps="${this.buttonProps}">${this._currGalleryItemText}</shreddit-dynamic-ad-link>`}};r.styles=[t.t],t._([t.n({type:String,attribute:"post-id"})],r.prototype,"postId",void 0),t._([t.n({type:String,attribute:"impression-id"})],r.prototype,"impressionId",void 0),t._([t.n({type:String,attribute:"click-location"})],r.prototype,"clickLocation",void 0),t._([t.n({type:String})],r.prototype,"target",void 0),t._([t.n({type:String,attribute:"anchor-style-class"})],r.prototype,"anchorStyleClass",void 0),t._([t.n({type:Boolean,attribute:"render-as-button"})],r.prototype,"renderAsButton",void 0),t._([t.n({type:Object,attribute:"button-props"})],r.prototype,"buttonProps",void 0),t._([t.n({type:Array,attribute:"gallery-content"})],r.prototype,"galleryContent",void 0),t._([t.h()],r.prototype,"_currGalleryIndex",void 0),t._([t.h()],r.prototype,"_currGalleryItemText",void 0),r=t._([t.e("call-to-action-gallery-links")],r)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");
SML.dm("CPSOeCrm6v",["Dw4vb8Yfbm"],(async o=>{const{svg:e}=o.a(),l=o.m(e`<path d="M13.5 2.1a.898.898 0 01.636 1.536L7.773 10l6.363 6.364a.898.898 0 010 1.272.898.898 0 01-1.272 0l-7-7a.898.898 0 010-1.272l7-7A.897.897 0 0113.5 2.1z"></path>`,"0 0 20 20","chevron-left",!0),n=()=>document.getElementById(o.h2);return{a:async({leadGenInfo:e})=>{e&&!n()&&await o.r({name:o.h1})},c:l,s:({leadGenInfo:o,postId:e,impressionId:l,onSuccess:a})=>{o&&n()?.showModal({...o,postId:e,impressionId:l,onSuccess:a,prompt:o.prompt??"",privacyPolicyUrl:o.privacyPolicyUrl??"",leadFormFields:o.leadFormFields??[],formId:o.formId??null,publicEncryptionKey:o.publicEncryptionKey??null})}}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./xrDbp1ee_h.js",import.meta.url,"xrDbp1ee_h");SML.di("./Z0tk4vmzIQ.js",import.meta.url,"Z0tk4vmzIQ");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./BWv2j8jrjX.js",import.meta.url,"BWv2j8jrjX");
SML.dm("CQLIbJ-5V6",["Dw4vb8Yfbm","xrDbp1ee_h","Z0tk4vmzIQ","5r73EsgItq","BWv2j8jrjX"],(async(t,e,i,s)=>{let o=window.location,r=class extends s.s{constructor(){super(...arguments),this.postId="",this.viewContext=e.P.AggregateFeed,this.viewType=t.ag.CardView,this.showFullContent=!1,this.isUpdatingPostBody=!1,this.pubsub=new t.u(this),this.onPostUpdateAction=({postId:s,action:o,value:r})=>{if(this.postId===s)switch(o){case i.a.edit:this.editController?.setEditing(r);break;case i.a.updatePostBodyPending:this.isUpdatingPostBody=r;break;case i.a.updateContent:this.dispatchEvent(t.c(e.d,{postId:s})),this.editController?.resetEditing();break;case i.a.editAma:r&&this.editController?.isEditing&&this.editController.setEditing(!1)}},this.revealTruncatedContent=()=>{this.querySelector(`#${this.postId}-overflow-cover`)?.classList?.add(e.C),this.readMoreButton?.classList?.remove(e.m),this.readMoreButton?.classList?.add(e.C);const t=this.querySelector(`#${this.postId}-post-rtjson-content`);t?.classList?.remove(...e.B.split(" "))},this.handleClickReadMore=()=>{this.revealTruncatedContent(),this.dispatchEvent(t.c(e.R,{postId:this.postId}))}}get isPDP(){return e.i(this.viewContext)}get readMoreButton(){return this.querySelector(`#${this.postId}-read-more-button`)}connectedCallback(){this.pubsub.subscribe(t.T.PostUpdated,this.onPostUpdateAction),this.readMoreButton?.addEventListener("click",this.handleClickReadMore),t.g()&&this.initEditTools(),super.connectedCallback()}disconnectedCallback(){this.readMoreButton?.removeEventListener("click",this.handleClickReadMore),super.disconnectedCallback()}checkPostEditMode(){const e=new URLSearchParams(o.search);if(e.get(i.d)){this.pubsub.publish(t.T.PostUpdated,{postId:this.postId,action:i.a.edit,value:!0}),e.delete(i.d);const s=e.toString(),r=o.pathname+(s.length?"?":"")+s;window.history.replaceState({},document.title,r)}}async initEditTools(){const{EditController:t}=await Promise.resolve().then((function(){return n}));this.editController=new t(this,{getPostId:()=>this.postId,getViewContext:()=>this.viewContext});const{PostPartialUpdateController:e}=await SML.di("./rRtdCP2Jvs.js",import.meta.url,"rRtdCP2Jvs");this.partialUpdateController=new e(this,{getPostId:()=>this.postId,getViewContext:()=>this.viewContext,getViewType:()=>this.viewType,getSubredditPrefixedName:()=>this.subredditPrefixedName,updatePostBodyPendingAction:i.a.updatePostBodyPending}),this.checkPostEditMode()}handleTextBodySlotChange(t){this.showFullContent||requestAnimationFrame((()=>this.hideContentOverflow()))}hideContentOverflow(){const t=this.querySelector(`#${this.postId}-post-rtjson-content`);if(!t)return;const i=this.querySelector(".post-content")||this.querySelector('div[slot="text-body"]'),s=i?.querySelectorAll("faceplate-img"),o=.2*window.innerHeight,r=(s?.length||0)*o,d=this.getMaxTextBodyHeight(t.clientHeight);t.scrollHeight+r>d&&(this.querySelector(`#${this.postId}-overflow-cover`)?.classList?.remove(e.C),this.readMoreButton?.classList?.remove(e.C),this.readMoreButton?.classList?.add(e.m))}getMaxTextBodyHeight(t){return this.isPDP?Math.max(t,253):208}render(){if(this.isUpdatingPostBody)return s.x` <faceplate-shimmer class="h-[200px] w-full px-md xs:px-0" shape="pill"></faceplate-shimmer> `;if(this.editController?.isEditing)return this.editController?.renderEditor();return s.x`<slot @slotchange="${this.handleTextBodySlotChange}" name="${"text-body"}"></slot>`}};r.styles=[t.t],t._([t.n({type:String,attribute:"post-id"})],r.prototype,"postId",void 0),t._([t.n({type:String,attribute:"view-context"})],r.prototype,"viewContext",void 0),t._([t.n({type:String,attribute:"view-type"})],r.prototype,"viewType",void 0),t._([t.n({type:String,attribute:"subreddit-prefixed-name"})],r.prototype,"subredditPrefixedName",void 0),t._([t.n({type:Boolean,attribute:"show-full-content"})],r.prototype,"showFullContent",void 0),t._([t.h()],r.prototype,"isUpdatingPostBody",void 0),r=t._([t.e("shreddit-post-text-body")],r);const d="fetch-post-edit";var n=Object.freeze({__proto__:null,EditController:class{get postId(){return this.args.getPostId()}get viewContext(){return this.args.getViewContext()}constructor(e,o){this.host=e,this.args=o,this._isEligibleForPartialUpdate=!1,this._renderedPartial=!1,this.isEditing=!1,this.setEditing=t=>{this._isEligibleForPartialUpdate&&(t&&!this._renderedPartial?this.host.dispatchEvent(new CustomEvent(d)):this.host.requestUpdate(),this.isEditing=t)},this.resetEditing=()=>{this.isEditing=!1,this._renderedPartial=!1},this.getAndRenderPostEditPartial=async()=>{t.p(t.T.PostUpdated,{postId:this.postId,action:i.a.updatePostBodyPending,value:!0});const e=`/svc/shreddit/edit-post/${this.postId}`,s=await this._partialRequest.request(e),o=await(s?.text());if(o){const e=(new DOMParser).parseFromString(o,"text/html").querySelector('[slot="post-editor"]');e?.innerHTML&&(t.aT(o,this.host,t.P.Append),this._renderedPartial=!0)}t.p(t.T.PostUpdated,{postId:this.postId,action:i.a.updatePostBodyPending,value:!1})},this.renderEditor=()=>s.x`<slot name="post-editor"></slot> `,this._partialRequest=new t.aS(e),e.addController(this)}hostConnected(){this._isEligibleForPartialUpdate=this.viewContext===e.P.CommentsPage,this._isEligibleForPartialUpdate&&this.host.addEventListener(d,this.getAndRenderPostEditPartial)}hostDisconnected(){this._isEligibleForPartialUpdate&&this.host.removeEventListener(d,this.getAndRenderPostEditPartial)}},FetchPostEditEvent:d})}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./B-zFJtiar6.js",import.meta.url,"B-zFJtiar6");
SML.dm("CRAFLHYx6W",["Dw4vb8Yfbm","5r73EsgItq","B-zFJtiar6"],(async(e,t,s)=>{const r=15e3,i=e=>{const t=performance.getEntriesByName(e,"mark");return t.length>0?t.at(-1):null};class o{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}let n=null,a=null;const m=()=>(a||(n=new o,a=new PerformanceObserver((e=>{n.resolve(e),n=new o})),a.observe({entryTypes:["mark"]})),n.promise),c=async(e,t=15e3)=>{const s=i(e);if(s)return s;const r=new Promise(((s,r)=>{setTimeout((()=>{r(new Error(`Timeout waiting for performance mark '${e}' after ${t}ms`))}),t)}));return Promise.race([(async()=>{for(;;){const t=await m();for(const s of t.getEntries())if(s.name===e&&"mark"===s.entryType)return s}})(),r])};const l=async({setTimestamp:t,options:i})=>{const o=i?.timeout??r,n=await c(e.gx,o),a=await c(e.gy,o),m=e.H()===e.au.PostDetail,l=e.g(),d=document.querySelector("shreddit-composer, shreddit-simple-composer");if(m&&l&&d){const s=await c(e.bQ,o);t("composer_complete_ms",s.startTime),t("comment_complete_ms",Math.max(a.startTime,n.startTime,s.startTime))}else t("comment_complete_ms",Math.max(n.startTime,a.startTime));if(document.querySelector("[data-has-ama-tabs]")){t("ama_comment_tabs_complete_ms",(await c(s.bZ,o)).startTime)}return Promise.resolve()};function d(e,t){return async({setTimestamp:s,options:i})=>{const o=i?.timeout??r,n=await c(e,o);return s(t,n.startTime),Promise.resolve()}}const u=async({setTimestamp:t,setAttribute:s,options:i})=>{const o=i?.timeout??r,n=await c(e.gA,o),a=await c(e.gB,o);return t("post_vote_complete_ms",a.startTime),t("post_content_complete_ms",n.startTime),t("post_complete_ms",Math.max(n.startTime,a.startTime)),s("post_content_media_type",n.detail?.mediaType??e.gz.UNKNOWN),Promise.resolve()},h={elements:[{selector:"shreddit-post",checker:u},{selector:'faceplate-partial[name^="TopComments_"], shreddit-comment-tree',checker:l,options:{onlyInViewport:!1}},{selector:"[data-ama-status-bar]",checker:d(s.b_,"ama_status_bar_complete_ms")}],timestamps:e.gC,attributes:e.gD,buildPayload:({isHybridNav:e,timestamps:t,attributes:s})=>({pdp_metrics:{web_pdp_metrics:{is_hybrid_nav:e,...t,...s}}})},_="overview_stats_complete_ms",p="chart_complete_ms",g="shared_links_complete_ms",T="unshared_links_complete_ms",y="communities_complete_ms",b="community_recommendations_complete_ms",k=[_,p,g,T,y,b],w={elements:[{selector:"#article-insights-overview",checker:d("link_insights_overview_stats_ready_mark",_)},{selector:"#article-insights-chart",checker:d("link_insights_chart_ready_mark",p)},{selector:'section[id="shared"]',checker:d("shared_links_ready_mark",g)},{selector:'section[id="unshared"]',checker:d("unshared_links_ready_mark",T)},{selector:'section[id="communities"]',checker:d("communities_ready_mark",y)},{selector:"#article-suggestions",checker:d("community_recommendations_ready_mark",b)}],timestamps:k,buildPayload:({isHybridNav:e,timestamps:t,attributes:s})=>({reddit_pro_links_metrics:{web_reddit_pro_links_metrics:{is_hybrid_nav:e,...t,...s}}})},f={elements:[{selector:"#business-tools-tabgroup",checker:d(s.c1,s.c0)},{selector:"add-keyword-button",checker:d(s.c3,s.c2)},{selector:"#overview-widget-container",checker:d(s.c5,s.c4)},{selector:"#conversation-widget-container",checker:d(s.c7,s.c6)}],timestamps:s.b$,buildPayload:({isHybridNav:e,timestamps:t,attributes:s})=>({reddit_pro_trends_metrics:{web_reddit_pro_trends_metrics:{is_hybrid_nav:e,...t,...s}}})},E={elements:[{selector:"shreddit-post",checker:u},{selector:'faceplate-partial[name^="TopCommentsPermalink_"], shreddit-comment-tree',checker:l,options:{onlyInViewport:!1}},{selector:"[data-ama-status-bar]",checker:d(s.b_,"ama_status_bar_complete_ms")}],timestamps:e.gC,attributes:e.gD,buildPayload:({isHybridNav:e,timestamps:t,attributes:s})=>({pdp_metrics:{web_pdp_metrics:{is_hybrid_nav:e,...t,...s}}})},v={[e.au.PostDetail]:h,[e.au.SingleCommentThread]:E,[e.au.ProfileTrends]:f,[e.au.ArticleInsights]:w};let C=class extends t.s{constructor(){super(),this.name="",this.timestamps={},this.trackedAttributes={},this.hasBeenTracked=!1,this.elementConfigs=new Map}connectedCallback(){if(super.connectedCallback(),this.hasBeenTracked)return;const t=document.querySelector("shreddit-app");if(!t?.isNavigationControllerRestore&&!e.gE()&&!t?.isBot){if(!this.name)throw new Error("CUJ Tracker: Unable to determine config name");if(!this.noun)throw new Error("CUJ Tracker: noun attribute is required");this.registerElements(),this.startTracking()}}registerElements(){const e=v[this.name];if(!e)throw new Error(`CUJ Tracker: No configuration found for config name "${this.name}"`);e.elements.forEach((e=>{this.addElement(e.selector,e.checker,"options"in e?e.options:void 0)}))}async startTracking(){const e=await this.getElementsToTrack();if(!e.length)return void this.onCUJFail(new Error("No elements to track"));const t=e.map((e=>this.createReadinessPromise(e)));try{await Promise.all(t),this.onCUJReady()}catch(e){this.onCUJFail(e)}}addElement(e,t,s){const i={element:document.querySelector(e),checker:t,timeout:r,onlyInViewport:!0,...s};return this.elementConfigs.set(e,i),this}createReadinessPromise(e){const t=this.elementConfigs.get(e);if(!t)throw new Error(`Element ${e} not registered for CUJ reporting`);const s=new Promise(((s,r)=>{setTimeout((()=>{r(new Error(`Element ${e} readiness timeout after ${t.timeout}ms`))}),t.timeout+300)})),r=t.checker({setTimestamp:(e,t)=>{this.timestamps[e]=t},setAttribute:(e,t)=>{this.trackedAttributes[e]=t},options:{timeout:t.timeout}});return Promise.race([r,s])}convertHighPrecisionTimestampToInt(e){return Math.round(e)}getAdjustedTimestamps(e){const t=e?e.startTime:0;return Object.fromEntries(Object.entries(this.timestamps).filter((([,e])=>void 0!==e)).map((([e,s])=>[e,this.convertHighPrecisionTimestampToInt(s-t)])))}getTimeToComplete(e){return Math.max(...Object.values(e))}onCUJReady(){this.hasBeenTracked=!0;const t=v[this.name],s=i("InternalNavigationStart"),r=this.getAdjustedTimestamps(s),o=this.getTimeToComplete(r),n=t.buildPayload({isHybridNav:!!s,timestamps:r,attributes:this.trackedAttributes});e.i(this,e.b({source:e.gG,action:e.gH,noun:this.noun},{status:e.gF.SUCCESS,time_to_complete_ms:o,...n}))}onCUJFail(t){this.hasBeenTracked=!0,e.i(this,e.b({source:e.gG,action:e.gH,noun:this.noun},{status:e.gF.FAIL,failure_reason:t instanceof Error?t.message:String(t)}))}async getElementsToTrack(){return new Promise((e=>{requestAnimationFrame((()=>{const t=Array.from(this.elementConfigs.keys()).filter((e=>{const t=document.querySelector(e);if(!t)return!1;const s=this.elementConfigs.get(e);return!!s&&function(e,t={}){const{checkInViewport:s=!0,requireVisible:r=!1}=t,i=e.getBoundingClientRect(),o=window.innerHeight||document.documentElement.clientHeight,n=window.innerWidth||document.documentElement.clientWidth;let a=!0;if(s){const e=i.bottom>0&&i.right>0&&i.top<o&&i.left<n;a=a&&e}if(r){const t=window.getComputedStyle(e),s=i.width>0&&i.height>0&&"none"!==t.display&&"hidden"!==t.visibility&&"0"!==t.opacity;a=a&&s}return a}(t,{checkInViewport:s.onlyInViewport,requireVisible:s.requireVisible??!1})}));e(t)}))}))}};e._([e.n({type:String,attribute:"name"})],C.prototype,"name",void 0),e._([e.n({type:String,attribute:"noun"})],C.prototype,"noun",void 0),C=e._([e.e("cuj-tracker")],C)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");
SML.dm("CT6LvHLTgy",["Dw4vb8Yfbm"],(async o=>{var n;return function(o){o.Back="back",o.Close="close",o.GetApp="get_app",o.Login="login",o.NotOver18="im_not_over_18",o.Over18="continue",o.Signup="signup",o.DontShowAgain="dont_show",o.Report="report"}(n||(n={})),{get B(){return n},a:n=>o.b({source:"xpromo",action:"click",noun:"recap"},{popup:{button_text:n}}),r:()=>o.b({source:"xpromo",action:"view",noun:"recap"})}}));
SML.di("./CBbxnHsw2W.js",import.meta.url,"CBbxnHsw2W");SML.di("./gtZ2AI5tN1.js",import.meta.url,"gtZ2AI5tN1");SML.di("./RXNEUFNiHt.js",import.meta.url,"RXNEUFNiHt");SML.di("./B6sa1lzoK7.js",import.meta.url,"B6sa1lzoK7");SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./B-zFJtiar6.js",import.meta.url,"B-zFJtiar6");
SML.dm("CX9iBhlNyV",["Dw4vb8Yfbm","CBbxnHsw2W","gtZ2AI5tN1","RXNEUFNiHt","B6sa1lzoK7","5r73EsgItq","B-zFJtiar6"],(async E=>{E.g()&&(SML.di("./DOxctwiKdK.js",import.meta.url,"DOxctwiKdK"),SML.di("./DoCq85Ab_P.js",import.meta.url,"DoCq85Ab_P"),SML.di("./Y2C3EtFWwv.js",import.meta.url,"Y2C3EtFWwv"))}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");
SML.dm("C_bmnG8wYl",["Dw4vb8Yfbm"],(async c=>{const{svg:a}=c.a();return{p:c.m(a`<path d="M18.17 6.19c0-1.13-.44-2.19-1.24-2.99l-.17-.17c-.8-.8-1.86-1.24-2.99-1.24-1.13 0-2.19.44-2.99 1.24L8.83 4.98a6.2 6.2 0 00-2.71.12c-1.06.28-2.02.84-2.8 1.61a.9.9 0 00-.26.64c0 .24.09.47.26.64l3.72 3.72-4.96 4.96a.9.9 0 000 1.27c.18.18.41.26.64.26.23 0 .46-.09.64-.26l4.96-4.96 3.64 3.64c.17.17.4.26.64.26s.47-.1.64-.26c.77-.77 1.33-1.74 1.61-2.79.24-.88.28-1.81.12-2.7l1.96-1.95c.8-.8 1.24-1.86 1.24-2.99zM15.66 7.9l-2.7 2.69c.35.89.4 1.86.15 2.78-.12.46-.32.89-.58 1.29L5.3 7.43a4.42 4.42 0 014.07-.42l2.69-2.69c.94-.94 2.48-.94 3.42 0l.17.17c.46.46.71 1.07.71 1.71 0 .64-.25 1.26-.71 1.71l.01-.01z"></path>`,"0 0 20 20","pin")}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");
SML.dm("Cisrc9cRpB",["Dw4vb8Yfbm"],(async c=>{const{svg:M}=c.a();return{r:c.m(M`<path d="M16.38 16.34A8.967 8.967 0 0019 10c0-4.96-4.04-9-9-9-2.47 0-4.71 1-6.34 2.62 0 0-.01 0-.02.01s0 .01-.01.02a8.967 8.967 0 00-2.62 6.34c0 4.96 4.04 9 9 9 2.47 0 4.71-1 6.34-2.62 0 0 .01 0 .02-.01s0-.01.01-.02zM17.2 10c0 1.66-.57 3.19-1.52 4.41L5.59 4.32A7.157 7.157 0 0110 2.8c3.97 0 7.2 3.23 7.2 7.2zM2.8 10c0-1.66.57-3.19 1.52-4.41l10.09 10.09A7.157 7.157 0 0110 17.2c-3.97 0-7.2-3.23-7.2-7.2z"></path>`,"0 0 20 20","remove")}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");
SML.dm("CjgEd4y4FT",["Dw4vb8Yfbm"],(async a=>{const{svg:t}=a.a();return{t:a.m(t`<path d="M16.316 3.684V8.61c0 .627-.26 1.236-.712 1.671l-6.44 6.183a1.612 1.612 0 01-1.127.456c-.433 0-.839-.168-1.145-.474L3.52 13.073a1.626 1.626 0 01-.018-2.271l6.215-6.413a2.327 2.327 0 011.663-.704l4.937-.001zM16.85 2h-5.47a4 4 0 00-2.873 1.216L2.292 9.629a3.304 3.304 0 00.036 4.634l3.373 3.373c.644.644 1.49.967 2.335.967.828 0 1.657-.31 2.297-.93l6.436-6.178A3.998 3.998 0 0018 8.609V3.15A1.15 1.15 0 0016.85 2zM13 8.75a1.75 1.75 0 10.001-3.499 1.75 1.75 0 000 3.499z"></path>`,"0 0 20 20","tag")}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");
SML.dm("Cn5JTNK6V3",["Dw4vb8Yfbm"],(async a=>{const{svg:n}=a.a();return{c:a.m(n`<path d="M10 1a9 9 0 00-9 9c0 1.947.79 3.58 1.935 4.957L.231 17.661A.784.784 0 00.785 19H10a9 9 0 009-9 9 9 0 00-9-9zm0 16.2H6.162c-.994.004-1.907.053-3.045.144l-.076-.188a36.981 36.981 0 002.328-2.087l-1.05-1.263C3.297 12.576 2.8 11.331 2.8 10c0-3.97 3.23-7.2 7.2-7.2s7.2 3.23 7.2 7.2-3.23 7.2-7.2 7.2z"></path>`,"0 0 20 20","comment"),i:a=>!!a&&(a.indexOf("profileIcon_snoo")>-1||a.indexOf("snoovatar/avatars")>-1||a.endsWith("snoovatar_anonymous.svg"))}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./jTFRatIQcd.js",import.meta.url,"jTFRatIQcd");SML.di("./DWhb02bbsY.js",import.meta.url,"DWhb02bbsY");SML.di("./DLXAqLxSut.js",import.meta.url,"DLXAqLxSut");SML.di("./xrDbp1ee_h.js",import.meta.url,"xrDbp1ee_h");SML.di("./uOlAvv4IVq.js",import.meta.url,"uOlAvv4IVq");SML.di("./tO6bKRQro7.js",import.meta.url,"tO6bKRQro7");
SML.dm("Cpom3ssQxB",["Dw4vb8Yfbm","5r73EsgItq","jTFRatIQcd","DWhb02bbsY","DLXAqLxSut","xrDbp1ee_h","uOlAvv4IVq","tO6bKRQro7"],(async(t,a,i,e,s,n,r)=>{let o=class extends a.s{constructor(){super(...arguments),this.isModTranslationIndicatorsEnabled=!1,this.translationContextValue=t.aQ,this.pubsub=new t.u(this),this.getIsTranslationActive=()=>{const a=s.i();return(!this.isModTranslationIndicatorsEnabled||this.translationState!==t.bt.DISABLED)&&("boolean"==typeof this.postTranslated?this.postTranslated:a||!!this.translationContextValue?.isTranslationActive)},this.onPostTranslationOverride=t=>{(t.id===this.postId||t.isContextUpdateEvent)&&(this.postTranslated=t.isTranslationActive)},this.handleClick=()=>{if(!this.postId)return;const a=this.getPageTypeForTranslation(t.H()),i=this.getIsTranslationActive();this.pubsub.publish(t.T.I18nPostTranslationOverride,{id:this.postId,isTranslationActive:!i,pageType:a});const e=document.querySelector(`shreddit-post[id*="${this.postId}"]`);t.i(this,n.s({archived:e?.archived,authorId:e?.authorId,createdTimestamp:e?.createdTimestamp,domain:e?.domain,id:this.postId,nsfw:e?.nsfw,promoted:e?.promoted,score:e?.score,spoiler:e?.spoiler,subredditId:e?.subredditId,subredditPrefixedName:e?.subredditPrefixedName,postTitle:e?.postTitle,postType:e?.postType,recommendationSource:e?.recommendationSource,commentCount:e?.commentCount,permalink:e?.permalink,postLanguage:e?.postLanguage,translationLanguage:this.translationLanguage,isPostTranslated:i}))}}connectedCallback(){super.connectedCallback(),this.pubsub.subscribe(t.T.I18nPostTranslationOverride,this.onPostTranslationOverride,!1);const a=s.P.get();this.isPdpBannerSettingEnabled=a?.isPdpBannerSettingEnabled??!0,this.pageType=t.H()}updated(t){s.s({changedProperties:t,translationContextValue:this.translationContextValue,overrideEnabled:this.postTranslated})&&(this.postTranslated=void 0)}getPageTypeForTranslation(a){return!!a&&[t.au.PostDetail,t.au.ModQueue,t.au.ModQueueAll,t.au.ModQueuePdp].includes(a)?r.T.Pdp:r.T.Feed}render(){return this.isPdpBannerSettingEnabled&&this.pageType===t.au.PostDetail?a.A:a.x` <rpl-tooltip appearance="inverted" placement="top" trigger="hover focus" content="${this.getIsTranslationActive()?"Show original":"Translate"}"> ${t.o({appearance:"plain",attributes:{onclick:this.handleClick,"aria-label":"Toggle post translation"},leadingIcon:this.getIsTranslationActive()?i.t({size:a.I.ExtraSmall,attributes:{"data-testid":"post-translation-status-icon-translated-icon","aria-label":"Post is translated",className:"text-primary-plain"}}):e.t({size:a.I.ExtraSmall,attributes:{"data-testid":"post-translation-status-icon-original-icon","aria-label":"Post is in original language",className:"text-primary-plain"}}),size:t.q.ExtraSmall})} </rpl-tooltip> `;}};o.styles=[t.t],t._([t.n({type:String,attribute:"post-id"})],o.prototype,"postId",void 0),t._([t.n({type:String,attribute:"translation-language"})],o.prototype,"translationLanguage",void 0),t._([t.n({type:String,attribute:"translation-state"})],o.prototype,"translationState",void 0),t._([t.n({type:Boolean,attribute:"is-mod-translation-indicators-enabled"})],o.prototype,"isModTranslationIndicatorsEnabled",void 0),t._([t.aP({context:t.aR,subscribe:!0}),t.h()],o.prototype,"translationContextValue",void 0),t._([t.h()],o.prototype,"postTranslated",void 0),t._([t.h()],o.prototype,"isPdpBannerSettingEnabled",void 0),t._([t.h()],o.prototype,"pageType",void 0),o=t._([t.e("post-translation-status-icon")],o)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./xrDbp1ee_h.js",import.meta.url,"xrDbp1ee_h");SML.di("./B-zFJtiar6.js",import.meta.url,"B-zFJtiar6");
SML.dm("Cq_XTZLzWW",["Dw4vb8Yfbm","5r73EsgItq","xrDbp1ee_h","B-zFJtiar6"],(async(e,t,i)=>{var a=t.a`.image-caption-container-collapsed{background:rgba(0,0,0,.6)}.image-caption-container-expanded{background:rgba(0,0,0,.8)}.text-primary-blue{color:#629fff}`;let o=class extends t.s{constructor(){super(...arguments),this.imageCaption="",this.outboundUrl="",this.shortenedUrl="",this.imageIndex="",this.isMore=!0,this.shouldShowMoreLessButton=()=>{const e=this.shadowRoot?.querySelector("figCaption")?.querySelector(`#gallery-image-caption-text-${this.imageIndex}`);if((e?.scrollWidth||0)>(e?.clientWidth||0)||(e?.scrollHeight||0)>(e?.clientHeight||0)){const e=this.shadowRoot?.querySelector("figCaption")?.querySelector(`#caption-more-button-${this.imageIndex}`);e?.classList?.remove(i.C),e?.classList?.add(i.m)}}}static get styles(){return[e.t,a]}getTruncateTextOverFlow(){return this.outboundUrl?"truncate":"line-clamp-2"}showMoreLessButtonText(){return this.isMore?"more":"less";}updateCaptionContainer(){const e=this.shadowRoot?.querySelector("figCaption"),t=e?.querySelector(`#gallery-image-caption-container-${this.imageIndex}`),i=e?.querySelector(`#gallery-image-caption-text-container-${this.imageIndex}`),a=e?.querySelector(`#gallery-image-caption-text-${this.imageIndex}`);this.isMore?(i?.classList?.remove("overflow-auto"),a?.classList?.add(this.getTruncateTextOverFlow()),t?.classList?.remove("image-caption-container-expanded"),t?.classList?.add("image-caption-container-collapsed")):(i?.classList?.add("overflow-auto"),a?.classList?.remove(this.getTruncateTextOverFlow()),t?.classList?.remove("image-caption-container-collapsed"),t?.classList?.add("image-caption-container-expanded"))}handleMoreLessButtonClicked(e){e.stopPropagation(),e.preventDefault(),this.isMore=!this.isMore,this.updateCaptionContainer();const t=this.shadowRoot?.querySelector("figCaption")?.querySelector(`#caption-more-button-${this.imageIndex}`),i=t?.querySelector(`#caption-more-button-text-${this.imageIndex}`);i&&(i.textContent=this.showMoreLessButtonText())}showMoreLessButton(){return t.x`${e.o({appearance:"primary",size:e.q.Small,attributes:{className:"text-primary-blue not-italic font-bold text-12 flex items-end bg-transparent\n            hover:bg-transparent focus:bg-transparent active:bg-transparent visited:bg-transparent\n            hidden rounded-none",onclick:this.handleMoreLessButtonClicked,id:`caption-more-button-${this.imageIndex}`},children:t.x` <div class="w-full"> <span id="caption-more-button-text-${this.imageIndex}">${this.showMoreLessButtonText()} </span> </div>`})}`}firstUpdated(){this.shouldShowMoreLessButton()}render(){return t.x` <figcaption class="p-xs absolute h-auto left-0 right-0 bottom-0 mb-xl"> <div id="gallery-image-caption-container-${this.imageIndex}" class="box-border flex flex-col items-start h-auto border-[0.5px] border-solid border-neutral-border-weak shadow-[0px_4px_4px_rgba(0, 0, 0, 0.15)_0px_1px_4px_rgba(0, 0, 0, 0.15)] rounded-2 py-2xs px-xs image-caption-container-collapsed flex-1"> ${this.imageCaption&&t.x` <div id="gallery-image-caption-text-container-${this.imageIndex}" class="${"flex flex-row items-center w-full gap-2xs"}"> <span id="gallery-image-caption-text-${this.imageIndex}" class="text-media-onbackground font-normal text-12 ${this.getTruncateTextOverFlow()}" title="${this.imageCaption}">${this.imageCaption} </span> ${this.outboundUrl?"":t.x`${this.showMoreLessButton()}`} </div> `} ${this.outboundUrl&&t.x` <div id="gallery-image-caption-url-container-${this.imageIndex}" class="flex flex-row items-center w-full h-md gap-2xs"> <a class="flex flex-row items-center p-0 gap-2xs w-full" href="${this.outboundUrl}" rel="noopener nofollow ugc" target="_blank"> <span class="font-bold text-12 truncate text-primary-blue"> ${this.shortenedUrl||this.outboundUrl} </span> </a> ${this.showMoreLessButton()} </div> `} </div> </figcaption>`}};return e._([e.n({type:String,attribute:"image-caption"})],o.prototype,"imageCaption",void 0),e._([e.n({type:String,attribute:"outbound-url"})],o.prototype,"outboundUrl",void 0),e._([e.n({type:String,attribute:"shortened-url"})],o.prototype,"shortenedUrl",void 0),e._([e.n({type:String,attribute:"image-index"})],o.prototype,"imageIndex",void 0),o=e._([e.e("gallery-caption")],o),{get GalleryCaption(){return o}}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");
SML.dm("Cquj4gqZDa",["Dw4vb8Yfbm","5r73EsgItq"],(async(t,i)=>{t.d9(i.a`#shreddit-media-lightbox .lightboxed-content{display:flex;align-items:center;justify-content:center;width:100%;height:100%}#shreddit-media-lightbox .non-lightboxed-content{display:none}#shreddit-media-lightbox .media-lightbox-img{max-height:none}#shreddit-media-lightbox::part(panel){max-width:100svw;max-height:100svh;width:100svw;height:100svh;border-radius:0}`);let e=class extends i.s{constructor(){super(...arguments),this._isConnected=!1,this._push=t.dG,this._lightboxUrl=void 0,this.pubsub=new t.u(this),this.templateRef=t.a3(),this.contentRef=t.a3(),this._hideCloseButtonOnIdle=!1,this.disableAnimations=!1,this.isIdle=!1,this.lightboxOpenHandler=({element:t,attributes:i={}})=>{const e=i.permalink??window.location.href;try{const s=e.startsWith("http")?e:`${window.location.origin}${e}`;this._lightboxUrl=new URL(`${s}#lightbox`),this._push(this._lightboxUrl.href,{onForwardNav:()=>this.showModal({element:t,attributes:i}),onBackNav:()=>this.dialog?.hide()})}catch(s){this.showModal({element:t,attributes:i}),window.Sentry?.captureException?.(`shreddit-media-lightbox: Error parsing permalink ${e}`,s)}},this.showModal=({element:i,attributes:e={}})=>{if(this.dialog?.open)return;const{hideCloseButtonOnIdle:s,onAfterClose:o}=e;this._hideCloseButtonOnIdle=s??!1,this._onAfterClose=o,this._originalParent=i,this._originalParentHeight=i.offsetHeight||i.parentElement?.offsetHeight,this.dialog?.showModal(),this.pubsub.publish(t.T.LightboxOpened)},this.onAfterShow=()=>{const t=document.createElement("div");t.style.height=`${this._originalParentHeight}px`,this.contentRef?.value?.replaceChildren(...(this._originalParent?.children || [])),this._originalParent?.appendChild(t),this._startIdleTimer(),this.isIdle=!1},this.lightboxCloseHandler=()=>{this.dialog?.open&&this.dialog?.hide()},this.onDialogHide=()=>{this.pubsub.publish(t.T.LightboxClosed),this.contentRef?.value?.children&&this._originalParent&&(this._originalParent.replaceChildren(...this.contentRef.value.children),this.contentRef.value.innerHTML=""),this._originalParent=void 0,this._hideCloseButtonOnIdle=!1,this._idleTimeout=void 0,this.isIdle=!1;const i=window.navigation?.currentEntry?.url!==this._lightboxUrl?.href;window.navigation?.canGoBack&&!i&&(this._lightboxUrl=void 0,window.navigation.back())},this.onAfterHide=()=>{this._onAfterClose&&(this._onAfterClose(),this._onAfterClose=void 0)},this._startIdleTimer=()=>{this._hideCloseButtonOnIdle&&(this._stopIdleTimer(),this._idleTimeout=window.setTimeout((()=>{this.isIdle=!0}),1500))}}static get styles(){return[t.t]}connectedCallback(){super.connectedCallback();Array.from(document.getElementsByTagName("shreddit-media-lightbox")).some((t=>t._isConnected))||(this._isConnected=!0,this.pubsub.subscribe(t.T.LightboxOpen,this.lightboxOpenHandler,!1),this.pubsub.subscribe(t.T.LightboxClose,this.lightboxCloseHandler,!1))}firstUpdated(){this.dialog&&this.disableAnimations&&function(i){const e={keyframes:[],options:{duration:0}};["dialog.show","dialog.hide","dialog.denyClose","dialog.overlay.show","dialog.overlay.hide"].forEach((s=>{t.g9(i,s,e)}))}(this.dialog)}disconnectedCallback(){super.disconnectedCallback(),this._isConnected&&(this.dialog?.open&&this.dialog?.hide(),this._isConnected=!1)}_stopIdleTimer(){window.clearTimeout(this._idleTimeout),this._idleTimeout=void 0,this.isIdle=!1}render(){if(this._isConnected){const e=i.x`<div data-testid="lightbox-template" class="relative h-full w-full" @mousemove="${this._startIdleTimer}" @click="${this._startIdleTimer}" @keydown="${this._startIdleTimer}" ${t.a4(this.templateRef)}> <div data-testid="lightbox-template-content" class="h-full w-full max-h-dvh" ${t.a4(this.contentRef)}></div> ${t.o({size:t.q.Large,appearance:"media",shape:"pill",attributes:{"data-testid":"close-button",className:"absolute top-sm end-sm z-10 duration-300 "+(this.isIdle?"opacity-0 invisible":"opacity-100"),"aria-label":"Close lightbox",onclick:()=>{this.dialog?.hide()}},children:t.al({size:i.I.Medium})})} </div>`;return i.x` <rpl-dialog dialog-id="${"shreddit-media-lightbox"}" @rpl-dialog:after-show="${this.onAfterShow}" @rpl-dialog:hide="${this.onDialogHide}" @rpl-dialog:after-hide="${this.onAfterHide}" .litTemplateChildren="${e}"> </rpl-dialog> `}return""}};t._([t.n({type:Boolean,attribute:"disable-animations"})],e.prototype,"disableAnimations",void 0),t._([t.h()],e.prototype,"isIdle",void 0),t._([t.a2("rpl-dialog")],e.prototype,"dialog",void 0),e=t._([t.e("shreddit-media-lightbox")],e);let s=class extends i.s{constructor(){super(...arguments),this.pubsub=new t.u(this),this.handleInteraction=i=>{t.j(i)&&this.openLightbox()},this.handleTrigger=({postId:t})=>{t===this.postId&&this.openLightbox()},this.openLightbox=()=>{this.pubsub.publish(t.T.LightboxOpen,{element:this,attributes:{permalink:this.permalink}})}}connectedCallback(){super.connectedCallback(),this.pubsub.subscribe(t.T.TriggerLightboxOpen,this.handleTrigger,!1)}render(){return i.x`<slot @click="${this.handleInteraction}" @keypress="${this.handleInteraction}"></slot>`}};s.styles=[i.a`:host{cursor:pointer}`,t.t],t._([t.n({type:String,attribute:"post-id"})],s.prototype,"postId",void 0),t._([t.n({type:String,attribute:"permalink"})],s.prototype,"permalink",void 0),s=t._([t.e("shreddit-media-lightbox-listener")],s)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./BtqmVQuPYp.js",import.meta.url,"BtqmVQuPYp");SML.di("./B-zFJtiar6.js",import.meta.url,"B-zFJtiar6");SML.di("./BLrhRle6xP.js",import.meta.url,"BLrhRle6xP");SML.di("./CPSOeCrm6v.js",import.meta.url,"CPSOeCrm6v");SML.di("./C3-eAP6Oln.js",import.meta.url,"C3-eAP6Oln");SML.di("./DMGDObG7XA.js",import.meta.url,"DMGDObG7XA");
SML.dm("Ctcf-FPPNG",["Dw4vb8Yfbm","5r73EsgItq","BtqmVQuPYp","B-zFJtiar6","BLrhRle6xP","CPSOeCrm6v","C3-eAP6Oln","DMGDObG7XA"],(async(t,i,e,s,n,a,o,r)=>{const{svg:l}=t.a(),h=t.m(l`<path d="M15.7 5H15v-.7C15 2.48 13.52 1 11.7 1H4.3C2.48 1 1 2.48 1 4.3v7.4C1 13.52 2.48 15 4.3 15H5v.7C5 17.52 6.48 19 8.3 19h7.4c1.82 0 3.3-1.48 3.3-3.3V8.3C19 6.48 17.52 5 15.7 5zM6.8 15.7v-.54l1.79-1.79a2.19 2.19 0 013.09 0l3.83 3.83H8.3c-.83 0-1.5-.67-1.5-1.5zm8.7-5.7c0 .83-.67 1.5-1.5 1.5s-1.5-.67-1.5-1.5.67-1.5 1.5-1.5 1.5.67 1.5 1.5zM4.3 13.2c-.83 0-1.5-.67-1.5-1.5V4.3c0-.83.67-1.5 1.5-1.5h7.4c.83 0 1.5.67 1.5 1.5V5H8.3C6.48 5 5 6.48 5 8.3v4.9h-.7z"></path>`,"0 0 20 20","gallery-fill");let d=class extends i.s{constructor(){super(...arguments),this.appearance=r.P.PLAIN,this.autoplay=0,this.pages=0,this.pageIndex=0,this.isAnimationFinished=!1,this._currentAnimation=null,this.handleAutoplayInterruption=async t=>{this.cancelAnimation(t)},this.cancelAnimation=async t=>{const i=await this._autoplayPillContainer;if(i){const{children:e}=i;if(e[t]?.firstElementChild){const i=e[t]?.firstElementChild?.getAnimations().map((t=>(t.cancel(),t.ready)));i&&await Promise.all(i)}}},this.resetAnimations=async()=>{const t=await this._autoplayPillContainer;if(t){const{children:i}=t;for(let t=0;t<i.length;t++)this.cancelAnimation(t)}},this.animatePill=async()=>{this.isAnimationFinished=!1;try{await this.updateComplete,this._currentAnimation?.cancel();const t=[{backgroundColor:"var(--color-neutral-border-medium)",width:0,height:"var(--rem4)"},{backgroundColor:"var(--color-neutral-border-medium)",width:"100%",height:"var(--rem4)"}],i={duration:this.autoplay,fill:"forwards",iterations:1},{children:e}=await this._autoplayPillContainer,s=e?.[this.pageIndex]?.firstElementChild;this._currentAnimation=s?.animate(t,i),await(this._currentAnimation?.finished),this.isAnimationFinished=!0}catch(t){t instanceof DOMException&&"AbortError"===t.name||console.error(t)}},this.pauseAnimation=()=>{this._currentAnimation?.pause()},this.resumeAnimation=()=>{this._currentAnimation?.play()},this.render=()=>{if(0!==this.pages)return i.x` <div class="pagination-container"> <div class="${t.Z({"pagination-controls":!0,plain:this.appearance===r.P.PLAIN,media:this.appearance===r.P.MEDIA,autoplay:this.autoplay})}"> <span id="autoplay-pill-container">${[...Array(this.pages).keys()].map(((e,s)=>i.x`<span class="${t.Z({track:!0,"in-view":this.pageIndex===s})}"> <span class="${t.Z({autoplayPill:!0,"in-view":this.pageIndex===s,viewed:s<this.pageIndex,plain:this.appearance===r.P.PLAIN,media:this.appearance===r.P.MEDIA})}"></span> </span>`))}</span> </div> </div> `}}static get styles(){return i.a`:host{display:block;box-sizing:border-box}.pagination-container{display:flex;justify-content:center}.track.in-view{height:var(--rem4,.25rem);border-radius:var(--rem2,.125rem)}.autoplayPill,.track{height:var(--rem2,.125rem);display:inline-block;border-radius:var(--rem2,.0625);width:100%}.autoplayPill{position:absolute}.track{background-color:var(--color-neutral-border);flex:1;margin:0 var(--rem2,.125rem);display:inline-block;position:relative}#autoplay-pill-container{display:flex;width:100%;align-items:center}.autoplayPill.viewed{background-color:var(--color-neutral-border-medium)}.pagination-controls.autoplay{width:90%}.pagination-controls.media.autoplay{position:absolute;bottom:var(--rem12,.75rem);z-index:2}.pagination-controls{display:flex;align-items:center;justify-content:center}.pagination-controls.plain .current-page-indicator{color:var(--color-media-onbackground)}.pagination-controls.media .current-page-indicator{color:var(--color-neutral-content)}`}updated(t){t.has("pageIndex")&&!this.isAnimationFinished&&this.handleAutoplayInterruption(t.get("pageIndex"))}};var c,u,p,m,g;t._([t.n({type:String,attribute:"appearance"})],d.prototype,"appearance",void 0),t._([t.n({type:Number})],d.prototype,"autoplay",void 0),t._([t.n({type:Number})],d.prototype,"pages",void 0),t._([t.n({type:Number,attribute:"page-index"})],d.prototype,"pageIndex",void 0),t._([t.h()],d.prototype,"isAnimationFinished",void 0),t._([t.eh("#autoplay-pill-container")],d.prototype,"_autoplayPillContainer",void 0),d=t._([t.e("faceplate-carousel-pagination")],d),function(t){t.OUTSIDE="outside",t.INSIDE="inside",t.OFF="off"}(c||(c={})),function(t){t.NEXT="next",t.BOTH="both",t.OFF="off"}(u||(u={})),function(t){t.INSIDE="inside",t.OUTSIDE="outside",t.OFF="off"}(p||(p={})),function(t){t.FORWARDS="forwards",t.BACKWARDS="backwards"}(m||(m={})),function(t){t.LEFT="left",t.CENTER="center",t.OFF="off"}(g||(g={}));let y=class extends i.s{constructor(){super(...arguments),this.navPlacement=p.OUTSIDE,this.paginationPlacement=c.OUTSIDE,this.autoplay="default",this.advanceAnimation=!1,this.numVisible=1,this.infinite=!1,this.inset=u.OFF,this.startIndex=0,this._pageIndex=0,this.pageCount=0,this.isCarouselInitialized=!1,this.hasBeenInteractedWith=!1,this._childCount=0,this._autoplayTimeoutId=null,this._isInsetBothAllowed=!1,this._lowerBoundOffset=0,this._upperBoundOffset=0,this._prevButtonHidden=!1,this._isNextButtonHidden=!1,this._gap=0,this._gapTotal=0,this._autoplayPaginationRef=t.a3(),this._carouselListRef=t.a3(),this._gesture=null,this.firstRender=!0,this.autoplayInProgress=!1,this.hidePrevButton=!1,this.hideNextButton=!1,this.emitter=s.n(this),this._animationStartTime=0,this._animationRemainingTime=0,this.generateAriaLiveMsg=({pageIndex:t,numVisible:i,pageCount:e})=>{const s=t*i+1;return i>1?`Items ${s} through ${s+i-1} of ${e}`:`Item ${s} of ${e}`},this.updated=async t=>{(t.has("numVisible")||t.has("infinite")||t.has("inset")||t.has("autoplay")||t.has("navPlacement")||t.has("paginationPlacement")||t.has("pageWidth"))&&((t.has("inset")||t.has("navPlacement"))&&(this.cachedDimensions=null),this.firstRender||this.resetAndInitialize()),(t.has("_pageIndex")||t.has("infinite"))&&this.toggleDisabledProgressButtons()},this.resetAndInitialize=()=>{this.resetCarousel(),this.initializeCarousel()},this.initializeResize=()=>{this.resizeObserver&&this.resizeObserver.disconnect(),this.resizeObserver=new ResizeObserver((async()=>{if(!this.firstRender){this.cachedDimensions=null,await new Promise((t=>requestAnimationFrame(t)));const t=this.getCarouselDimensions();t&&await this.showFirstChild(t.width)}})),this.resizeObserver.observe(this)},this.intersectionCallback=t=>{t.forEach((t=>{t.target.style.visibility=t.isIntersecting?"visible":"hidden"}));const i=new CustomEvent("__TEST-ONLY_carousel-intersection");this.dispatchEvent(i)},this.initializeIntersectionObserver=()=>{if(this._intersectionObserver=new IntersectionObserver(this.intersectionCallback,{root:this._carouselListRef?.value}),this.carouselSlot.children)for(const t of Array.from(this.carouselSlot.children))this._intersectionObserver.observe(t)},this.onPaginationClick=t=>{this.goToPage(t.detail.pageIndex,!0)},this.initializeCarousel=()=>{if(this.isCarouselInitialized)return;const{children:t}=this.carouselSlot;this.setChildAndPageCount(t),this.handleAutoPlay(),this._isInsetBothAllowed=this._childCount>=3&&(this.inset===u.BOTH||this.alignment===g.CENTER),this.infinite&&this.cloneBoundElements({children:t});if(this.navPlacement===p.INSIDE&&this.paginationPlacement===c.INSIDE||!this.firstRender){const t=this.getCarouselDimensions();t&&this.showFirstChild(t.width)}this.firstRender=!1,this.isCarouselInitialized=!0,this.initListMutationObserver(),this.initializeVisibility(),this.initializeIntersectionObserver(),this.toggleDisabledProgressButtons(),this._paginationCounter?.[0]&&(this._paginationCounter[0].style.visibility=this.pageCount<=5?"hidden":"visible");const i=new CustomEvent("__TEST-ONLY_carousel-initialized");this.dispatchEvent(i)},this.showFirstChild=async t=>{!this.hasBeenInteractedWith&&this.startIndex&&(this._pageIndex=this.startIndex),await this.setChildDimensions(t),this.goToPage(this.pageIndex,!1);const i=new CustomEvent("__TEST-ONLY_carousel-children-ready",{bubbles:!0});this.dispatchEvent(i)},this.handleAutoPlay=async()=>{"off"===this.autoplay||isNaN(this._autoplaySpeed)||(this.autoplayInProgress&&this.clearAnimationTimeout(),this.autoplayInProgress=!0,(this.infinite||this._pageIndex<this.pageCount-1)&&(this._animationStartTime=Date.now(),this._autoplayPaginationRef?.value?.animatePill(),this._autoplayTimeoutId=setTimeout((async()=>{await this.slideForwards(),this.handleAutoPlay()}),this._autoplaySpeed)))},this.cachedDimensions=null,this.getCarouselDimensions=()=>{if(this.cachedDimensions)return this.cachedDimensions;const t=this._carouselListRef.value?.getBoundingClientRect();if(t){const{width:i}=t;return this.cachedDimensions={width:i,height:t.height},this.cachedDimensions}},this.calcChildWidth=t=>{if(this.pageWidth)return"string"==typeof this.pageWidth&&this.pageWidth.endsWith("%")?t*(parseInt(this.pageWidth)/100):this.pageWidth;let i=0;this._gapTotal=this._gap*(this.numVisible-1)||0,this.inset!==u.OFF&&(i=48*(this.inset===u.NEXT?1:2),this._gapTotal=this._gap*(this.inset===u.NEXT?this.numVisible:this.numVisible+1));return(t-this._gapTotal-i)/this.numVisible},this.setChildDimensions=async t=>{this._gap=parseInt(getComputedStyle(this.carouselSlot).getPropertyValue("gap"))||0;for(const i of Array.from(this.carouselSlot.children)){const{width:e}=i.getBoundingClientRect(),s=i;if(s.style.boxSizing="border-box",t){const i=this.calcChildWidth(t);i!==e&&(s.style.width="number"==typeof i?`${i}px`:i)}"100%"!==s.style.height&&(s.style.height="100%"),"hidden"!==s.style.overflow&&(s.style.overflow="hidden")}},this.prepareNextSlideVisibility=t=>{const i=this.carouselSlot.children.length;for(let e=t;e<Math.min(t+this.numVisible,i);e++)this.carouselSlot.children[e].style.visibility="visible"},this.handleTranslateXWithOffset=async({element:t,startIndex:i})=>{this.prepareNextSlideVisibility(i);let e="";const s=this.insetWidth(t);if(this._isInsetBothAllowed)switch(i){case 0:e="0px";break;case this.pageCount-1:e=this.isRTL?`calc(-1 * ${t.offsetLeft}px)`:`calc(-1 * (${t.offsetLeft}px - ${2*s}px - ${this._gap*this.numGaps}px))`;break;default:e=`calc(-1 * (${t.offsetLeft}px - ${s}px - ${this._gap}px))`}else{const i=getComputedStyle(this.carouselSlot),s=parseInt(i.paddingLeft||"0"),n=parseInt(i.paddingRight||"0"),a=this.carouselSlot.scrollWidth-(this.carouselSlot.clientWidth-n),o=t.offsetLeft===s?0:t.offsetLeft;e=-Math.min(o,a)+"px"}return this.carouselSlot.style.transform=`translateX(${e})`,await Promise.all(this.carouselSlot.getAnimations().map((t=>t.finished))).catch((t=>{t instanceof DOMException&&"AbortError"===t.name||console.error(t)}))},this.slideCarousel=async({isWithinBounds:t,direction:i,requestedIndex:e,allowAnimations:s,onSuccessfulSlide:n})=>{const{children:a}=this.carouselSlot,o=a.length,r=Math.max(1,Math.min(this.numVisible,o));let l=!1;if(this.firstRender||(this.carouselSlot.style.transitionDuration=`${s?this.animationDuration:0}ms`),t){let t=e*r+this._lowerBoundOffset;if(t+r>o){const i=e-1,s=t+r-o;t=Math.max(0,i*r+(r-s))}await this.handleTranslateXWithOffset({element:a[t],startIndex:t}),l=!0}else this.infinite&&(await this.handleInfiniteSlide({children:a,direction:i}),l=!0);l&&(this.hasBeenInteractedWith||(this.hasBeenInteractedWith=!0),n?.());const h=new CustomEvent("faceplate-carousel:slide",{detail:{prevPositionIndex:this._pageIndex,currPositionIndex:e,direction:i,num_items:this._childCount},bubbles:!0});this.dispatchEvent(h)},this.cloneBoundElements=({children:t})=>{let i=0;const e=this._childCount-1,s=this._isInsetBothAllowed?1:0;for(let i=0;i<this.numVisible+s;i++){const e=t[i]?.cloneNode(!0);e instanceof HTMLElement&&(e.dataset.fpUiCarouselMarker="true",e.id=Math.random().toString(16).slice(2),e.role="presentation",this.carouselSlot.append(e),++this._upperBoundOffset)}const n=this._isInsetBothAllowed?1:0;for(let s=0;s<this.numVisible+n;s++){const n=t[e-s+i++]?.cloneNode(!0);n instanceof HTMLElement&&(n.dataset.fpUiCarouselMarker="true",n.id=Math.random().toString(16).slice(2),n.role="presentation",this.carouselSlot.prepend(n),++this._lowerBoundOffset)}},this.handleInfiniteSlide=async({children:t,direction:i})=>{this.carouselSlot.style.transitionDuration="0s";let e=this._isInsetBothAllowed?1:0;i===m.BACKWARDS&&(e=t.length-this._upperBoundOffset),await this.handleTranslateXWithOffset({element:t[e],startIndex:e}),this.carouselSlot.style.transitionDuration=`${this.animationDuration}ms`;const s=i===m.BACKWARDS?e-this.numVisible:e+this.numVisible;await this.handleTranslateXWithOffset({element:t[s],startIndex:s})},this.setNavButtonVisibility=({type:t,hidden:i})=>{this.navPlacement!==p.OFF&&("next"===t?(this.hideNextButton=i,this._isNextButtonHidden=i):(this.hidePrevButton=i,this._prevButtonHidden=i))},this.toggleDisabledProgressButtons=()=>{if(!this.infinite){const t=0===this.pageIndex,i=this.pageIndex===Math.ceil(this._childCount/this.numVisible)-1,e=0===this._childCount;this.setNavButtonVisibility({type:"previous",hidden:e||t}),this.setNavButtonVisibility({type:"next",hidden:e||i})}},this.resetCarousel=()=>{this.resetChildren(),this.cancelAutoPlay(),this.resetDisabledProgressButtons(),this._pageIndex=0,this.pageCount=0,this.isCarouselInitialized=!1,this._isInsetBothAllowed=!1,this._lowerBoundOffset=0,this._upperBoundOffset=0;const t=new CustomEvent("__TEST-ONLY_carousel-reset");this.dispatchEvent(t)},this.resetChildren=()=>{const{children:t}=this.carouselSlot;let i=0;const e=t.length;for(let s=0;s<e;s++){const e=t[i];e instanceof HTMLElement&&e.dataset.fpUiCarouselMarker?e.remove():i++}},this.clearAnimationTimeout=t=>{"number"==typeof this._autoplayTimeoutId&&(window.clearTimeout(this._autoplayTimeoutId),this.autoplayInProgress=!1,t&&t())},this.cancelAutoPlay=()=>{this.clearAnimationTimeout(this._autoplayPaginationRef?.value?.resetAnimations)},this.onListItemKeydown=t=>{"ArrowLeft"===t.key?this.slideBackwards(t):"ArrowRight"===t.key&&this.slideForwards(t)},this.goToPage=(t,i)=>{if(t<0||t>=this.pageCount)return;let e=m.BACKWARDS;t>this._pageIndex&&(e=m.FORWARDS),this._pageIndex=t,this.slideCarousel({isWithinBounds:!0,direction:e,requestedIndex:t,allowAnimations:i})},this.swipeForwards=t=>{this.slideForwards(t),this.dispatchSwipeEvent(m.FORWARDS)},this.swipeBackwards=t=>{this.slideBackwards(t),this.dispatchSwipeEvent(m.BACKWARDS)},this.onInterruptedAutoplay=async t=>{await t(),this.handleAutoPlay()},this.slideHelper=async({navButtonDisabled:t,slide:i,e})=>{t||(this._autoplayTimeoutId&&e?this.onInterruptedAutoplay(i):await i())},this.slideForwards=async t=>{const i=this._pageIndex+1,e=i<this.pageCount;await this.slideHelper({navButtonDisabled:this._isNextButtonHidden,slide:async()=>{this._pageIndex=e?i:0,this.slideCarousel({isWithinBounds:e,direction:m.FORWARDS,requestedIndex:i,allowAnimations:!0})},e:t})},this.onKeyDown=(t,i)=>{"Enter"!==t.key&&"Space"!==t.key||(t.preventDefault(),i(t))},this.slideBackwards=async t=>{const i=this._pageIndex-1,e=i>=0;await this.slideHelper({navButtonDisabled:this._prevButtonHidden,slide:async()=>{this._pageIndex=e?i:this.pageCount-1,this.slideCarousel({isWithinBounds:e,direction:m.BACKWARDS,requestedIndex:i,allowAnimations:!0})},e:t})},this.onListItemFocusIn=()=>{this.autoplay&&"off"!==this.autoplay&&(this._animationRemainingTime=this._autoplaySpeed-(Date.now()-this._animationStartTime),this.clearAnimationTimeout(),this.autoplayInProgress=!1,this._autoplayPaginationRef?.value?.pauseAnimation())},this.onListItemBlur=()=>{this.autoplay&&"off"!==this.autoplay&&(this._autoplayPaginationRef?.value?.resumeAnimation(),setTimeout((async()=>{await this.slideForwards(),this.handleAutoPlay()}),this._animationRemainingTime))}}static get styles(){return i.a`:host{display:flex;position:relative;width:inherit;isolation:isolate;--carousel-gap:var(--spacer-xs, 0.5rem);--carousel-padding:0;--carousel-margin:0}.carousel-container{display:flex;height:auto;align-items:center;position:relative;width:100%}::slotted(:not([slot])){height:100%;display:grid;grid-auto-flow:column;transition:transform;transition-timing-function:ease-out;margin:var(--carousel-margin)!important;padding:var(--carousel-padding)!important;list-style:none;position:relative;gap:var(--carousel-gap)}::slotted([slot=nextButton]),::slotted([slot=prevButton]){display:inline-block}.content-nav-buttons{display:inline-block;position:relative;z-index:2}.content-nav-buttons.hide{visibility:hidden}.content-nav-buttons.start{position:absolute;inset-inline-start:var(--spacer-sm,.75rem)}.content-nav-buttons.outside.end{padding:0 var(--spacer-sm,.75rem)}.content-nav-buttons.inside{position:absolute;top:50%;transform:translateY(-50%)}.content-nav-buttons.inside.start{inset-inline-start:var(--spacer-xs,.5rem)}.content-nav-buttons.inside.end{inset-inline-end:var(--spacer-xs,.5rem)}#carousel-window{position:relative;overflow:hidden;contain:content;display:flex;flex-direction:column;height:100%;flex:1}#carousel-list{height:100%;overflow:hidden;position:relative}:host([pagination-placement=outside]) #pagination-container{padding-top:var(--spacer-xs,.5rem)}:host(:not([nav-placement])) #carousel-window,:host([nav-placement=outside]) #carousel-window{margin-inline-start:var(--rem56,3.5rem)}:host([pagination-placement=inside]) #pagination-container{position:absolute;bottom:var(--rem16,1rem);inset-inline:0;margin:0 auto;width:fit-content}.carousel-actions{position:absolute;inset-inline-end:var(--rem12,.5rem);display:inline-flex;align-items:center;gap:var(--rem12,.75rem)}.carousel-actions.top{top:var(--rem12,.5rem)}.carousel-actions.bottom{bottom:var(--rem16,.1rem)}.hidden{visibility:hidden}.visible{visibility:visible;transition:visibility ease-in}`}get pageIndex(){return this._pageIndex}get isRTL(){try{return this.matches(":dir(rtl)")}catch{return"rtl"===getComputedStyle(this).direction}}get carouselSlot(){return this._children.reduce(((t,i)=>i.assignedSlot&&"UL"===i.nodeName?i:t),document.createElement("ul"))}connectedCallback(){if(super.connectedCallback(),this._gesture=new e.T(this,{mouseSupport:!1}),this._gesture.on("swipeleft",this.isRTL?this.swipeBackwards:this.swipeForwards),this._gesture.on("swiperight",this.isRTL?this.swipeForwards:this.swipeBackwards),this.initializeResize(),this.isCarouselInitialized){const t=this._pageIndex;this.resetAndInitialize(),this._pageIndex!==t&&this.goToPage(t,!1)}}disconnectedCallback(){super.disconnectedCallback(),this._gesture?.destroy(),this.resizeObserver?.disconnect(),this._listMutationObserver?.disconnect(),this._intersectionObserver?.disconnect()}firstUpdated(){this.initializeCarousel()}async handleChildRemoval(){const{children:t}=this.carouselSlot;this.setChildAndPageCount(t),this._firstViewableIndex>this._childCount-1&&this.slideBackwards(),this._childCount||this.toggleDisabledProgressButtons();const i=new CustomEvent("__TEST-ONLY_carousel-children-reset");this.dispatchEvent(i)}get _firstViewableIndex(){return this.infinite?this.pageIndex*this.numVisible+this._lowerBoundOffset:this.pageIndex*this.numVisible}initListMutationObserver(){this._listMutationObserver&&this._listMutationObserver.disconnect(),this._listMutationObserver=new MutationObserver((t=>{for(const i of t)"childList"===i.type&&this.isCarouselInitialized&&(i.removedNodes.length>0?this.handleChildRemoval():i.addedNodes.length>0&&this.handleChildrenAddition())})),this.carouselSlot&&this._listMutationObserver.observe(this.carouselSlot,{childList:!0})}setChildAndPageCount(t){this._childCount=t.length,this.pageCount=Math.ceil(this._childCount/this.numVisible)}async handleChildrenAddition(){const t=this._childCount,{children:i}=this.carouselSlot;this.setChildAndPageCount(i);const e=this.getCarouselDimensions();e&&await this.setChildDimensions(e.width),this._childCount>t&&this.toggleDisabledProgressButtons()}get _autoplaySpeed(){switch(this.autoplay){case"off":return 0;case"default":return 5e3;default:return parseInt(this.autoplay)}}get animationDuration(){return this.advanceAnimation&&!window.matchMedia("(prefers-reduced-motion: reduce)").matches?250:0}get numInsets(){return this.inset===u.BOTH||this.alignment===g.CENTER?2:this.inset===u.NEXT||this.alignment===g.LEFT?1:0}get numGaps(){return this.numVisible+this.numInsets-1}insetWidth(t){const i=this.getCarouselDimensions();if(i){return(i.width-t.getBoundingClientRect().width*this.numVisible-this._gap*this.numGaps)/this.numInsets}return 0}resetDisabledProgressButtons(){this.setNavButtonVisibility({type:"next",hidden:!1}),this.setNavButtonVisibility({type:"previous",hidden:!1})}initializeVisibility(){for(const t of Array.from(this.carouselSlot.children))t.dataset.fpUiCarouselMarker||(t.style.visibility="hidden")}dispatchSwipeEvent(t){const i=new CustomEvent("faceplate-carousel:swipe",{detail:{currPositionIndex:this._pageIndex,direction:t},bubbles:!0});this.dispatchEvent(i)}render(){return i.x` <div class="carousel-container"> <div id="carousel-window"> <div id="carousel-list" ${t.a4(this._carouselListRef)}> <slot @keydown="${this.onListItemKeydown}" @focusin="${this.onListItemFocusIn}" @focusout="${this.onListItemBlur}"></slot> <span class="carousel-actions top"> <slot name="paginationCounter"></slot> <slot name="closeButton"></slot> </span> <span class="carousel-actions bottom"> <slot name="addButton"></slot> </span> </div> <div id="pagination-container" class="${t.Z({inside:this.paginationPlacement===c.INSIDE})}"> ${this.paginationPlacement===c.OFF?null:this._autoplaySpeed?i.x`<faceplate-carousel-pagination ${t.a4(this._autoplayPaginationRef)} pages="${this.pageCount}" page-index="${this._pageIndex}" autoplay="${this._autoplaySpeed}" appearance="${this.paginationPlacement===c.INSIDE?r.P.MEDIA:r.P.PLAIN}"> </faceplate-carousel-pagination>`:i.x`<faceplate-pagination-indicator @pagination-click="${this.onPaginationClick}" .getPageLabels="${this.getPageLabels}" numbered current-page-label="${t.ad(this.currentPageLabel)}" appearance="${this.paginationPlacement===c.INSIDE?r.P.MEDIA:r.P.PLAIN}" animation-duration="${this.animationDuration}" pages="${this.pageCount}" page-index="${this._pageIndex}" container-label="${t.ad(this.paginationContainerLabel)}"></faceplate-pagination-indicator>`} </div> </div> <slot class="content-nav-buttons start ${t.Z({hide:this.navPlacement===p.OFF||this.hidePrevButton,outside:this.navPlacement===p.OUTSIDE,inside:this.navPlacement===p.INSIDE})}" name="prevButton" @click="${this.slideBackwards}" @keydown="${t=>this.onKeyDown(t,this.slideBackwards)}"> </slot> <slot class="content-nav-buttons end ${t.Z({hide:this.navPlacement===p.OFF||this.hideNextButton,outside:this.navPlacement===p.OUTSIDE,inside:this.navPlacement===p.INSIDE})}" name="nextButton" @click="${this.slideForwards}" @keydown="${t=>this.onKeyDown(t,this.slideForwards)}"> </slot> </div> <faceplate-screen-reader-content aria-live="polite" aria-atomic="true"> ${this.currentAriaLiveMsg??this.generateAriaLiveMsg({pageIndex:this.pageIndex,pageCount:this.pageCount,numVisible:this.numVisible})} </faceplate-screen-reader-content> `}};return y.navButton=({placement:e,progress:s,ariaLabel:n})=>{const r=s===m.FORWARDS?"Next Page":"Previous Page";return t.o({appearance:e===p.INSIDE?"media":"secondary",size:t.q.Small,leadingIcon:s===m.FORWARDS?o.c({size:i.I.Small}):a.c({size:i.I.Small}),attributes:{"aria-label":n??r}})},y.closeButton=({attributes:e})=>t.o({appearance:"media",size:t.q.Small,leadingIcon:t.al({size:i.I.Small}),attributes:e}),y.addButton=({children:e,attributes:s})=>t.o({appearance:"media",size:t.q.Small,leadingIcon:h({size:i.I.Small}),attributes:s,children:e}),y.paginationCounter=({attributes:t,pageIndex:i,pageCount:e})=>n.b({appearance:n.B.MEDIA,content:`${i+1} / ${e}`,attributes:t}),t._([t.n({type:String,attribute:"nav-placement",reflect:!0})],y.prototype,"navPlacement",void 0),t._([t.n({type:String,attribute:"pagination-placement",reflect:!0})],y.prototype,"paginationPlacement",void 0),t._([t.n({type:String})],y.prototype,"autoplay",void 0),t._([t.n({type:Boolean,attribute:"advance-animation"})],y.prototype,"advanceAnimation",void 0),t._([t.n({type:Number,attribute:"num-visible"})],y.prototype,"numVisible",void 0),t._([t.n({type:Boolean})],y.prototype,"infinite",void 0),t._([t.n({type:String})],y.prototype,"inset",void 0),t._([t.n({type:String,attribute:"pagination-counter-label"})],y.prototype,"paginationCounterLabel",void 0),t._([t.n({type:Number,attribute:"start-index"})],y.prototype,"startIndex",void 0),t._([t.n()],y.prototype,"getPageLabels",void 0),t._([t.n({type:String,attribute:"current-page-label"})],y.prototype,"currentPageLabel",void 0),t._([t.n({type:String,attribute:"current-aria-live-msg"})],y.prototype,"currentAriaLiveMsg",void 0),t._([t.n({type:String,attribute:"pagination-container-label"})],y.prototype,"paginationContainerLabel",void 0),t._([t.n({type:String,attribute:"page-width"})],y.prototype,"pageWidth",void 0),t._([t.n({type:String})],y.prototype,"alignment",void 0),t._([t.h()],y.prototype,"_pageIndex",void 0),t._([t.h()],y.prototype,"pageCount",void 0),t._([t.h()],y.prototype,"isCarouselInitialized",void 0),t._([t.h()],y.prototype,"hasBeenInteractedWith",void 0),t._([t.aC({flatten:!0})],y.prototype,"_children",void 0),t._([t.aC({slot:"paginationCounter",flatten:!0})],y.prototype,"_paginationCounter",void 0),t._([t.h()],y.prototype,"firstRender",void 0),t._([t.h()],y.prototype,"autoplayInProgress",void 0),t._([t.h()],y.prototype,"hidePrevButton",void 0),t._([t.h()],y.prototype,"hideNextButton",void 0),y=t._([t.e("faceplate-carousel")],y),{get C(){return m},get F(){return y},get I(){return u},get N(){return p},get P(){return c}}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./xrDbp1ee_h.js",import.meta.url,"xrDbp1ee_h");
SML.dm("CuOyDBsRWL",["Dw4vb8Yfbm","xrDbp1ee_h"],(async(a,l)=>{const{svg:c}=a.a(),t=a.m(c`<g clip-path="url(#a)"><path d="M4.91 13h3.6c.83-2.68 3.27-4.65 6.18-4.78l-.47-.72 2.56-3.86c.47-.7-.04-1.64-.88-1.64H4C2.03 2 .59 3.87 1.1 5.78l3.31 12.3a.906.906 0 001.1.64.9.9 0 00.64-1.1l-1.24-4.61V13z"></path><path d="M15 10c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm3.2 5c0 .55-.15 1.07-.4 1.52l-4.32-4.32c.46-.25.97-.4 1.52-.4 1.76 0 3.2 1.44 3.2 3.2zm-6.4 0c0-.55.15-1.07.4-1.52l4.32 4.32c-.46.25-.97.4-1.52.4a3.21 3.21 0 01-3.2-3.2z"></path></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"></path></clipPath></defs>`,"0 0 20 20","ignore-reports-fill"),{svg:e}=a.a(),h=a.m(e`<path d="M6.149 17.615a.9.9 0 11-1.738.466L3.04 13 1.105 5.777a3 3 0 012.898-3.776h11.885c.843 0 1.347.938.881 1.641l-2.557 3.859.475.716a6.795 6.795 0 00-1.916.367l-.718-1.083 2.452-3.7H4.002c-.515 0-.817.294-.952.47-.135.175-.34.544-.207 1.041l1.578 5.889h4.943a6.76 6.76 0 00-.862 1.8H4.906l1.243 4.614zM20 15a5 5 0 11-10.001-.001A5 5 0 0120 15zm-5-3.2c-.554 0-1.068.154-1.523.404l4.32 4.32A3.16 3.16 0 0018.201 15c0-1.765-1.436-3.2-3.2-3.2H15zm0 6.4a3.16 3.16 0 001.524-.404l-4.32-4.32A3.16 3.16 0 0011.8 15c0 1.764 1.436 3.2 3.2 3.2z"></path>`,"0 0 20 20","ignore-reports"),{svg:p}=a.a(),m=a.m(p`<path d="M12.227 2.8a1.812 1.812 0 011.289.534l3.15 3.15a1.81 1.81 0 01.534 1.289v4.454a1.811 1.811 0 01-.534 1.289l-3.15 3.15a1.81 1.81 0 01-1.289.534H7.773a1.811 1.811 0 01-1.289-.534l-3.15-3.15a1.812 1.812 0 01-.534-1.289V7.773a1.812 1.812 0 01.534-1.289l3.15-3.15A1.812 1.812 0 017.773 2.8h4.454zm0-1.8H7.773c-.96 0-1.882.382-2.562 1.061l-3.15 3.15A3.624 3.624 0 001 7.773v4.454c0 .96.382 1.882 1.061 2.562l3.15 3.15A3.624 3.624 0 007.773 19h4.454c.96 0 1.882-.382 2.562-1.061l3.15-3.15A3.624 3.624 0 0019 12.227V7.773c0-.96-.382-1.882-1.061-2.562l-3.15-3.15A3.624 3.624 0 0012.227 1zM9.389 14.78a1.164 1.164 0 01-.437-.433 1.24 1.24 0 010-1.222c.105-.182.256-.334.437-.441a1.2 1.2 0 011.215 0c.182.106.334.258.44.441a1.24 1.24 0 010 1.222 1.159 1.159 0 01-.44.433c-.188.105-.4.16-.615.157a1.2 1.2 0 01-.6-.157zm-.164-3.363l-.252-6.354h2.082l-.255 6.354H9.225z"></path>`,"0 0 20 20","spam");return{H:new Set([l.P.SubredditFeed,l.P.CommentsPage,l.P.ModQueue,l.P.ModQueueAll,l.P.ModLog]),a:t,i:h,s:m}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./C8QDHFSIkY.js",import.meta.url,"C8QDHFSIkY");SML.di("./xrDbp1ee_h.js",import.meta.url,"xrDbp1ee_h");SML.di("./Z0tk4vmzIQ.js",import.meta.url,"Z0tk4vmzIQ");
SML.dm("CvmCFjWH38",["Dw4vb8Yfbm","C8QDHFSIkY","xrDbp1ee_h","Z0tk4vmzIQ"],(async(e,a,r,o)=>{let n=e.Y;function t(e){return e?.[0]?.message??"Something went wrong";}const i=async(e=document,a=5e3,r=100)=>{const o=Date.now(),n=e=>{const a=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null);let r=a.nextNode();for(;r;){if(r instanceof Element&&r.shadowRoot){const e=t(r.shadowRoot);if(e)return e}r=a.nextNode()}return null},t=e=>{const a=e.querySelector('textarea[name="message"]');return a instanceof HTMLTextAreaElement?a:n(e)};return new Promise((t=>{const i=()=>{const s=(()=>{const a=e.querySelector("rs-message-composer");return a?.input?a.input:n(e)})();s?t(s):Date.now()-o>a?t(null):setTimeout(i,r)};i()}))};return {S:class{constructor(a){this.handleAMAStarted=async({startsAt:e,endsAt:a})=>{this.updateSchedule(e,a),this.host.amaState=r.F.Live},this.handleAMAEnded=async()=>{this.updateSchedule(this.host.startsAt,new Date),this.host.amaState=r.F.Ended},this.handleClick=async(a=!1)=>{const o=this.host.amaState===r.F.Scheduled?"start":"end";!a&&"start"===o&&this.host.startsAt>new Date(Date.now()+6e5)?this.host.pubsub.publish(e.T.AMATryStartEarly):await this.updateAmaSchedule(o)},this.updateAmaSchedule=async a=>{if("end"===a)this.host.pubsub.publish(e.T.AMATryEnd);else{const a=this.host.endsAt.getTime()-this.host.startsAt.getTime(),r=new Date,o=new Date(r.getTime()+a);try{const a=await this._updateEventTimeMutation({postId:this.host.postId,event:{startsAt:r.toISOString(),endsAt:o.toISOString()}});this.host.pubsub.publish(e.T.AMAStarted,a)}catch(a){const r=e.c("faceplate-alert",{level:e.a5.error,message:"Something went wrong. Please try again later",cause:e.bM(a)});this.host.dispatchEvent(r)}}},this.endAma=async a=>{try{await this._endPostEventMutation({postId:this.host.postId,endNote:a}),this.host.pubsub.publish(e.T.PostUpdated,{postId:this.host.postId,value:!0,action:o.a.updateContent}),this.host.pubsub.publish(e.T.AMAEnded)}catch(a){const r=e.c("faceplate-alert",{level:e.a5.error,message:"Something went wrong. Please try again later",cause:e.bM(a)});this.host.dispatchEvent(r)}},this.host=a,this.host.addController(this)}async hostConnected(){this.host.amaState!==r.F.Ended&&(this.host.pubsub.subscribe(e.T.AMAStarted,this.handleAMAStarted,!1),this.host.pubsub.subscribe(e.T.AMAEnded,this.handleAMAEnded,!1))}updateSchedule(e,a){this.host.startsAt=e??this.host.startsAt,this.host.endsAt=a??this.host.endsAt}_updateEventTimeMutation(a){return async function(a){const r={input:a},{data:o,errors:i}=await n({operation:e.O.UpdateEventTime,variables:r});if(i?.length)throw new Error(t(i));const{updatePost:s}=o;if(!s?.ok)throw new Error(t(s?.errors));return{startsAt:new Date(s.startsAt),endsAt:new Date(s.endsAt)}}(a)}_endPostEventMutation(a){return async function(a){const r={input:a},{data:o,errors:i}=await n({operation:e.O.EndPostEvent,variables:r});if(i?.length)throw new Error(t(i));const{endPostEvent:s}=o;if(!s?.ok)throw new Error(t(s?.errors))}(a)}},a:e=>e?"Edit post flair":"Add post flair",f:async(e,a=i)=>{const r=await a();r&&(e?(r.value="",r.focus()):setTimeout((()=>{r.focus()}),1e3))},g:(r,o,n)=>{const t=n===e.M.Post;switch(r){case a.M.MarkSpoiler:return o?t?"Post has been marked spoiler.":"Comment has been marked spoiler.":t?"There was an error marking the post spoiler. Please try again.":"There was an error marking the comment spoiler. Please try again.";case a.M.UnmarkSpoiler:return o?t?"Post has been unmarked spoiler.":"Comment has been unmarked spoiler.":"There was an error unmarking the post spoiler. Please try again.";case a.M.MarkNsfw:return o?t?"Post has been marked nsfw.":"Comment has been marked nsfw.":t?"There was an error marking the post nsfw. Please try again.":"There was an error marking the comment nsfw. Please try again.";case a.M.UnmarkNsfw:return o?t?"Post has been unmarked nsfw.":"Comment has been unmarked nsfw.":"There was an error unmarking the post nsfw. Please try again.";case a.M.IgnoreReports:return o?t?"Reports ignored and post approved.":"Reports ignored and comment approved.":t?"There was an error ignoring the post's reports. Please try again.":"There was an error ignoring the comment's reports. Please try again.";case a.M.UnignoreReports:return o?t?"Reports unignored.":"Reports successfully restored.":t?"There was an error unignoring the post's reports. Please try again.":"There was an error unignoring the comment's reports. Please try again.";case a.M.Distinguish:return o?t?"Post is marked as distinguished.":"Comment is marked as distinguished.":t?"There was an error distinguishing the post. Please try again.":"There was an error distinguishing the comment. Please try again.";case a.M.Undistinguish:return o?t?"Post is marked as undistinguished.":"Comment is marked as undistinguished.":t?"There was an error undistinguishing the post. Please try again.":"There was an error undistinguishing the comment. Please try again.";case a.M.Sticky:return o?t?"Post has been stickied.":"Comment has been stickied.":t?"There was an error stickying the post. Please try again.":"There was an error stickying the comment. Please try again.";case a.M.Unsticky:return o?t?"Post has been unstickied.":"Comment has been unstickied.":t?"There was an error unstickying the post. Please try again.":"There was an error unstickying the comment. Please try again.";case a.M.Lock:return o?t?"Post has been locked.":"Comment has been locked.":t?"There was an error locking the post. Please try again.":"There was an error locking the comment. Please try again.";case a.M.Unlock:return o?t?"Post has been unlocked.":"Comment has been unlocked.":t?"There was an error unlocking the post. Please try again.":"There was an error unlocking the comment. Please try again.";case a.M.ApproveContent:if(o)switch(n){case e.M.Award:return "Award approved.";case e.M.Comment:return "Comment approved.";case e.M.Post:return "Post approved.";default:return""}switch(n){case e.M.Award:return "There was an error approving the award. Please try again.";case e.M.Comment:return "There was an error approving the comment. Please try again.";case e.M.Post:return "There was an error approving the post. Please try again.";default:return""}case a.M.ConfirmRemoval:case a.M.RemoveContent:if(o)switch(n){case e.M.Award:return "Award removed.";case e.M.Comment:return "Comment removed.";case e.M.Post:return "Post removed.";default:return""}switch(n){case e.M.Award:return "There was an error removing the award. Please try again.";case e.M.Comment:return "There was an error removing the comment. Please try again.";case e.M.Post:return "There was an error removing the post. Please try again.";default:return""}case a.A.Distinguish:return o?t?"Post is marked as distinguished as admin.":"Comment is marked as distinguished as admin.":t?"There was an error distinguishing the post as admin. Please try again.":"There was an error distinguishing the comment as admin. Please try again.";case a.A.Undistinguish:return o?t?"Post is marked as undistinguished as admin.":"Comment is marked as undistinguished as admin.":t?"There was an error undistinguishing the post as admin. Please try again.":"There was an error undistinguishing the comment as admin. Please try again.";case a.M.RemoveHighlightedPost:return o?"Highlight removed":"There was an error removing the post from community highlights. Please try again.";default:return""}}};}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");
SML.dm("Cxi0lHfX5y",["Dw4vb8Yfbm"],(async e=>{const t={[e.aj.FEED]:e.ak.Feed,[e.aj.FULL_BLEED_VIDEO_FEED]:e.ak.FullBleedVideoFeed,[e.aj.COMMENTS_PAGE]:e.ak.CommentsPage,[e.aj.COMMENT_TREES]:e.ak.CommentTrees,[e.aj.SIDEBARS]:e.ak.Sidebars,[e.aj.TRENDING_DISCOVERY]:e.ak.TrendingDiscovery,[e.aj.TRENDING_SEARCH_RESULT]:e.ak.TrendingSearchResult,[e.aj.BLANK_ONLY]:e.ak.BlankOnly,[e.aj.RELATED_POSTS]:e.ak.ListingBelow};return{m:e=>e&&t[e]||null,s:(e,t={})=>{const{includeFeedChecks:a=!1,includeCommentsPageChecks:n=!1}=t;return e.composedPath().some((e=>{const t=e;if("AD-REMINDER-BUTTON"===t.tagName||"AD-EVENT-STATUS"===t.tagName||"SHREDDIT-POST-OVERFLOW-MENU"===t.tagName||"CLICK-LOCATION-TRACKER"===t.tagName||t.matches?.("div.ad-supplementary-text a")||"SHREDDIT-DYNAMIC-AD-LINK"===t.tagName&&"promoted_label"===t.getAttribute?.("click-location")&&t.hasAttribute?.("promoted-label-experiment"))return!0;if(a){if(t.hasAttribute?.("upvote")||t.hasAttribute?.("downvote")||"comments-action-button"===t.getAttribute?.("name")||t.matches?.("button.toggle__expando-button")||t.matches?.("div#unpacked-actions")||t.matches?.("faceplate-dropdown-menu#defaultActions")||"SHREDDIT-POST-SHARE-BUTTON"===t.tagName)return!0}if(n){if("SHREDDIT-SLIDER-ELEMENT"===t.tagName||"VIDEO"===t.tagName||t.matches?.("img.thumbnail-image-video-toggle")||t.matches?.("button.toggleable-video-player-close-btn")||t.matches?.("button.thumbnail-playback-action-circle"))return!0}return!1}))}}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./D_g7f2Ewyi.js",import.meta.url,"D_g7f2Ewyi");SML.di("./CzwD205thW.js",import.meta.url,"CzwD205thW");SML.di("./B-zFJtiar6.js",import.meta.url,"B-zFJtiar6");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");
SML.dm("Cy2cpc6ZDy",["Dw4vb8Yfbm","D_g7f2Ewyi","CzwD205thW","B-zFJtiar6","5r73EsgItq"],(async(t,e,s,i,n)=>{const o=s.W(n.s);let a=class extends o{constructor(){super(...arguments),this.permalink="",this.disabled=!1,this.isDesktopViewport=!1,this.isListItem=!1,this.ssr=!1,this.shareMenuFeatureName=t.b8,this.shareMenuTemplateId=s.C,this.useButton=!1,this.useMenu=!1,this.showFullButtons=!1,this.menuSize=e.L.Medium}static get styles(){return[t.t,t.a0("/*\n * :host and button.share-button-list-item is necessary to increase specificity to override the default styles of the button\n */\n:host button.share-button-list-item {\n  padding: 0;\n  height: 2rem !important;\n  border: none;\n  border-radius: 0;\n  color: var(--color-secondary);\n  background-color: transparent;\n  /*\n   * This CSS was added to fix the flex gap spacing when re-styling the share button component as a list item in the comment action overflow menu.\n   * It needs to be added here as we cannot otherwise directly target the span's styling.\n   */\n}\n:host button.share-button-list-item > span.flex {\n  font-weight: normal;\n}\n:host button.share-button-list-item > span.flex > span:first-child {\n  width: 2rem;\n  display: flex;\n  justify-content: center;\n  margin-inline-end: 0.5rem;\n}\n")]}handleCommentShareClick(t){this.isAllowedEvent(t)&&(!this.isListItem&&this.isDesktopViewport?this.handleCommentDesktopShareClick(t):this.handleCommentMobileShareClick(t),this.ssr&&(this.isShareDropdownOpened?this.handleShareDropdownClose():this.handleShareDropdownOpen()))}handleCommentDesktopShareClick(e){t.i(this,i.p()),this.handleDesktopShareClick(e)}handleCommentMobileShareClick(e){t.i(this,i.q()),this.handleMobileShareClick(e)}render(){return this.ssr?n.x`<slot name="ssr-share-button" @click="${this.handleCommentShareClick}" @keydown="${this.handleCommentShareClick}"></slot>`:this.useMenu?this.renderOnlyShareMenuItem({handleShareClick:this.handleCommentShareClick,menuSize:this.menuSize}):this.useButton?this.renderOnlyShareButton({handleShareClick:this.handleCommentShareClick,attributes:{disabled:this.disabled,className:"font-semibold"},showFullButtons:this.showFullButtons}):this.renderShareDropdown({handleShareClick:this.handleCommentShareClick,size:this.isListItem?t.q.Large:t.q.Small,appearance:this.isListItem?"plain":"plain-weak",attributes:{disabled:this.disabled,className:this.isListItem?"share-button-list-item w-full":"font-semibold"}})}};t._([t.n({type:String})],a.prototype,"permalink",void 0),t._([t.n({type:Boolean})],a.prototype,"disabled",void 0),t._([t.n({type:Boolean,attribute:"is-desktop-viewport"})],a.prototype,"isDesktopViewport",void 0),t._([t.n({type:Boolean,attribute:"is-list-item"})],a.prototype,"isListItem",void 0),t._([t.n({type:Boolean,attribute:"ssr"})],a.prototype,"ssr",void 0),t._([t.n({type:String,attribute:"share-menu-feature-name"})],a.prototype,"shareMenuFeatureName",void 0),t._([t.n({type:String,attribute:"share-menu-template-id"})],a.prototype,"shareMenuTemplateId",void 0),t._([t.n({type:Boolean,attribute:"use-button"})],a.prototype,"useButton",void 0),t._([t.n({type:Boolean,attribute:"use-menu"})],a.prototype,"useMenu",void 0),t._([t.n({type:Boolean,attribute:"show-full-buttons"})],a.prototype,"showFullButtons",void 0),t._([t.n({type:String})],a.prototype,"menuSize",void 0),a=t._([t.e("shreddit-comment-share-button")],a)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./D_g7f2Ewyi.js",import.meta.url,"D_g7f2Ewyi");SML.di("./B7VtDPc4tA.js",import.meta.url,"B7VtDPc4tA");SML.di("./DMVINMWPkT.js",import.meta.url,"DMVINMWPkT");SML.di("./BIzQFHISzm.js",import.meta.url,"BIzQFHISzm");SML.di("./Diz2FhHj1m.js",import.meta.url,"Diz2FhHj1m");SML.di("./CjgEd4y4FT.js",import.meta.url,"CjgEd4y4FT");SML.di("./CuOyDBsRWL.js",import.meta.url,"CuOyDBsRWL");SML.di("./iewwAXEto0.js",import.meta.url,"iewwAXEto0");SML.di("./BM4eKBOTt3.js",import.meta.url,"BM4eKBOTt3");SML.di("./DbZs5o3urT.js",import.meta.url,"DbZs5o3urT");SML.di("./C6UOB_RPC4.js",import.meta.url,"C6UOB_RPC4");SML.di("./C_bmnG8wYl.js",import.meta.url,"C_bmnG8wYl");SML.di("./Cisrc9cRpB.js",import.meta.url,"Cisrc9cRpB");SML.di("./B5l4afN3bV.js",import.meta.url,"B5l4afN3bV");SML.di("./ankOzFFj6Q.js",import.meta.url,"ankOzFFj6Q");SML.di("./xrDbp1ee_h.js",import.meta.url,"xrDbp1ee_h");SML.di("./C5bRok1J9n.js",import.meta.url,"C5bRok1J9n");SML.di("./i5-QpR8HYV.js",import.meta.url,"i5-QpR8HYV");SML.di("./BYzqEZ3uv3.js",import.meta.url,"BYzqEZ3uv3");SML.di("./eY7T41bKac.js",import.meta.url,"eY7T41bKac");SML.di("./Bk8sRXhdir.js",import.meta.url,"Bk8sRXhdir");SML.di("./q156d3D57c.js",import.meta.url,"q156d3D57c");SML.di("./D-MP0EoIqA.js",import.meta.url,"D-MP0EoIqA");SML.di("./Cy2cpc6ZDy.js",import.meta.url,"Cy2cpc6ZDy");SML.di("./Dc4r6aHTbv.js",import.meta.url,"Dc4r6aHTbv");SML.di("./RXNEUFNiHt.js",import.meta.url,"RXNEUFNiHt");SML.di("./tO6bKRQro7.js",import.meta.url,"tO6bKRQro7");SML.di("./BSYfFtBeKH.js",import.meta.url,"BSYfFtBeKH");SML.di("./D1DY-avSiT.js",import.meta.url,"D1DY-avSiT");SML.di("./BeFppRYbzE.js",import.meta.url,"BeFppRYbzE");SML.di("./Bu440t6XLo.js",import.meta.url,"Bu440t6XLo");SML.di("./CvmCFjWH38.js",import.meta.url,"CvmCFjWH38");
SML.dm("Czk9z15SR1",["Dw4vb8Yfbm","5r73EsgItq","D_g7f2Ewyi","B7VtDPc4tA","DMVINMWPkT","BIzQFHISzm","Diz2FhHj1m","CjgEd4y4FT","CuOyDBsRWL","iewwAXEto0","BM4eKBOTt3","DbZs5o3urT","C6UOB_RPC4","C_bmnG8wYl","Cisrc9cRpB","B5l4afN3bV","ankOzFFj6Q","xrDbp1ee_h","C5bRok1J9n","i5-QpR8HYV","RXNEUFNiHt","BeFppRYbzE","Bu440t6XLo","CvmCFjWH38","BYzqEZ3uv3","eY7T41bKac","Bk8sRXhdir","q156d3D57c","D-MP0EoIqA","Cy2cpc6ZDy","Dc4r6aHTbv","tO6bKRQro7","BSYfFtBeKH","D1DY-avSiT"],(async(e,t,a,i,o,r,n,s,d,l,h,m,u,c,p,k,I,g,R,T,N,E,S,A)=>{const v="modQueue",b="modQueueChat",C="overflow",M="inline";let O=class extends t.s{constructor(){super(...arguments),this.location=M,this.viewContext=void 0,this.COACHMARK_LABELS={[v]:"NEW! Chat about items in the queue",[b]:"Jump back in",[C]:"NEW! Chat about content",[M]:"Jump back in"},this.COACHMARK_BODY={[v]:"Share content in the queue directly with your mod team",[b]:"Get back to chat threads from the queue",[C]:"Share content directly with your mod team",[M]:"Get back to chat threads from the content"},this.COACHMARK_POSITION={[v]:E.P.Top,[b]:E.P.Top,[C]:E.P.Left,[M]:E.P.Left},this.LOCAL_STORAGE_KEYS={[v]:e.a9.ShareToModChatCoachMarkMQSeen,[b]:e.a9.ShareToModChatCoachMarkMQChatSeen,[C]:e.a9.ShareToModChatCoachMarkOverflowSeen,[M]:e.a9.ShareToModChatCoachMarkInlineSeen},this._showShareToModChatBanner=!e.a8.getItem(this.getLocalStorageKey()),this.closeCoachmark=()=>{this._showShareToModChatBanner=!1}}getLocalStorageKey(){return this.LOCAL_STORAGE_KEYS[this.location]}connectedCallback(){super.connectedCallback();const t=e.a8.getItem(this.getLocalStorageKey());this.location===C&&this.viewContext&&[g.P.ModQueue,g.P.ModQueueAll].includes(this.viewContext)||t?this._showShareToModChatBanner=!1:(e.a8.setItem(this.getLocalStorageKey(),"true"),this._showShareToModChatBanner=!0)}disconnectedCallback(){super.disconnectedCallback()}render(){return t.x`<rpl-coachmark placement="${this.COACHMARK_POSITION[this.location]}" appearance="${S.a.Inverted}" ?open="${this._showShareToModChatBanner}"> <slot></slot> <rpl-coachmark-card slot="content" aria-live="polite" appearance="${S.a.Inverted}" class="w-[220px]"> <div slot="title" class="pt-xs pb-2xs"> <div>${this.COACHMARK_LABELS[this.location]}</div> </div> ${e.o({attributes:{className:"close-btn",slot:"close-button",onclick:e=>{e.stopPropagation(),this.closeCoachmark()}},appearance:"plainInverted",size:e.q.Small,leadingIcon:e.al({size:t.I.Small})})} <div class="text-12 w-[170px] mb-sm">${this.COACHMARK_BODY[this.location]}</div> </rpl-coachmark-card> </rpl-coachmark>`}};O.styles=[e.t],e._([e.n({type:String,attribute:"location"})],O.prototype,"location",void 0),e._([e.n({type:String,attribute:"view-context"})],O.prototype,"viewContext",void 0),e._([e.h()],O.prototype,"_showShareToModChatBanner",void 0),O=e._([e.e("share-to-mod-chat-coachmark")],O);const D=t.s;class P extends D{constructor(){super(...arguments),this.size=a.L.Medium,this.appearance="content-action",this.viewContext=g.P.CommentsPage,this.feedViewType=e.ag.ModQueueCompactView,this.itemState=R.M.UNMODERATED,this.verdict=void 0,this.isCurrentUserAuthor=!1,this.isDeleted=!1,this.isRemoved=!1,this.isModModeEnabled=!1,this.isAdmin=!1,this.isLocked=!1,this.isStickied=!1,this.isHighlighted=!1,this.isReportingIgnored=!1,this.areHighlightsEnabled=!1,this.hasReports=!1,this.hasRemovalReason=!1,this.hasPostFlair=!1,this.isProfilePost=!1,this.isPromotedPost=!1,this.isSpamFilteredPost=!1,this.isDesktop=!1,this.permalink="",this.isContentLevelModsCommsEnabled=!1,this.modContentDiscussionContext=void 0,this.isFeedNoApproveEnabled=!1,this.focusChatTextareaFn=A.f,this.pubsub=new e.u(this),this.modActionsController=new T.ModActionsController(this,{getThingIdFn:()=>this.thingId||"",getIsProfilePostFn:()=>this.isProfilePost}),this.getListItemClickHandler=e=>()=>(this.dropdownMenu?.close(),e())}get isPost(){return g.h(this.thingId||"")}get shouldAlwaysShowAction(){return!this.isModModeEnabled&&!this.isOnModqueuePage}shouldAlwaysShowApproveAction(){return this.shouldAlwaysShowAction||this.isModVerdictVisible&&this.itemState!==R.M.APPROVED&&this.shouldShowActionInMenu}shouldAlwaysShowRemoveAction(){return this.shouldAlwaysShowAction||this.isModVerdictVisible&&this.itemState!==R.M.REMOVED&&this.shouldShowActionInMenu}get isOnModqueuePage(){return this.viewContext===g.P.ModQueue||this.viewContext===g.P.ModQueueAll}get isApproved(){return this.itemState===R.M.APPROVED}get shouldShowConfirmRemoval(){return R.a(this.itemState,this.isSpamFilteredPost)}get shouldShowActionInMenu(){return!R.b(this.viewContext,this.feedViewType)||"hover-menu"===this.appearance}get isDistinguishable(){return this.isCurrentUserAuthor&&!this.isDeleted}get isStickyable(){return!(this.viewContext===g.P.ProfileFeed||this.viewContext===g.P.ProfileFeed2||this.isDeleted)}get isModVerdictVisible(){return R.h(this.verdict??null)&&!this.hasReports&&this.itemState!==R.M.FILTERED}renderApproveAction(){return this.isFeedNoApproveEnabled&&!this.isOnModqueuePage&&this.itemState===R.M.UNMODERATED||this.shouldAlwaysShowApproveAction()&&R.c(this.itemState)?a.l({leadingIcon:r.c(),label:"Approve",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleApproveContent)}):null;}renderRemoveAction(){return this.isFeedNoApproveEnabled&&!this.isOnModqueuePage&&this.itemState===R.M.UNMODERATED||this.shouldAlwaysShowRemoveAction()&&R.d(this.itemState)?a.l({leadingIcon:e.al(),label:"Remove",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleRemoveContent)}):null;}renderConfirmRemovalAction(){return this.shouldAlwaysShowRemoveAction()&&this.shouldShowConfirmRemoval?a.l({leadingIcon:p.r(),label:"Confirm Removal",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleConfirmRemoval)}):null;}renderSpamAction(){return R.e({moderationState:this.itemState,isSpamFilteredPost:this.isSpamFilteredPost,isRemoved:this.isRemoved,isPromotedPost:this.isPromotedPost})&&this.shouldShowActionInMenu?a.l({leadingIcon:d.s(),label:"Mark as Spam",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleRemoveContentAsSpam)}):null;}renderShareToModChatAction(e){if(!R.f({isPromotedPost:this.isPromotedPost})||!this.shouldShowActionInMenu||!e?.modChatChannel||e?.modContentDiscussion)return null;const i=e?.modContentDiscussion?`${N.g(e.modContentDiscussion.chatChannel?.roomId,e.modContentDiscussion.chatMessage?.id)}/thread`:N.a(e?.modChatChannel?.roomId);return t.x` <faceplate-tracker source="moderator" action="click" noun="${e?.eventContext?.noun}" data-faceplate-tracking-context="${JSON.stringify({subreddit:{id:e?.eventContext?.subredditId,name:e?.eventContext?.subredditName},action_info:{setting_value:e?.eventContext?.roomId},post:{id:e?.eventContext?.postId},...(e?.eventContext?.commentId && {comment:{id:e?.eventContext?.commentId}})})}"> <reddit-chat-anchor> <a href="${i}?draft=${encodeURIComponent("https://www.reddit.com"+this.permalink)}" class="no-underline"> ${a.l({leadingIcon:k.c(),trailingSlot:t.x` <rpl-badge appearance="${I.R.Alert}">NEW</rpl-badge>`,label:"Share to mod chat",size:this.size,onClick:async()=>{e.modContentDiscussion||(await this.focusChatTextareaFn())}})} </a> </reddit-chat-anchor> </faceplate-tracker>`;}renderIgnoreReportsAction(){return this.isReportingIgnored||!this.hasReports?null:a.l({leadingIcon:d.i(),label:"Ignore reports and approve",size:this.size,onClick:this.getListItemClickHandler((()=>{this.modActionsController.handleIgnoreReports(),this.modActionsController.handleApproveContent()}))});}renderUnignoreReportsAction(){return this.isReportingIgnored?a.l({leadingIcon:d.a(),label:"Unignore reports",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleUnignoreReports)}):null;}renderAddRemovalReasonAction(){return R.s(this.itemState,this.hasRemovalReason,this.isSpamFilteredPost,this.isProfilePost)&&this.shouldShowActionInMenu?a.l({leadingIcon:o.a(),label:"Add Removal Reason",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleAddRemovalReason)}):null;}renderDistinguishAction(){return this.isDistinguishable&&this.distinguishedAs!==e.bl.Moderator?a.l({leadingIcon:s.t(),label:"Show mod label",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleDistinguish)}):null;}renderUndistinguishAction(){return this.isDistinguishable&&this.distinguishedAs===e.bl.Moderator?a.l({leadingIcon:n.t(),label:"Hide mod label",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleUndistinguish)}):null;}renderStickyAction(e){return!this.isStickyable||this.isStickied||!this.shouldShowActionInMenu||this.areHighlightsEnabled||this.isPromotedPost?null:a.l({leadingIcon:c.p(),label:e,size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleSticky)})}renderUnstickyAction(e){return this.isStickyable&&this.isStickied&&this.shouldShowActionInMenu&&!this.areHighlightsEnabled&&!this.isPromotedPost?a.l({leadingIcon:u.p(),label:e,size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleUnsticky)}):null}renderAddToHighlightsAction(){return this.isStickyable&&this.shouldShowActionInMenu&&this.areHighlightsEnabled&&d.H.has(this.viewContext)&&!this.isHighlighted?a.l({leadingIcon:c.p(),label:"Add to highlights",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleUpdateHighlightedPost)}):null;}renderRemoveFromHighlightsAction(){return this.isStickyable&&this.shouldShowActionInMenu&&this.areHighlightsEnabled&&d.H.has(this.viewContext)&&this.isHighlighted?a.l({leadingIcon:u.p(),label:"Remove from highlights",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleRemoveHighlightedPost)}):null;}renderLockAction(e){return this.isLocked||!this.shouldShowActionInMenu?null:a.l({leadingIcon:h.l(),label:e,size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleLock)})}renderUnlockAction(e){return this.isLocked&&this.shouldShowActionInMenu?a.l({leadingIcon:l.l(),label:e,size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleUnlock)}):null}renderEditPostFlairAction(e){return!this.shouldShowActionInMenu||this.isPromotedPost||this.isDeleted?null:a.l({leadingIcon:s.t(),label:e,size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleOpenEditPostFlairModal)})}renderCopyLinkAction(){return"hover-menu"!==this.appearance?null:this.isPost?t.x`<shreddit-post-share-button use-menu ?is-desktop-viewport="${this.isDesktop}" permalink="${this.permalink}"></shreddit-post-share-button>`:t.x`<shreddit-comment-share-button use-menu ?is-desktop-viewport="${this.isDesktop}" permalink="${this.permalink}"></shreddit-comment-share-button>`}closeModal(){this.bottomSheetMenu?.close()}openModal(){this.bottomSheetMenu?.showModal()}renderMenuTrigger(){const a={leadingIcon:m.m({size:t.I.Small}),screenReaderContent:"Moderation actions menu",appearance:"secondary",attributes:{type:"button",onclick:()=>{this.openModal()},slot:"trigger"},size:e.q.Small};return t.x` <faceplate-tracker source="moderator" action="click" noun="mod_shield_menu"> <rpl-tooltip appearance="inverted" placement="top" distance="8"> <span> ${"hover-menu"===this.appearance?e.o({...a,appearance:"secondary"}):i.c({...a,appearance:"plain"})} </span> <span slot="content">${"Mod actions"}</span> </rpl-tooltip> </faceplate-tracker> `;}renderMobileActionsMenu(a){return t.x` ${this.renderMenuTrigger()} <faceplate-bottom-sheet> <faceplate-bottom-sheet-header slot="header" has-divider> <span slot="trailing" @click="${this.closeModal}"> ${e.o({attributes:{"aria-label":"Close"},appearance:"secondary",leadingIcon:e.al({size:t.I.Small}),size:e.q.Small})}</span> <span>${"Mod actions"}</span> </faceplate-bottom-sheet-header> <faceplate-menu class="w-full nd:hidden" @click="${this.closeModal}"> ${a} <slot name="devvit-context-actions"></slot> </faceplate-menu> </faceplate-bottom-sheet> `;}renderActionsMenu(e){return this.isContentLevelModsCommsEnabled&&!this.modContentDiscussionContext?.modContentDiscussion?t.x` <mod-dropdown-closer> <share-to-mod-chat-coachmark location="${C}" view-context="${this.viewContext}"> <faceplate-dropdown-menu position="bottom-end"> ${this.renderMenuTrigger()} <faceplate-menu slot="menu" class="max-w-xs nd:hidden max-h-[432px] overflow-y-auto overflow-x-hidden styled-scrollbars"> ${e} <slot name="devvit-context-actions"></slot> </faceplate-menu> </faceplate-dropdown-menu> </share-to-mod-chat-coachmark> </mod-dropdown-closer>`:t.x` <mod-dropdown-closer> <faceplate-dropdown-menu position="bottom-end"> ${this.renderMenuTrigger()} <faceplate-menu slot="menu" class="max-w-xs max-h-[432px] overflow-y-auto overflow-x-hidden styled-scrollbars"> ${e} <slot name="devvit-context-actions"></slot> </faceplate-menu> </faceplate-dropdown-menu> </mod-dropdown-closer>`}render(){if(this.viewContext===g.P.AggregateFeed)return t.A;const e=this.renderActions();return 0===e.length||e.every((e=>null===e))?t.x``:this.isDesktop?this.renderActionsMenu(e):this.renderMobileActionsMenu(e)}}return P.styles=[e.t],e._([e.n({type:String,attribute:"thing-id"})],P.prototype,"thingId",void 0),e._([e.n({type:String,attribute:"user-id"})],P.prototype,"userId",void 0),e._([e.n({type:String})],P.prototype,"size",void 0),e._([e.n({type:String})],P.prototype,"appearance",void 0),e._([e.n({type:String,attribute:"view-context"})],P.prototype,"viewContext",void 0),e._([e.n({type:String,attribute:"feed-view-type"})],P.prototype,"feedViewType",void 0),e._([e.n({type:String,attribute:"item-state",reflect:!0})],P.prototype,"itemState",void 0),e._([e.n({type:String,attribute:"distinguished-as"})],P.prototype,"distinguishedAs",void 0),e._([e.n({type:String,attribute:"verdict"})],P.prototype,"verdict",void 0),e._([e.n({type:String,attribute:"verdict-by"})],P.prototype,"verdictBy",void 0),e._([e.n({type:Boolean,attribute:"current-user-author"})],P.prototype,"isCurrentUserAuthor",void 0),e._([e.n({type:Boolean,attribute:"deleted"})],P.prototype,"isDeleted",void 0),e._([e.n({type:Boolean,attribute:"removed"})],P.prototype,"isRemoved",void 0),e._([e.n({type:Boolean,attribute:"mod-mode"})],P.prototype,"isModModeEnabled",void 0),e._([e.n({type:Boolean,attribute:"is-admin"})],P.prototype,"isAdmin",void 0),e._([e.n({type:Boolean,attribute:"locked"})],P.prototype,"isLocked",void 0),e._([e.n({type:Boolean,attribute:"stickied"})],P.prototype,"isStickied",void 0),e._([e.n({type:Boolean,attribute:"highlighted"})],P.prototype,"isHighlighted",void 0),e._([e.n({type:Boolean,attribute:"reporting-ignored"})],P.prototype,"isReportingIgnored",void 0),e._([e.n({type:Boolean,attribute:"highlights-enabled"})],P.prototype,"areHighlightsEnabled",void 0),e._([e.n({type:Boolean,attribute:"has-reports"})],P.prototype,"hasReports",void 0),e._([e.n({type:Boolean,attribute:"has-removal-reason"})],P.prototype,"hasRemovalReason",void 0),e._([e.n({type:Boolean,attribute:"has-post-flair"})],P.prototype,"hasPostFlair",void 0),e._([e.n({type:Boolean,attribute:"is-profile-post"})],P.prototype,"isProfilePost",void 0),e._([e.n({type:Boolean,attribute:"is-promoted-post"})],P.prototype,"isPromotedPost",void 0),e._([e.n({type:Boolean,attribute:"is-spam-filtered-post"})],P.prototype,"isSpamFilteredPost",void 0),e._([e.n({type:Boolean,attribute:"is-desktop"})],P.prototype,"isDesktop",void 0),e._([e.n({type:String,attribute:"permalink"})],P.prototype,"permalink",void 0),e._([e.n({type:Boolean,attribute:"is-content-level-mods-comms-enabled"})],P.prototype,"isContentLevelModsCommsEnabled",void 0),e._([e.n({type:Object,attribute:"mod-content-discussion-context"})],P.prototype,"modContentDiscussionContext",void 0),e._([e.n({type:Boolean,attribute:"is-feed-no-approve-enabled"})],P.prototype,"isFeedNoApproveEnabled",void 0),e._([e.n({attribute:!1})],P.prototype,"focusChatTextareaFn",void 0),e._([e.a2("faceplate-dropdown-menu")],P.prototype,"dropdownMenu",void 0),e._([e.a2("faceplate-bottom-sheet")],P.prototype,"bottomSheetMenu",void 0),{M:P}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./Z0tk4vmzIQ.js",import.meta.url,"Z0tk4vmzIQ");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./CDbzh0L9oi.js",import.meta.url,"CDbzh0L9oi");SML.di("./C8QDHFSIkY.js",import.meta.url,"C8QDHFSIkY");
SML.dm("D--e2jiRnn",["Dw4vb8Yfbm","Z0tk4vmzIQ","5r73EsgItq","CDbzh0L9oi","C8QDHFSIkY"],(async(e,t,i,a)=>{SML.di("./CIOo61duNV.js",import.meta.url,"CIOo61duNV"),SML.di("./D1DY-avSiT.js",import.meta.url,"D1DY-avSiT"),SML.di("./BSYfFtBeKH.js",import.meta.url,"BSYfFtBeKH");let o=e.Y;let n=class extends i.s{static get styles(){return[e.t]}constructor(){super(),this.isUserLoggedIn=!1,this.postId="",this.shouldShowPollCoachmark=!1,this.voteRequestPending=!1,this.isHidden=!1,this.pollCoachmarkRef=e.a3(),this.handleInput=e=>{this.selectedOptionId=e.target?.value,this._button?.removeAttribute("disabled")},this.handleShowCoachmark=e=>{e.preventDefault(),this.showPollCoachmark()},this.handleCoachmarkButtonClick=e=>{e.target.closest('[data-action="show-poll-coachmark"]')&&(e.stopPropagation(),this.showPollCoachmark())},this.handleVote=async()=>{if(e.i(this,e.b({source:"post",action:"click",noun:"vote"})),this.isUserLoggedIn)try{this.voteRequestPending=!0;const t=await this.makeVoteRequest();this.voteRequestPending=!1,t?.data?.updatePostPollVoteState?.ok?(this.isHidden=!0,await this.reloadPollPost()):this.handleVoteError(e.cv.QueryBadResponse)}catch(t){this.handleVoteError(e.bM(t))}},this.reloadPollPost=async()=>{e.p(e.T.PostUpdated,{postId:this.postId,action:t.a.updateContent,value:!0})},this._button=this.querySelector("button")}connectedCallback(){super.connectedCallback(),this._button?.addEventListener("click",this.handleVote),this.addEventListener("show-poll-coachmark",this.handleShowCoachmark),this.addEventListener("click",this.handleCoachmarkButtonClick,!0),this.shouldShowPollCoachmark&&this.showPollCoachmark()}disconnectedCallback(){super.disconnectedCallback(),this._button?.removeEventListener("click",this.handleVote),this.removeEventListener("show-poll-coachmark",this.handleShowCoachmark),this.removeEventListener("click",this.handleCoachmarkButtonClick,!0)}redirect(e){window.location.href=e}async makeVoteRequest(){return o({operation:e.O.UpdatePostPollVoteState,variables:{input:{postId:this.postId,optionId:this.selectedOptionId}}})}handleVoteError(t){this.voteRequestPending=!1,this.dispatchEvent(e.c("faceplate-alert",{level:e.a5.error,message:"Something went wrong",cause:t}))}showPollCoachmark(){const e=this.querySelector("#poll-legend-anchor"),t=this.pollCoachmarkRef.value;t&&e&&(t.anchor=e,t.show())}render(){return this.isHidden?"":i.x` <slot @input="${this.handleInput}"></slot> ${this.voteRequestPending?i.x` <div class="absolute inset-0 flex justify-center items-center"> ${a.l({attributes:{className:"animate-spin"},size:i.I.Medium})} </div> `:""} <rpl-coachmark ${e.a4(this.pollCoachmarkRef)} placement="top-start" appearance="inverted" distance="0"> <rpl-coachmark-card slot="content" appearance="inverted" class="w-[220px] -ml-lg" auto-close> <div slot="title" class="pt-xs pb-2xs"> ${"Who are core contributors?"} </div> <div class="text-12 pb-xs"> ${"Core contributors have visited or contributed to this community consistently in the past month."} </div> ${e.o({attributes:{slot:"close-button",id:"close-poll-coachmark-button"},leadingIcon:e.al(),appearance:"plainInverted",size:e.q.Small})} </rpl-coachmark-card> </rpl-coachmark> `;}};return e._([e.aP({context:e.bh}),e.n({attribute:!1})],n.prototype,"isUserLoggedIn",void 0),e._([e.n({type:String,attribute:"post-id"})],n.prototype,"postId",void 0),e._([e.n({attribute:!1})],n.prototype,"selectedOptionId",void 0),e._([e.n({type:Boolean,attribute:"show-poll-coachmark"})],n.prototype,"shouldShowPollCoachmark",void 0),e._([e.h()],n.prototype,"voteRequestPending",void 0),n=e._([e.e("shreddit-post-poll")],n),{get ShredditPostPoll(){return n},_setRequestClientGQLImpl:function(e){o=e}}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");
SML.dm("D-MP0EoIqA",["Dw4vb8Yfbm","5r73EsgItq"],(async(e,l)=>{let o=class extends l.s{constructor(){super(...arguments),this.handleScroll=()=>{this.dropdownMenu?.[0]?.close()}}connectedCallback(){super.connectedCallback(),document.querySelector('[slot="pdp-panel"]')?.addEventListener("scroll",this.handleScroll),document.querySelector('[slot="mod-queue-feed"]')?.addEventListener("scroll",this.handleScroll)}disconnectedCallback(){super.disconnectedCallback(),document.querySelector('[slot="pdp-panel"]')?.removeEventListener("scroll",this.handleScroll),document.querySelector('[slot="mod-queue-feed"]')?.removeEventListener("scroll",this.handleScroll)}render(){return l.x`<slot></slot>`}};e._([e.l({slot:"",selector:"faceplate-dropdown-menu"})],o.prototype,"dropdownMenu",void 0),o=e._([e.e("mod-dropdown-closer")],o)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./D_6DXw1u0k.js",import.meta.url,"D_6DXw1u0k");SML.di("./CQMf561ZyA.js",import.meta.url,"CQMf561ZyA");SML.di("./CpZ44pmnxI.js",import.meta.url,"CpZ44pmnxI");SML.di("./B0p6XlbwHt.js",import.meta.url,"B0p6XlbwHt");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./wBWjBlz6KG.js",import.meta.url,"wBWjBlz6KG");
SML.dm("D1qW6uVN9U",["Dw4vb8Yfbm","B0p6XlbwHt","5r73EsgItq","wBWjBlz6KG","D_6DXw1u0k","CQMf561ZyA","CpZ44pmnxI"],(async(e,t,a,s)=>{const{svg:o}=e.a(),i=e.m(o`<path d="M13 8.75a1.75 1.75 0 100-3.5 1.75 1.75 0 000 3.5z"></path><path d="M8.6 18c0 .55-.45 1-1 1H4.11c-.84 0-1.62-.32-2.2-.9a3.109 3.109 0 01-.86-2.78c.12-.65.47-1.23.94-1.7l5.18-5.18c-.51-2.05.07-4.18 1.57-5.68 2.34-2.34 6.16-2.34 8.5 0s2.34 6.16 0 8.5a5.952 5.952 0 01-5.02 1.7v1.43c0 .55-.45 1-1 1H8.6V18zm4.39-15.2c-1.08 0-2.16.41-2.98 1.23a4.195 4.195 0 00-.98 4.37l.19.53-6.04 6.04c-.25.25-.38.57-.38.92 0 .35.14.68.38.92s.57.38.93.38H6.8v-3.61h3.62v-3.03l1.2.41c1.54.54 3.21.16 4.35-.98a4.213 4.213 0 000-5.95c-.82-.82-1.9-1.23-2.98-1.23z"></path>`,"0 0 20 20","key"),r=()=>e.b({source:"content_gate",action:"click",noun:"continue"});let n=class extends a.s{constructor(){super(...arguments),this.country="",this.subredditName="",this.subredditId="",this.showMessageModeModal=!1,this.messageModsType="request",this.modMessageTextArea=e.a3(),this.modSubjectText=e.a3(),this.setPrefGatedOptIn=async()=>{if(e.i(this,r()),this.isLoggedIn&&this.subredditName.length)try{await e.Y({operation:e.O.OptInToGatedSubreddit,variables:{input:{subredditName:this.subredditName}}})}catch(e){window.console.error(e)}finally{this.reload()}else this.setCookie(e.d4)},this.setPrefQuarantinedOptIn=async()=>{if(e.i(this,r()),this.isLoggedIn&&this.subredditName.length)try{await e.Y({operation:e.O.UpdateSubredditQuarantineOptInState,variables:{input:{optInState:e.d5.OptedOut,subredditId:this.subredditId}}})}catch(e){window.console.error(e)}finally{this.reload()}else await this.setCookie(e.d6),this.reload()},this.setNsfwAllowed=async()=>{if(this.isLoggedIn){const{data:t}=await e.Y({operation:e.O.UpdateProfileSettings,variables:{input:{isNsfw:!0}}});t.updateProfileSettings?.ok&&this.reload()}else this.setCookie(e.X)},this.onCancelModModal=()=>{this.showMessageModeModal=!1},this.messageMod=async()=>{this.showMessageModeModal=!0,this.messageModsType="message"},this.requestToJoin=async()=>{this.showMessageModeModal=!0,this.messageModsType="request",e.i(this,e.b({source:"content_gate",action:"click",noun:"request_to_join_button"}))},this.sendMessageToMods=async()=>{const t=this.modMessageTextArea.value?.value||"",a=this.modSubjectText.value?.value||"Request to join";if(t.length){const{data:s}=await e.Y({operation:e.O.SendMessageToSubreddit,variables:{input:{body:t,subject:`[join] ${a}`,subredditId:this.subredditId}}});if(s.sendMessageToSubreddit.ok){if("request"===this.messageModsType){const{data:t}=await e.Y({operation:e.O.UpdateContributorRequestTimestamp,variables:{input:{requestDatetime:(new Date).toISOString(),subredditId:this.subredditId}}});if(t.updateLastContributorRequestTimestamp?.ok)return e.i(this,e.b({source:"content_gate",action:"click",noun:"request_to_join_submit"})),this.reload()}this.showMessageModeModal=!1}}}}reload(){window.location.reload()}initializeSlottedElements(){this.shadowRoot.querySelector('[slot="secondaryButton"]')?.assignedNodes({flatten:!0}).forEach((e=>{const t=e;"gated-action-button"===t.id&&(this.gatedButton=t),"nsfw-action-button"===t.id&&(this.nsfwButton=t),"quarantine-action-button"===t.id&&(this.quarantineButton=t),"private-mod-action-button"===t.id&&(this.privateModeButton=t)})),this.shadowRoot.querySelector('[slot="tertiaryButton"]')?.assignedNodes({flatten:!0}).forEach((e=>{const t=e;"private-join-action-button"===t.id&&(this.privateRequestToJoinButton=t)}))}addEventListenerToSlottedElements(){this.gatedButton?.addEventListener("click",this.setPrefGatedOptIn),this.nsfwButton?.addEventListener("click",this.setNsfwAllowed),this.quarantineButton?.addEventListener("click",this.setPrefQuarantinedOptIn),this.privateModeButton?.addEventListener("click",this.messageMod),this.privateRequestToJoinButton?.addEventListener("click",this.requestToJoin)}removeEventListenerFromSlottedElements(){this.gatedButton?.removeEventListener("click",this.setPrefGatedOptIn),this.nsfwButton?.removeEventListener("click",this.setNsfwAllowed),this.quarantineButton?.removeEventListener("click",this.setPrefQuarantinedOptIn),this.privateModeButton?.removeEventListener("click",this.messageMod),this.privateRequestToJoinButton?.removeEventListener("click",this.requestToJoin)}firstUpdated(){this.initializeSlottedElements(),this.addEventListenerToSlottedElements()}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListenerFromSlottedElements()}setCookie(t){e.N({country:this.country,name:t,value:"true",options:e.Q}),this.reload()}getBgImagePath(){const t=this.isLoggedIn?"home":"popular",a=e.ae()?"dark":void 0,s=this.isDesktop?void 0:"mobile";return`${CLIENT_CONFIG.STATIC_BASE_URL}assets/feeds/${[t,a,s].filter(Boolean).join("-")}.jpg`}renderModForm(){return a.x`<faceplate-form class="w-full"> <p class="mb-md"> ${"message"===this.messageModsType?"Send A Private Message":"Write a short message to the moderators explaining why you want to join."} </p> ${"message"===this.messageModsType?a.x`<faceplate-text-input ${e.a4(this.modSubjectText)} ?novalidate="${!0}" maxLength="${100}" class="mb-md w-100"> <span slot="label">${"Subject"}</span></faceplate-text-input>`:""} <faceplate-textarea-input class="w-full" ${e.a4(this.modMessageTextArea)} size="${t.T.EXPANDED}" appearance="${t.a.SECONDARY}" name="textarea" maxLength="${1e4}" ?novalidate="${!0}"> <span slot="label">${"Message to moderators"}</span> </faceplate-textarea-input> </faceplate-form>`;}renderModModal(){return a.x`<faceplate-modal open class="fixed top-1/2 -translate-y-1/2 w-[500px]"> <div slot="closeButton"> ${e.o({appearance:"secondary",attributes:{onclick:this.onCancelModModal},leadingIcon:e.al({size:a.I.Medium}),size:e.q.Medium})} </div> <div slot="titleGraphic" class="flex"> ${"message"===this.messageModsType?s.m({size:a.I.ExtraLarge}):i({size:a.I.ExtraLarge})} </div> <div slot="title"> ${"message"===this.messageModsType?"Message Mods":"Request to join"} </div> <div slot="primaryButton" ,> ${e.o({appearance:"primary",attributes:{className:"w-100",onclick:this.sendMessageToMods},children:"Send Message"})} </div> <div slot="secondaryButton" ,> ${e.o({appearance:"secondary",attributes:{className:"w-100",onclick:this.onCancelModModal},children:"Cancel"})} </div> ${this.renderModForm()} </faceplate-modal>`;}render(){return a.x`<main> ${this.showMessageModeModal?this.renderModModal():a.x`<faceplate-modal open class="fixed top-1/2 -translate-y-1/2"> <slot name="titleGraphic" slot="titleGraphic"></slot> <slot name="title" slot="title"></slot> <slot name="closeButton" slot="closeButton"></slot> <slot name="primaryButton" slot="primaryButton"></slot> <slot name="secondaryButton" slot="secondaryButton"></slot> <slot name="tertiaryButton" slot="tertiaryButton"></slot> <slot></slot> </faceplate-modal> `} <div class="blurred-bg h-full w-full bg-no-repeat bg-cover" style="background-image:url('${this.getBgImagePath()}')"> <div class="shade h-full w-full"></div> </div> </main> `}};n.styles=[a.a`main{height:calc(100vh - var(--shreddit-header-height));width:100vw}faceplate-modal{max-width:min(90%,656px)}.blurred-bg{filter:blur(10px)}.blurred-bg .shade{background-color:rgba(0,0,0,.7)}`,e.t],e._([e.n({type:String})],n.prototype,"country",void 0),e._([e.n({type:String})],n.prototype,"subredditName",void 0),e._([e.n({type:String})],n.prototype,"subredditId",void 0),e._([e.n({type:Boolean})],n.prototype,"isDesktop",void 0),e._([e.n({type:Boolean})],n.prototype,"isLoggedIn",void 0),e._([e.h()],n.prototype,"showMessageModeModal",void 0),e._([e.h()],n.prototype,"messageModsType",void 0),n=e._([e.e("guard-community-modal")],n)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");
SML.dm("D2GdwS8jc7",["Dw4vb8Yfbm"],(async a=>{const{svg:t}=a.a();return{c:a.m(t`<path d="M6.3 10c0-.23.088-.46.264-.636l4.6-4.6a.9.9 0 111.273 1.272L8.474 10l3.963 3.964a.9.9 0 01-1.273 1.272l-4.6-4.6A.897.897 0 016.3 10z"></path>`,"0 0 20 20","caret-left",!0)}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./DHw9yEcfFd.js",import.meta.url,"DHw9yEcfFd");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./B-zFJtiar6.js",import.meta.url,"B-zFJtiar6");SML.di("./BeFppRYbzE.js",import.meta.url,"BeFppRYbzE");
SML.dm("D65LRUFG0U",["Dw4vb8Yfbm","DHw9yEcfFd","5r73EsgItq","B-zFJtiar6","BeFppRYbzE"],(async(r,o,a)=>{var e=a.a`${r.a7}:host{--max-width:20rem;--hide-delay:500ms;--show-delay:750ms;display:contents}:host,:host([appearance=neutral]){--rpl-hovercard-background-color:var(--color-neutral-background);--rpl-hovercard-color:var(--color-neutral-content-strong)}:host([appearance=inverted]){--rpl-hovercard-background-color:var(--color-inverted-neutral-background);--rpl-hovercard-color:var(--color-inverted-neutral-content-strong)}.hovercard{--arrow-color:var(--rpl-hovercard-background-color)}.hovercard::part(popup){z-index:var(--rpl-z-index-hovercard,var(--faceplate-hovercard-z-index,1))}.hovercard[placement^=top]::part(popup){transform-origin:bottom}.hovercard[placement^=bottom]::part(popup){transform-origin:top}.hovercard[placement^=left]::part(popup){transform-origin:right}.hovercard[placement^=right]::part(popup){transform-origin:left}.hovercard-body{font:var(--font-label-2);letter-spacing:var(--font-label-2-kerning);display:flex;flex-direction:column;width:fit-content;justify-content:flex-start;align-items:flex-start;box-sizing:border-box;border-radius:1rem;box-shadow:var(--elevation-md);z-index:var(--rpl-hovercard-z-index,var(--faceplate-tooltip-z-index,1));background-color:var(--rpl-hovercard-background-color);color:var(--rpl-hovercard-color);padding:8px}`;const t="neutral";let n=class extends o.H{constructor(){super(...arguments),this.appearance=t}};n.styles=e,r._([r.n({type:String,reflect:!0})],n.prototype,"appearance",void 0),n=r._([r.e("rpl-hovercard")],n)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");
SML.dm("DEkErsMrK1",["Dw4vb8Yfbm"],(async a=>{const{svg:l}=a.a();return{c:a.m(l`<g clip-path="url(#a)"><path d="M8.704 17a.9.9 0 01-.88-1.087l2.594-12.201a.9.9 0 111.759.374L9.583 16.287a.9.9 0 01-.879.713zm-2.567-1.764a.898.898 0 000-1.272L2.173 10l3.964-3.964a.9.9 0 10-1.273-1.272l-4.6 4.599a.898.898 0 000 1.272l4.6 4.6a.897.897 0 001.274 0l-.001.001zm9 0l4.6-4.6a.898.898 0 000-1.272l-4.6-4.6a.9.9 0 10-1.273 1.272L17.828 10l-3.964 3.964a.898.898 0 00.637 1.536c.231 0 .46-.088.636-.264z"></path></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"></path></clipPath></defs>`,"0 0 20 20","code-inline")}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./oUI692WQat.js",import.meta.url,"oUI692WQat");SML.di("./UfsiwdHXZO.js",import.meta.url,"UfsiwdHXZO");SML.di("./B-zFJtiar6.js",import.meta.url,"B-zFJtiar6");
SML.dm("DFEdFtCEna",["Dw4vb8Yfbm","oUI692WQat","UfsiwdHXZO","B-zFJtiar6"],(async(e,t,o,n)=>{const i="authentication_flow",r="start",a="complete",s="login",c="signup",u="recover",l="unknown",d="google",h="apple",p="recover_password",g=(e,t)=>({action_info:{type:e,success:"boolean"==typeof t?.success?t.success:void 0,reason:t?.reason||void 0,page_type:t?.pageType||void 0}}),w=t=>{let o=s;return!1===t?.success&&(o=l),e.b({source:i,noun:d,action:a},g(o,t))},m=t=>{let o=s;return!1===t?.success&&(o=l),e.b({source:i,noun:h,action:a},g(o,t))},k=t=>e.b({source:i,noun:d,action:a},g(c,t)),b=t=>e.b({source:i,noun:h,action:a},g(c,t)),f=(t,o)=>e.b({source:n.ao,action:n.cb,noun:t},{action_info:{source_name:o??"unknown"}});return {A:class{constructor(t){this.host=t,this.beginOIDCLogin=async e=>{if(!e)return;const t=await this.getOIDCProviderLoginUrl(e);t&&this.redirectToOIDCLogin(t)},this.redirectToOIDCLogin=e=>{window.location.assign(e)},this.dispatchSSOError=e=>{const t=e.charAt(0).toUpperCase()+e.slice(1).toLowerCase();this.dispatchError(`Something went wrong interacting with ${t}`,`auth-flow-provider-error-${e}`)},this.dispatchError=(t,o,n=e.a5.error)=>{const i=e.c("faceplate-alert",{level:n,message:t,cause:o});this.host.dispatchEvent(i)},this.host.addController(this)}hostConnected(){this.authFlowManager=document.querySelector("auth-flow-manager")}async show(t,o){const n=e.c("auth-flow-loading:start",{step:t});if(this.host.dispatchEvent(n),n.defaultPrevented)return;return (await (this.authFlowManager?.show(t, o)))?(this.host.dispatchEvent(e.c("auth-flow-loading:success",{step:t})),!0):(this.host.dispatchEvent(e.c("auth-flow-loading:error",{step:t})),!1);}back(){this.authFlowManager?.back()}close(){this.authFlowManager?.close()}async checkIsOIDCRequired(t){if(!t)return!1;try{const o=window.location.origin,n=new URL(e.fp.CheckIsOIDCRequired,o),i=await fetch(n,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({userIdentifier:t,csrf_token:e.K.get("csrf_token")})}),r=await i.json();if(i.ok)return r.is_sso||!1;throw new Error(r.error?.message||"Unknown error",{cause:r.error?.code||"unknown"})}catch(e){return window.Sentry?.captureError?.(e),!1}}async getOIDCProviderLoginUrl(t){if(!t)return null;const o=this.determineDestinationURL();try{const n=window.location.origin,i=new URL(e.fp.GetOIDCProviderLoginUrl,n),r=await fetch(i,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({userIdentifier:t,destination:o,csrf_token:e.K.get("csrf_token")})}),a=await r.json();if(r.ok)return a.redirect_url||null;throw new Error(a.error?.message||"Unknown error",{cause:a.error?.code||"unknown"})}catch(e){return window.Sentry?.captureError?.(e),null}}async setOIDCAccountPickerChoice(t,o){if(!t||!o)return null;try{const n=window.location.origin,i=new URL(e.fp.SetOIDCAccountPickerChoice,n),r=await fetch(i,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({accountId:t,selectorSessionToken:o,csrf_token:e.K.get("csrf_token")})}),a=await r.json();if(r.ok)return a.dest||null;throw new Error(a.error?.message||"Unknown error",{cause:a.error?.code||"unknown"})}catch(e){return window.Sentry?.captureError?.(e),null}}get currentPage(){return window.location.href}get currentPath(){return window.location.pathname}get homePage(){return window.location.origin}determineDestinationURL(){const o=this.currentPage,n=this.currentPath,i=this.homePage;let r=o;n.match(e.cE)&&(r=i);try{const e=new URL(o).searchParams.get("dest");if(e){const o=new URL(e).toString();t.i(o)&&(r=o)}}catch(e){}return r}setLoginDestination(e){if(!e)return;const t=new URL(this.currentPage);t.searchParams.set("dest",e),window.history.replaceState(null,"",t.toString())}async identityProviderSigin(t){try{e.i(this.host,f("sso_signin",t.authFlow));const o=await fetch(e.fp.IdentityProviderSignin,{method:"POST",headers:{Accept:"application/json, text/vnd.reddit.partial+html","Content-Type":"application/json"},body:JSON.stringify({idToken:t.idToken,canCreate:Boolean(!t.isSignedInAutomatically),recaptchaToken:t.recaptchaToken,recaptchaAction:t.recaptchaAction,subscribeToEmailDigest:t.subscribeToEmailDigest,email:t.email,authFlow:t.authFlow,csrf_token:e.K.get("csrf_token"),auth_modularity:!0})}),n=e.dV(o);switch(o.status){case e.h7.UserAccountCreated:this.handleSSOAccountResolved({authFlow:t.authFlow||e.A.Unknown,provider:t.provider,operation:"signin",newAccountCreated:!0,requireEmailPermission:t.emailPermissionRequired,subscribeToEmailDigest:t.subscribeToEmailDigest});break;case e.h7.UserLoggedIn:this.handleSSOAccountResolved({authFlow:t.authFlow||e.A.Unknown,provider:t.provider,operation:"signin",newAccountCreated:!1});break;case e.h7.MultipleAccountsFound:{if(!n?.includes("json"))break;const{accounts:i}=await o.json();if(!i||0===i.length)break;const r={accounts:JSON.stringify(i),idToken:t.idToken,subscribeToEmailDigest:JSON.stringify(t.subscribeToEmailDigest),email:t.email,authFlow:t.authFlow??e.A.Unknown};this.show(e.A.SSOLinking,{bodyParams:r});break}case e.h7.GoogleCredentialMismatch:e.h8(t.email);break;default:if("text/vnd.reddit.partial+html"===n){const t=await o.text();e.aT(t,this.host,e.P.Append)}else o.ok||this.dispatchSSOError(t.provider)}}catch(e){this.dispatchSSOError(t.provider)}}handleSSOAccountResolved(t){const n=`${t.operation}_${t.newAccountCreated?"register":"login"}`;if(e.i(this.host,o.d(t.authFlow,t.provider,n)),this.skipOnboardingFlowEventDispatcher(t.authFlow),t.newAccountCreated){const o=t.requireEmailPermission&&!t.subscribeToEmailDigest;let n;this.show(e.A.Onboarding,{bodyParams:{showEmailPermission:encodeURIComponent(o??!1)}}),t.provider===e.dq.Apple&&(n=b),t.provider===e.dq.Google&&(n=k),n&&e.i(this.host,n({success:!0}))}else{let o;t.provider===e.dq.Apple&&(o=m),t.provider===e.dq.Google&&(o=w),o&&e.i(this.host,o({success:!0})),this.reloadToLoggedIn(t.newAccountCreated)}}skipOnboardingFlowEventDispatcher(e){const t=new CustomEvent("skip-onboarding-flow",{bubbles:!0,composed:!0,detail:{authFlow:e}});this.host.dispatchEvent(t),t.defaultPrevented}async reloadToLoggedIn(e=!1){const t=new CustomEvent("auth-completed",{bubbles:!0,composed:!0});this.host.dispatchEvent(t),t.defaultPrevented||this.authFlowManager?.reloadToLoggedIn(e)}trackSSOFailure(t){const{authFlow:o,provider:n,reason:i}=t;e.i(this.host,((t,o,n)=>e.b({source:"onboarding",action:"fail",noun:t},{action_info:{reason:n,type:o}}))(o,n,i)),window.Sentry?.withScope((e=>{e.setExtra("flow",o),e.setExtra("provider",n),e.setExtra("reason",i),window.Sentry?.captureMessage("SSO authentication failed")})),this.dispatchSSOError(n)}},a:(t,o)=>e.b({source:"onboarding",action:"click",noun:t},{action_info:{type:o}}),b:t=>e.b({source:i,noun:h,action:r},g(l,t)),c:m,d:w,e:t=>e.b({source:i,noun:d,action:r},g(l,t)),f:t=>e.b({source:i,noun:p,action:a},g(u,t)),g:(t,o)=>e.b({source:t,action:"view",noun:"banner"},{action_info:{reason:o}}),h:g,i:s,j:i,k:"magic_link",l:r,m:a,n:"phone",o:l,p:c,q:t=>e.b({source:i,noun:p,action:r},g(u,t)),r:()=>e.b({source:e.fv.ResetPassword,action:"submit",noun:"reset_complete"}),s:(t,o)=>e.b({source:t,action:"submit",noun:"email"},{action_info:{success:o}}),t:f,u:t=>e.b({action:"select",noun:"link_account",source:n.ao},{target_user:{id:t}}),v:"email"};}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./B-zFJtiar6.js",import.meta.url,"B-zFJtiar6");SML.di("./BIzQFHISzm.js",import.meta.url,"BIzQFHISzm");
SML.dm("DIrjWut_vd",["Dw4vb8Yfbm","5r73EsgItq","B-zFJtiar6","BIzQFHISzm"],(async(e,t,s,i)=>{class l extends(function(e){var t;return(t=class extends e{}).VERSION="unreleased",t}(t.s)){}let a=class extends l{constructor(){super(...arguments),this.selected=!1,this.disabled=!1,this.current=!1,this.emitter=s.n(this),this.trustedUpdate=!1,this.handleSelection=e=>{e.stopPropagation(),this.disabled||this.dispatchSelectRequest(!this.selected)},this.onClick=e=>{this.handleSelection(e)},this.dispatchSelectRequest=(e=this.selected,t)=>{this.emitter.dispatch("select",{bubbles:!0,composed:!0,detail:{option:this,selected:e,allowSingleDeselection:t}})},this.resetSelection=()=>{this.matchedText="",this.removeAttribute("hidden"),this.selected=!1,this.dispatchSelectRequest()},this.visualFocus=e=>{this.current=e}}connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.onClick),this.addEventListener(this.emitter.eventId("update"),this.onUpdateFromSelect),this.setAttribute("role","option")}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("click",this.onClick),this.removeEventListener(this.emitter.eventId("update"),this.onUpdateFromSelect)}updated(e){e.has("selected")&&this.setAttribute("aria-selected",`${this.selected}`),e.has("disabled")&&this.setAttribute("tabindex",this.disabled?"-1":"0"),this.trustedUpdate&&(this.trustedUpdate=!1)}willUpdate(e){e.has("selected")&&!this.trustedUpdate&&this.dispatchSelectRequest(this.selected,!0)}onUpdateFromSelect(e){const{selected:t}=e.detail??{};t!==this.selected&&(this.selected=t,this.trustedUpdate=!0)}static get styles(){return t.a`:host{color:var(--color-secondary-plain);cursor:pointer;display:flex;align-items:center;gap:var(--spacer-xs);padding:var(--spacer-xs);min-width:var(--select-width, 'auto');box-sizing:border-box;outline-offset:-1px}:host([hidden]){display:none}:host(:hover){background:var(--color-neutral-background-strong-hover)}:host([selected]){background:var(--color-neutral-background-selected)}:host([current]){outline:1px auto var(--color-global-focus)}:host([disabled]){color:var(--color-interactive-content-disabled);pointer-events:none}slot[name=leading]{width:var(--size-xl);height:var(--size-xl);align-items:center}::slotted([slot=leading]){display:inline-flex}slot:not([name]){display:inline-block;width:100%;line-height:var(--rem20)}.matched-text{font-weight:700}`}render(){const e=this.matchedText?.length||0;return t.x`<slot name="leading"></slot> <slot> <span class="matched-text">${this.matchedText}</span><span>${this.displayText?.slice(e)}</span> </slot> <span>${this.selected?i.c():t.A}</span>`}};e._([e.n({type:Boolean})],a.prototype,"selected",void 0),e._([e.n({type:Boolean})],a.prototype,"disabled",void 0),e._([e.n({type:String})],a.prototype,"value",void 0),e._([e.n({type:String,attribute:"matched-text",reflect:!0})],a.prototype,"matchedText",void 0),e._([e.n({type:String,attribute:"display-text"})],a.prototype,"displayText",void 0),e._([e.n({type:Boolean,reflect:!0})],a.prototype,"current",void 0),e._([e.aC({flatten:!0})],a.prototype,"defaultSlot",void 0),a=e._([e.e("faceplate-option")],a)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./B-zFJtiar6.js",import.meta.url,"B-zFJtiar6");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./xrDbp1ee_h.js",import.meta.url,"xrDbp1ee_h");SML.di("./Z0tk4vmzIQ.js",import.meta.url,"Z0tk4vmzIQ");SML.di("./BWv2j8jrjX.js",import.meta.url,"BWv2j8jrjX");
SML.dm("DKX7f2eWrD",["Dw4vb8Yfbm","B-zFJtiar6","5r73EsgItq","xrDbp1ee_h","Z0tk4vmzIQ","BWv2j8jrjX"],(async(t,o,n,e,s)=>{let i=class extends n.s{constructor(){super(...arguments),this.isMobile=!1,this.showDurationS=8,this.postId="",this.isPillVisible=!1,this.hostCommentCount=0,this.isAddedTabEvent=!1,this.commentCountSubscriptionController=new t.cP(this),this.onData=t=>{this.isAddedTabEvent||(document.querySelector(`.${o.ar}`)?.addEventListener("click",this.handleAmaCommentTabClick),this.isAddedTabEvent=!0);const n=t.subscribe.data.hostCommentCountChange||0;n<=0||(this.hostCommentCount+=n,this.isPillVisible?clearTimeout(this.currentCountDown):this.isPillVisible=!0,this.currentCountDown=setTimeout((()=>{this.isPillVisible=!1}),1e3*this.showDurationS))},this.scrollToCommentsAndRefreshAnswers=()=>{const t=document.querySelector(`.${o.ar}`)?.offsetTop;if(!t)return;const n=document.querySelector("nav")?.offsetHeight??0;window.scrollTo({top:t-n,behavior:"smooth"});const e=document.querySelector('button[value="answered"]');e?.click()},this.onPillClick=()=>{this.isPillVisible=!1,this.hostCommentCount=0,this.currentCountDown&&clearTimeout(this.currentCountDown),this.currentCountDown=void 0,this.scrollToCommentsAndRefreshAnswers()},this.handleAmaCommentTabClick=t=>{const o=t.target?.getAttribute("value"),n=o&&o.toLowerCase();"all"!==n&&"answered"!==n||(this.isPillVisible=!1,this.hostCommentCount=0,this.currentCountDown&&clearTimeout(this.currentCountDown))}}static get styles(){return[n.a`:host{left:50%;position:fixed;top:calc(var(--shreddit-header-height) + 32px);transform:translateX(-50%);z-index:1001}`,t.t]}getTitleText(){return t.cB({one:`${this.hostCommentCount} new answer`,other:`${this.hostCommentCount} new answers`,count:this.hostCommentCount});}connectedCallback(){super.connectedCallback(),this.commentCountSubscriptionController.subscribe({query:{operationName:"SubscribeSubscription",query:"\n          subscription SubscribeSubscription($input: SubscribeInput!) {\n            subscribe(input: $input) {\n              ... on BasicMessage {\n                data {\n                  ... on CommentCountUpdateMessageData {\n                    hostCommentCountChange\n                  }\n                }\n              }\n            }\n          }\n          ",variables:{input:{channel:{teamOwner:"CONTENT_AND_COMMUNITIES",category:"COMMENT_COUNT_UPDATE",postID:this.postId}}}},onData:t=>{t.data&&this.onData(t.data)}})}disconnectedCallback(){super.disconnectedCallback(),document.querySelector(`.${o.ar}`)?.removeEventListener("click",this.handleAmaCommentTabClick)}render(){return this.isPillVisible?t.o({appearance:"primary",attributes:{onclick:this.onPillClick},children:this.getTitleText(),size:this.isMobile?t.q.Small:t.q.Large,role:"button"}):n.A}};t._([t.n({type:Boolean,attribute:"is-mobile"})],i.prototype,"isMobile",void 0),t._([t.n({type:Number,attribute:"show-duration-in-s"})],i.prototype,"showDurationS",void 0),t._([t.n({type:String,attribute:"post-id"})],i.prototype,"postId",void 0),t._([t.h()],i.prototype,"isPillVisible",void 0),t._([t.h()],i.prototype,"hostCommentCount",void 0),i=t._([t.e("ama-new-comment-pill")],i);let h=class extends n.s{constructor(){super(...arguments),this.postId="",this.viewContext=e.P.AggregateFeed,this.viewType=t.ag.CardView,this.isUpdatingPostAmaTime=!1,this.pubsub=new t.u(this),this.onPostUpdateAction=({postId:o,action:n,value:i})=>{this.postId===o&&(n===s.a.editAma?(this.editAmaController?.setEditing(i),i&&requestAnimationFrame((()=>this.scrollIntoView({behavior:"smooth",block:"center"})))):n===s.a.edit&&i&&this.editAmaController?.isEditing?this.editAmaController?.setEditing(!1):n===s.a.updatePostAmaTimePending?this.isUpdatingPostAmaTime=i:n===s.a.updateAmaTime&&(this.dispatchEvent(t.c(e.d,{postId:o})),this.editAmaController?.resetEditing()))}}connectedCallback(){this.pubsub.subscribe(t.T.PostUpdated,this.onPostUpdateAction),this.pubsub.subscribe(t.T.AMAStarted,(()=>this.editAmaController?.setEditing(!1)),!1),this.initEditTools(),super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback()}checkPostEditMode(){const o=new URLSearchParams(location.search);if(o.get(s.E)){this.pubsub.publish(t.T.PostUpdated,{postId:this.postId,action:s.a.editAma,value:!0}),o.delete(s.E);const n=o.toString(),e=location.pathname+(n.length?"?":"")+n;window.history.replaceState({},document.title,e)}}async initEditTools(){const{EditAmaController:t}=await SML.di("./jTFRatIQcd.js",import.meta.url,"jTFRatIQcd").then((function(t){return t.e}));this.editAmaController=new t(this,{getPostId:()=>this.postId,getViewContext:()=>this.viewContext});const{PostPartialUpdateController:o}=await SML.di("./rRtdCP2Jvs.js",import.meta.url,"rRtdCP2Jvs");this.partialUpdateAmaTimeController=new o(this,{getPostId:()=>this.postId,getViewContext:()=>this.viewContext,getSubredditPrefixedName:()=>this.subredditPrefixedName,getViewType:()=>this.viewType,updatePostBodyPendingAction:s.a.updatePostAmaTimePending}),this.checkPostEditMode()}render(){return this.isUpdatingPostAmaTime?n.x` <faceplate-shimmer class="h-[100px] w-full px-md xs:px-0" shape="pill"></faceplate-shimmer> `:this.editAmaController?.isEditing?this.editAmaController?.renderEditor():n.A}};h.styles=[t.t],t._([t.n({type:String,attribute:"post-id"})],h.prototype,"postId",void 0),t._([t.n({type:String,attribute:"view-context"})],h.prototype,"viewContext",void 0),t._([t.n({type:String,attribute:"view-type"})],h.prototype,"viewType",void 0),t._([t.n({type:String,attribute:"subreddit-prefixed-name"})],h.prototype,"subredditPrefixedName",void 0),t._([t.h()],h.prototype,"isUpdatingPostAmaTime",void 0),h=t._([t.e("shreddit-post-edit-ama-time")],h)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./D_g7f2Ewyi.js",import.meta.url,"D_g7f2Ewyi");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./Chd9fEZKZ6.js",import.meta.url,"Chd9fEZKZ6");SML.di("./BYzqEZ3uv3.js",import.meta.url,"BYzqEZ3uv3");SML.di("./eY7T41bKac.js",import.meta.url,"eY7T41bKac");SML.di("./Cv4mWnWE30.js",import.meta.url,"Cv4mWnWE30");SML.di("./B-zFJtiar6.js",import.meta.url,"B-zFJtiar6");
SML.dm("DM1QcTS4ln",["Dw4vb8Yfbm","D_g7f2Ewyi","5r73EsgItq","Chd9fEZKZ6","BYzqEZ3uv3","eY7T41bKac","Cv4mWnWE30","B-zFJtiar6"],(async(a,t,e,i)=>{const o=e.s;let n=class extends o{constructor(){super(...arguments),this.hasRemovalReasonAdded=!1,this._feedbackSubmitted=!1,this._trackingContext={}}get reportKey(){return`post-guidance-feedback-${this.reportId}`}getShredditPostData(){const a=this.getRootNode();if(a instanceof ShadowRoot){const t=a.host;if(t&&"SHREDDIT-POST"===t.tagName)return{id:t.id,postTitle:t.getAttribute("post-title"),contentHref:t.getAttribute("content-href"),authorId:t.getAttribute("author-id")}}return null}connectedCallback(){super.connectedCallback(),this._feedbackSubmitted="true"===sessionStorage.getItem(this.reportKey);const a=this.getShredditPostData();a&&(this._trackingContext={action_info:{post_id:a.id,post_title:a.postTitle,post_url:a.contentHref,author_id:a.authorId}})}handleFeedbackSubmit(t){if(t.target&&t.target instanceof HTMLElement){const e=t.target.closest("button"),i="yes"===e?.value,o=a.b({source:"moderator",action:"click",noun:i?"filter_is_correct":"filter_is_incorrect",...this._trackingContext});a.i(this,o),this._feedbackSubmitted=!0,sessionStorage.setItem(this.reportKey,"true")}}handleFeedbackUndo(){this._feedbackSubmitted=!1;const t=a.b({source:"moderator",action:"click",noun:"undo_filter",...this._trackingContext});a.i(this,t),sessionStorage.removeItem(this.reportKey)}renderFeedbackForm(){return e.x`<div class="border border-solid border-neutral-border p-sm flex flex-col gap-xs rounded-2 flex-1"> <div class="text-14 w-full"> ${"Was this automation accurate?"} </div> <div class="flex gap-2xs"> ${a.o({children:"Yes",appearance:"bordered",attributes:{type:"button",onclick:this.handleFeedbackSubmit,value:"yes"}})} ${a.o({children:"No",appearance:"bordered",attributes:{type:"button",onclick:this.handleFeedbackSubmit,value:"no"}})} </div> </div>`;}renderFeedbackSubmitted(){return e.x` <div class="border border-solid border-neutral-border p-sm flex flex-row gap-xs rounded-2 flex-1 items-center"> <div class="text-14 w-full"> ${"Got it. You helped train your automation."} </div> <faceplate-dropdown-menu id="post-guidance-feedback-dropdown-menu"> ${a.o({appearance:"plain",attributes:{type:"button"},leadingIcon:i.o({size:e.I.ExtraSmall}),screenReaderContent:"More options"})} <faceplate-menu slot="menu" dropdown> ${t.l({label:"Undo",attributes:{role:"option",onclick:this.handleFeedbackUndo}})} </faceplate-menu> </faceplate-dropdown-menu> </div>`;}renderRemovalReasonAdded(){return e.x`<div class="border border-solid border-neutral-border p-sm flex flex-row gap-xs rounded-2 flex-1 items-center"> <div class="text-14 w-full"> ${"Your removal reason helped train your automation."} </div> </div>`;}render(){return this.hasRemovalReasonAdded?this.renderRemovalReasonAdded():this._feedbackSubmitted?this.renderFeedbackSubmitted():this.renderFeedbackForm()}};n.styles=[a.t],a._([a.n({type:String,attribute:"report-id"})],n.prototype,"reportId",void 0),a._([a.n({type:Boolean,attribute:"has-removal-reason-added"})],n.prototype,"hasRemovalReasonAdded",void 0),a._([a.h()],n.prototype,"_feedbackSubmitted",void 0),n=a._([a.e("post-guidance-feedback")],n)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");
SML.dm("DMGDObG7XA",["Dw4vb8Yfbm","5r73EsgItq"],(async(t,e)=>{var a;!function(t){t.PLAIN="plain",t.MEDIA="media"}(a||(a={}));const i=12;let r=class extends e.s{constructor(){super(...arguments),this.pages=0,this.pageIndex=0,this.appearance=a.PLAIN,this.animationDuration=0,this.containerLabel="",this.numVisible=2,this.centerIndexPosition=3,this.setTransitionDuration=async()=>{this._dotsContainer&&(await this.updateComplete,this._dotsContainer.style.setProperty("--pagination-transition-duration",`${this.animationDuration}ms`))},this.animateInfiniteCurrentPage=t=>{if(this._currentPageIndicator){const e=[{transform:t?`translateX(${i*this.pages}px)`:"translateX(-12px)",opacity:0},{opacity:0,transform:t?"translateX(-12px)":`translateX(${i*this.pages}px)`},{opacity:1,transform:t?"translateX(0px)":`translateX(${i*(this.pages-1)}px)`}],a={duration:this.animationDuration,fill:"forwards",iterations:1};this.setDotsTrackTransform(!t),this._currentPageIndicator.animate(e,a)}},this.animateCurrentPage=async()=>{this.setDotsTrackTransform(),this.animateCurrentPageNumber()},this.animateCurrentPageNumber=()=>{if(this._currentPageIndicator){const t=[{width:"var(--rem6)"},{width:"var(--rem18)",borderRadius:"4px"},{width:"var(--rem6)",transform:`translateX(${i*this.pageIndex}px)`}],e={duration:this.animationDuration,fill:"forwards",iterations:1};this._currentPageIndicator.animate(t,e)}},this.onSelect=t=>{const e=new CustomEvent("pagination-click",{detail:{pageIndex:t},bubbles:!0,composed:!0});this.dispatchEvent(e)},this.isEdgeDot=t=>{if(this.pages>=6){const e=t===this.pageIndex-3,a=t===this.pageIndex+3;return e||a}return!1},this.getDotButton=a=>{const i=Math.abs(a-this.pageIndex),r=t=>t===this.pageIndex?`(${this.currentPageLabel??"Current Page"})`:"",n=this.getPageLabels?`${this.getPageLabels(a)} ${r(a)}`:`Page ${a+1} ${r(a)}`,o=0===i||1===i;return e.x`<button class="${t.Z({dot:!0,edge:this.isEdgeDot(a)})}" aria-hidden="${!o}" tabindex="${o?0:-1}" @click="${t=>{0===t.target.tabIndex&&this.onSelect(a)}}" @keydown="${t=>{"Enter"!==t.key&&"Space"!==t.key||this.onSelect(a)}}"> <faceplate-screen-reader-content>${n}</faceplate-screen-reader-content> </button>`},this.render=()=>{if(0!==this.pages)return e.x` <div id="dots-container" dir="ltr"> <div class="dots-track-container"> <div id="dots-track" role="group" aria-label="${this.containerLabel}"> ${this.currentPageIndicator} ${[...Array(this.pages).keys()].map(((t,e)=>this.getDotButton(e)))} </div> </div> </div> `}}static get styles(){return e.a`:host{display:inline-flex;height:var(--rem16,1rem);width:100%;justify-content:center}:host(:dir(rtl)){transform:scaleX(-1)}:host #dots-container{display:inline-flex;position:relative;height:100%;overflow:hidden;align-items:center;border-radius:var(--rem8,.5rem);padding:0 var(--rem2,.125rem);transition:width ease-in-out var(--pagination-transition-duration)}:host .dots-track-container{position:relative;height:100%;width:100%;display:flex;align-items:center}:host #dots-track{display:flex;position:absolute;inset-inline-start:0;height:var(--rem12,.75rem);overflow:hidden;box-sizing:border-box;font-size:var(--rem10,.625rem);align-items:center;transition:transform ease-in-out var(--pagination-transition-duration)}:host([appearance=media]) #dots-container{background-color:var(--color-media-background)}:host([appearance=media]) .dot{background-color:var(--color-media-onbackground-disabled)}:host .dot:focus-visible{outline:solid 1px var(--color-global-focus)}:host([appearance=media]) #current-page-indicator.number{color:var(--color-media-onbackground)}:host([appearance=media]) #current-page-indicator.dot{background-color:var(--color-media-onbackground)}:host #current-page-indicator{z-index:2;position:absolute}:host #current-page-indicator.number{color:var(--color-neutral-content);display:flex;align-items:center;justify-content:center;transition:transform ease-in-out var(--pagination-transition-duration)}:host #current-page-indicator.dot{background-color:var(--color-neutral-content)}:host .dot{height:var(--rem6,.375rem);width:var(--rem6,.375rem);border-radius:50%;box-sizing:content-box;display:inline-block;margin:calc(var(--rem2,.125rem) + var(--rem1,.0625rem));padding:0;border:none}:host #current-page-indicator.number{height:var(--rem15,.9375rem);width:var(--rem16,1rem);margin:0}:host .dot{background-color:var(--color-neutral-border);background-clip:content-box;transition:all ease-in-out var(--pagination-transition-duration)}:host .dot[tabindex='0']{cursor:pointer}:host .dot:focus{transition:none}:host .dot.edge{transform:scale(.5);flex-shrink:0}`}willUpdate(t){t.has("pageIndex")&&(this.pageIndex<0||this.pageIndex>this.pages-1)&&(this.pageIndex=0)}async updated(t){await this.updateComplete,(t.has("pageIndex")||t.has("pages"))&&this.shrinkOrStretch();const e=t.get("pageIndex")===this.pages-1&&0===this.pageIndex,a=0===t.get("pageIndex")&&this.pageIndex===this.pages-1;e||a?this.animateInfiniteCurrentPage(e):t.has("pageIndex")&&await this.animateCurrentPage(),t.has("animationDuration")&&this.setTransitionDuration()}shrinkOrStretch(){this.pages>=6?0===this.pageIndex||this.pageIndex===this.pages-1?this.numVisible=4:1===this.pageIndex||this.pageIndex===this.pages-2?this.numVisible=5:2===this.pageIndex||this.pageIndex===this.pages-3?this.numVisible=6:this.pageIndex>=3&&this.pageIndex<=this.pages-4&&(this.numVisible=7):this.numVisible=this.pages,this._dotsContainer&&(this._dotsContainer.style.width=`calc(var(--rem12, 0.75rem) * ${this.numVisible})`)}setDotsTrackTransform(t){const e=this.pageIndex-this.centerIndexPosition,a=e>0?e:0;if(this._dotsTrack){const e=`translateX(${i*a*-1}px)`;e!==this._dotsTrack.style.transform?this._dotsTrack.style.transform=e:t&&"translateX(0px)"!==this._dotsTrack.style.transform&&(this._dotsTrack.style.transform="translateX(0px)")}}get currentPageIndicator(){return e.x`<span id="current-page-indicator" class="dot" aria-hidden="true"></span>`}};return t._([t.n({type:Number})],r.prototype,"pages",void 0),t._([t.n({type:Number,attribute:"page-index"})],r.prototype,"pageIndex",void 0),t._([t.n({type:String})],r.prototype,"appearance",void 0),t._([t.n({type:Number,attribute:"animation-duration"})],r.prototype,"animationDuration",void 0),t._([t.n({type:String,attribute:"current-page-label"})],r.prototype,"currentPageLabel",void 0),t._([t.n()],r.prototype,"getPageLabels",void 0),t._([t.n({type:String,attribute:"container-label"})],r.prototype,"containerLabel",void 0),t._([t.a2("#dots-container")],r.prototype,"_dotsContainer",void 0),t._([t.a2("#dots-track")],r.prototype,"_dotsTrack",void 0),t._([t.a2("#current-page-indicator")],r.prototype,"_currentPageIndicator",void 0),t._([t.b9(".dot")],r.prototype,"_dots",void 0),r=t._([t.e("faceplate-pagination-indicator")],r),{get P(){return a}}}));
SML.di("./CG8L8PJoXS.js",import.meta.url,"CG8L8PJoXS");SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./O6qhDxcY8s.js",import.meta.url,"O6qhDxcY8s");SML.di("./BOFc1KQJc-.js",import.meta.url,"BOFc1KQJc-");SML.di("./Z0tk4vmzIQ.js",import.meta.url,"Z0tk4vmzIQ");
SML.dm("DNuG1KLpV-",["CG8L8PJoXS","Dw4vb8Yfbm","O6qhDxcY8s","BOFc1KQJc-","Z0tk4vmzIQ"],(async(t,E,T,a,e)=>({g:function(t){return t.closest("[mod-tools-host]")},p:function(n,o,S){switch(t.i(n)){case E.M.Award:o in T.S&&E.p(E.T.AwardOnContentUpdated,{awardOnContentId:n,action:T.S[o],value:S});break;case E.M.Comment:o in a.S&&E.p(E.T.CommentUpdated,{commentId:n,action:a.S[o],value:S});break;case E.M.Post:(e.P.includes(o)||o in e.S)&&E.p(E.T.PostUpdated,{postId:n,action:e.S[o],value:S});break}}})));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");
SML.dm("DVCQM8tfVd",["Dw4vb8Yfbm"],(async a=>{const{svg:m}=a.a();return{c:a.m(m`<path d="M17.033 3H2.967A1.967 1.967 0 001 4.967v5.066C1 11.119 1.881 12 2.967 12H5.1v5.1a.9.9 0 001.8 0V12h6.427v5.1a.9.9 0 001.8 0V12h1.906A1.967 1.967 0 0019 10.033V4.967A1.967 1.967 0 0017.033 3zm-6.919 1.8h4.732l-5.367 5.4H4.746l5.368-5.4zm-7.147 0H7.57L2.8 9.602V4.967c0-.092.075-.167.167-.167zm14.066 5.4h-5.008L17.2 5.025v5.008a.167.167 0 01-.167.167z"></path>`,"0 0 20 20","crowd-control")}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");
SML.dm("DbZs5o3urT",["Dw4vb8Yfbm"],(async a=>{const{svg:m}=a.a();return{m:a.m(m`<path d="M10 2.827c2.188 0 4.322.584 6.2 1.694v5.893c0 3.198-4.681 5.661-6.2 6.376-1.517-.714-6.2-3.178-6.2-6.376V4.521A12.164 12.164 0 0110 2.827zm0-1.8c-2.791 0-5.388.821-7.572 2.226A.952.952 0 002 4.054v6.36c0 4.611 6.22 7.576 7.691 8.212.1.043.205.065.309.065a.783.783 0 00.309-.065C11.78 17.99 18 15.026 18 10.414v-6.36a.952.952 0 00-.428-.8A13.943 13.943 0 0010 1.026z"></path>`,"0 0 20 20","mod")}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");
SML.dm("DbsIcWTJ8k",["Dw4vb8Yfbm","5r73EsgItq"],(async(e,t)=>{const o="wheel",n="touchmove",s="scroll-is-blocked";function l(e){e.preventDefault()}function d(e){e.stopPropagation()}class a extends e.bf{constructor(){super(...arguments),this.blockedSources=new Set([])}get shredditApp(){return document.querySelector("shreddit-app")}get isDebugEnabled(){return this.shredditApp?.hasAttribute("debug")}preventOverscrollOnBody(){document.body.classList.contains(s)||document.body.classList.add(s)}allowOverscrollOnBody(){document.body.classList.remove(s)}preventEventOnNode(e,t){t.addEventListener(e,l,{passive:!1})}allowEventOnNode(e,t){t.removeEventListener(e,l)}stopEventPropagationOnNode(e,t){t.addEventListener(e,d,{passive:!1})}allowEventPropagationOnNode(e,t){t.removeEventListener(e,d)}rafOrYOLO(e){requestAnimationFrame?requestAnimationFrame(e):e()}applyBlocking(){return new Promise((e=>{this.rafOrYOLO((()=>{const t=new Set,s=new Set;for(const e in a.CURRENT_SCROLL_BLOCKERS){const l=a.CURRENT_SCROLL_BLOCKERS[e];this.allowEventOnNode(o,l.targetNode),l.allowWheelEvents?this.allowEventPropagationOnNode(o,l.sourceNode):(this.preventEventOnNode(o,l.targetNode),this.stopEventPropagationOnNode(o,l.sourceNode),s.add(l.targetNode)),this.allowEventOnNode(n,l.targetNode),l.allowTouchEvents?this.allowEventPropagationOnNode(n,l.sourceNode):(this.preventEventOnNode(n,l.targetNode),this.stopEventPropagationOnNode(n,l.sourceNode),t.add(l.targetNode))}s.size>0?(this.preventOverscrollOnBody(),this.preventEventOnNode(o,document)):(this.allowOverscrollOnBody(),this.allowEventOnNode(o,document)),t.size>0?this.preventEventOnNode(n,document):this.allowEventOnNode(n,document),e()}))}))}async blockPageScrolling({allowTouchEvents:o,allowWheelEvents:n,source:s=this._host.tagName,sourceNode:l=this._host,targetNode:d=document}={}){a.CURRENT_SCROLL_BLOCKERS[s]||o&&n||(a.CURRENT_SCROLL_BLOCKERS[s]={allowTouchEvents:o,allowWheelEvents:n,sourceNode:l,targetNode:d},await this.applyBlocking(),this.blockedSources.add(s),this.isDebugEnabled&&this.shredditApp?.dispatchEvent(e.c("faceplate-alert",{name:"scroll-blocker-debug",level:e.a5.debug,message:`Scrolling blocked for "${s}"`,content:t.x` <dl> <dt>Touch events allowed?</dt> <dd><code>${Boolean(o)}</code></dd> <dt>Wheel events allowed?</dt> <dd><code>${Boolean(n)}</code></dd> </dl> `})))}async unblockPageScrolling(t=this._host.tagName){a.CURRENT_SCROLL_BLOCKERS[t]&&(a.CURRENT_SCROLL_BLOCKERS[t].allowTouchEvents=!0,a.CURRENT_SCROLL_BLOCKERS[t].allowWheelEvents=!0,await this.applyBlocking(),delete a.CURRENT_SCROLL_BLOCKERS[t],this.blockedSources.delete(t),this.isDebugEnabled&&this.shredditApp?.dispatchEvent(e.c("faceplate-alert",{name:"scroll-blocker-debug",level:e.a5.debug,message:`Scrolling unblocked for "${t}"`})))}hostDisconnected(){for(const e of this.blockedSources)this.unblockPageScrolling(e)}}return a.CURRENT_SCROLL_BLOCKERS={},{S:a}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./D_g7f2Ewyi.js",import.meta.url,"D_g7f2Ewyi");SML.di("./CzwD205thW.js",import.meta.url,"CzwD205thW");
SML.dm("Dc4r6aHTbv",["Dw4vb8Yfbm","5r73EsgItq","D_g7f2Ewyi","CzwD205thW"],(async(t,e,s,i)=>{const o=i.W(e.s);let r=class extends o{constructor(){super(...arguments),this.shareButtonText="",this.permalink="",this.size=t.q.Medium,this.menuSize=s.L.Medium,this.buttonClass="",this.isDesktopViewport=!1,this.ssr=!1,this.appearance="secondary",this.shareMenuFeatureName=t.aK,this.shareMenuTemplateId=i.S,this.useButton=!1,this.useMenu=!1,this.showFullButtons=!1,this.translationLanguage=""}static get styles(){return[t.t]}handlePostShareClick(t){this.isAllowedEvent(t)&&(this.isDesktopViewport?this.handleDesktopShareClick(t):this.handleMobileShareClick(t),this.ssr&&(this.isShareDropdownOpened?this.handleShareDropdownClose():this.handleShareDropdownOpen()))}render(){return this.ssr?e.x`<slot name="ssr-share-button" @click="${this.handlePostShareClick}" @keydown="${this.handlePostShareClick}"></slot>`:this.useMenu?this.renderOnlyShareMenuItem({handleShareClick:this.handlePostShareClick,menuSize:this.menuSize,attributes:{className:this.buttonClass}}):this.useButton?this.renderOnlyShareButton({handleShareClick:this.handlePostShareClick,size:this.size,attributes:{className:this.buttonClass},showFullButtons:this.showFullButtons}):this.renderShareDropdown({handleShareClick:this.handlePostShareClick,appearance:this.appearance,size:this.size,shareButtonText:this.shareButtonText,attributes:{className:this.buttonClass}})}};t._([t.n({type:String,attribute:"share-button-text"})],r.prototype,"shareButtonText",void 0),t._([t.n({type:String})],r.prototype,"permalink",void 0),t._([t.n({type:String})],r.prototype,"size",void 0),t._([t.n({type:String})],r.prototype,"menuSize",void 0),t._([t.n({type:String,attribute:"button-class"})],r.prototype,"buttonClass",void 0),t._([t.n({type:Boolean,attribute:"is-desktop-viewport"})],r.prototype,"isDesktopViewport",void 0),t._([t.n({type:Boolean,attribute:"ssr"})],r.prototype,"ssr",void 0),t._([t.n({type:String})],r.prototype,"appearance",void 0),t._([t.n({type:String,attribute:"share-menu-feature-name"})],r.prototype,"shareMenuFeatureName",void 0),t._([t.n({type:String,attribute:"share-menu-template-id"})],r.prototype,"shareMenuTemplateId",void 0),t._([t.n({type:Boolean,attribute:"use-button"})],r.prototype,"useButton",void 0),t._([t.n({type:Boolean,attribute:"use-menu"})],r.prototype,"useMenu",void 0),t._([t.n({type:Boolean,attribute:"show-full-buttons"})],r.prototype,"showFullButtons",void 0),t._([t.n({type:String})],r.prototype,"translationLanguage",void 0),r=t._([t.e("shreddit-post-share-button")],r)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./CZLMnmUH44.js",import.meta.url,"CZLMnmUH44");SML.di("./D_6DXw1u0k.js",import.meta.url,"D_6DXw1u0k");SML.di("./Bk8sRXhdir.js",import.meta.url,"Bk8sRXhdir");
SML.dm("Df8NHW2nh0",["Dw4vb8Yfbm","5r73EsgItq","CZLMnmUH44","D_6DXw1u0k","Bk8sRXhdir"],(async(t,a,e)=>{const i=a.s,n="translation-intervention-modal",{I18nPostTranslationOverride:s,I18nCommentTranslationOverride:o}=t.T,r=()=>!!t.a8.getItem(t.a9.I18nTranslationInterventionShown),d=()=>t.a8.setItem(t.a9.I18nTranslationInterventionShown,"true");let l=class extends i{constructor(){super(...arguments),this.translationContextValue=t.aQ,this.open=!1,this.pubsub=new t.u(this),this.handleTranslationOverride=t=>{t.isContextUpdateEvent||r()||this.open||(this.translationOverrideActive=t.isTranslationActive,this.translationSourceId=t.id,this.show())},this.show=()=>{r()||(this.open=!0,this.modal?.showModal(),d())},this.close=()=>{this.translationOverrideActive=void 0,this.translationSourceId=void 0,this.open&&(this.modal?.close(),this.open=!1,this.dispatchEvent(new CustomEvent("translation-intervention-modal:close",{bubbles:!0,composed:!0})))},this.getThingTelemetryMetadata=()=>({post:"post"===this.mode?{id:this.translationSourceId,translation_state:!!this.translationOverrideActive}:"mtseo-post"===this.mode?{id:this.translationSourceId}:void 0,comment:"comment"===this.mode?{id:this.translationSourceId,translation_state:!!this.translationOverrideActive}:void 0}),this.handleDismiss=()=>{t.i(this,e.f({isImmersiveTranslationsActive:!!this.translationContextValue.isTranslationActive,isImmersiveVisit:this.isImmersiveVisit,...this.getThingTelemetryMetadata()})),this.close()},this.handleClick=a=>{t.i(this,e.g({actionType:a,isImmersiveTranslationsActive:"keep"===a?!!this.translationContextValue.isTranslationActive:!this.translationContextValue.isTranslationActive,isImmersiveVisit:this.isImmersiveVisit,...this.getThingTelemetryMetadata()})),"keep"===a?this.close():this.handleSubmit()},this.handleSubmit=()=>{"mtseo-post"===this.mode&&t.a8.setItem(t.a9.I18nTranslationInterventionShown,"mtseo-disabled");const a=this.translationOverrideActive;this.dispatchContextUpdateEvent(a),this.close()}}connectedCallback(){super.connectedCallback(),r()||("post"===this.mode&&this.pubsub.subscribe(s,this.handleTranslationOverride,!1),"comment"===this.mode&&this.pubsub.subscribe(o,this.handleTranslationOverride,!1))}dispatchContextUpdateEvent(a){const e=new CustomEvent("update-translation-context",{bubbles:!0,composed:!0,detail:{...this.translationContextValue,isTranslationActive:a}});this.dispatchEvent(e),this.pubsub.publish(t.T.I18nPostTranslationOverride,{isTranslationActive:a,id:"",isContextUpdateEvent:!0,pageType:"feed"===this.pageType?"FEED":"PDP"})}render(){const e=this.translationOverrideActive?{body:"It looks like you know another language. Would you like all your content automatically translated?",confirmButton:"Continue Without Translations",cancelButton:"Turn On Translations"}:{body:"It looks like you know another language. Would you like to keep automatic translations turned on?",confirmButton:"Continue With Translations",cancelButton:"Turn off Translations"};return a.x` <faceplate-modal blocking ?open="${this.open}" class="${n} w-[350px] m:w-[320px] h-fit z-10"> <div slot="title" class="w-full m:w-fit"> <h3 class="my-0 font-bold inline-flex text-18" data-testid="i18n-modal-title"> ${"Update translations on Reddit"} </h3> </div> <div slot="closeButton" class="flex items-center"> ${t.o({attributes:{"aria-label":"Close","data-testid":"i18n-modal-close-button",onclick:this.handleDismiss},appearance:"secondary",leadingIcon:t.al({size:a.I.Small}),size:t.q.Small})} </div> <div class="flex flex-col w-full box-border"> <span class="text-16 my-lg text-pretty">${e.body}</span> <div class="flex flex-col w-full items-stretch gap-xs"> ${t.o({appearance:"primary",size:t.q.Large,shape:"pill",attributes:{className:"flex box-border w-full","data-testid":"i18n-modal-confirm-button",onclick:this.handleClick.bind(this,"keep")},children:a.x`<span class="font-semibold text-14">${e.confirmButton}</span>`})} ${t.o({appearance:"secondary",size:t.q.Large,shape:"pill",attributes:{className:"flex box-border w-full","data-testid":"i18n-modal-cancel-button",onclick:this.handleClick.bind(this,"change")},children:a.x`<span class="font-semibold text-14">${e.cancelButton}</span>`})} </div> </div> </faceplate-modal> `;}};l.styles=[t.t],t._([t.aP({context:t.aR,subscribe:!0}),t.h()],l.prototype,"translationContextValue",void 0),t._([t.n({type:String,attribute:"mode"})],l.prototype,"mode",void 0),t._([t.n({type:Boolean,attribute:"open"})],l.prototype,"open",void 0),t._([t.n({type:String,attribute:"page-type"})],l.prototype,"pageType",void 0),t._([t.n({type:Boolean,attribute:"is-immersive-visit"})],l.prototype,"isImmersiveVisit",void 0),t._([t.h()],l.prototype,"translationOverrideActive",void 0),t._([t.h()],l.prototype,"translationSourceId",void 0),t._([t.a2(`faceplate-modal.${n}`)],l.prototype,"modal",void 0),l=t._([t.e("translation-intervention-modal")],l)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");
SML.dm("Dh8G_lEIvS",["Dw4vb8Yfbm"],(async a=>{const{svg:l}=a.a();return{c:a.m(l`<path d="M9.39 14.632a1.185 1.185 0 01-.598-1.044 1.213 1.213 0 01.598-1.051c.183-.109.384-.164.603-.164.224 0 .428.055.615.164a1.198 1.198 0 01.601 1.051c0 .223-.053.427-.16.611a1.157 1.157 0 01-.44.433 1.229 1.229 0 01-.616.157c-.219 0-.42-.052-.604-.157zm-.165-3.364l-.25-6.058h2.082l-.252 6.058h-1.58zM10.002 19c-.845 0-1.69-.322-2.334-.965l-5.702-5.702a3.304 3.304 0 010-4.666l5.701-5.702a3.303 3.303 0 014.668 0l5.701 5.702a3.304 3.304 0 010 4.666l-5.701 5.702A3.292 3.292 0 019.998 19H10zm0-16.2c-.384 0-.768.145-1.06.437L3.237 8.94a1.502 1.502 0 000 2.122l5.703 5.702a1.501 1.501 0 002.12 0l5.703-5.702a1.502 1.502 0 000-2.122l-5.702-5.702a1.496 1.496 0 00-1.06-.438H10z"></path>`,"0 0 20 20","caution")}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");
SML.dm("Diz2FhHj1m",["Dw4vb8Yfbm"],(async a=>{const{svg:t}=a.a();return{t:a.m(t`<path d="M16.85 2h-5.47c-1.08 0-2.12.44-2.87 1.22L2.3 9.63a3.29 3.29 0 00.04 4.63l3.37 3.37a3.299 3.299 0 004.63.04l6.44-6.18c.79-.75 1.23-1.8 1.23-2.89V3.15c0-.64-.51-1.15-1.15-1.15h-.01zM13 8.75c-.97 0-1.75-.78-1.75-1.75s.78-1.75 1.75-1.75 1.75.78 1.75 1.75-.78 1.75-1.75 1.75z"></path>`,"0 0 20 20","tag-fill")}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./D-ibjVaztZ.js",import.meta.url,"D-ibjVaztZ");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./DFEdFtCEna.js",import.meta.url,"DFEdFtCEna");SML.di("./oUI692WQat.js",import.meta.url,"oUI692WQat");SML.di("./KHcvarc_gp.js",import.meta.url,"KHcvarc_gp");SML.di("./B7VtDPc4tA.js",import.meta.url,"B7VtDPc4tA");SML.di("./DbsIcWTJ8k.js",import.meta.url,"DbsIcWTJ8k");SML.di("./B-zFJtiar6.js",import.meta.url,"B-zFJtiar6");SML.di("./CG8L8PJoXS.js",import.meta.url,"CG8L8PJoXS");SML.di("./UfsiwdHXZO.js",import.meta.url,"UfsiwdHXZO");
SML.dm("DmAQ0ztrTj",["Dw4vb8Yfbm","D-ibjVaztZ","5r73EsgItq","DFEdFtCEna","oUI692WQat","KHcvarc_gp","B7VtDPc4tA","DbsIcWTJ8k","B-zFJtiar6","CG8L8PJoXS","UfsiwdHXZO"],(async(t,e,i,r)=>{const s={[t.g6.Login]:"login",[t.g6.Password]:"password",[t.g6.Register]:"register",[t.g6.RegisterPrompt]:"register",[t.g6.RegisterEmailOnly]:"register",[t.g6.PasswordRecovery]:"passwordrecovery",[t.g6.Onboarding]:"onboarding",[t.g6.PhoneAuth]:"login",[t.g6.HighFlyerRegister]:"register",[t.g6.LoggedInAction]:"register",[t.g6.AnswersRegister]:"register",[t.g6.CommunityValueRegister]:"register",[t.g6.MagicLinkLogin]:"login"};const o=i.s;let a=class extends o{constructor(){super(...arguments),this.step=t.g6.Register,this.hasRegularFont=!1,this.hideUnderline=!1,this.hasFullWidth=!1,this.hasLargeText=!1,this.params={},this.authFlowController=new r.A(this),this.sendCustomEvent=t=>{t.preventDefault(),t.stopPropagation(),this.authFlowController.show(this.step,this.params)}}static get styles(){return[t.t]}render(){return e.a({attributes:{className:this.hasFullWidth?"block":"inline-block",href:(t=this.step,`${CLIENT_CONFIG.ORIGIN}/${s[t]}/`),onclick:this.sendCustomEvent},children:i.x`<slot></slot>`,fontWeight:this.hasRegularFont?e.b.Regular:e.b.Semibold,size:this.hasLargeText?e.A.Medium:e.A.Small,suppressVisitedStyle:!0,underline:this.hideUnderline?"none":"always"});var t}};t._([t.n({type:String})],a.prototype,"step",void 0),t._([t.n({type:Boolean,attribute:"has-regular-font"})],a.prototype,"hasRegularFont",void 0),t._([t.n({type:Boolean,attribute:"hide-underline"})],a.prototype,"hideUnderline",void 0),t._([t.n({type:Boolean,attribute:"full-width"})],a.prototype,"hasFullWidth",void 0),t._([t.n({type:Boolean,attribute:"large-text"})],a.prototype,"hasLargeText",void 0),t._([t.n({type:Object})],a.prototype,"params",void 0),a=t._([t.e("auth-flow-link")],a)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");
SML.dm("DmecpYOCDL",["Dw4vb8Yfbm"],(async e=>{const t=new Set([e.au.ProfileOverview,e.au.ProfilePosts]),o=new Set([e.au.BrandMention,e.au.ProfileAccountStats,e.au.ProfileComments,e.au.ProfileDashboard,e.au.ProfileDownvoted,e.au.ProfileHidden,e.au.ProfileOverview,e.au.ProfilePerformance,e.au.ProfilePerformanceComments,e.au.ProfilePosts,e.au.ProfileRelatedKeywords,e.au.ProfileSaved,e.au.ProfileSubmitted,e.au.ProfileTrendingConvoDetails,e.au.ProfileCommunityFinder,e.au.ProfileTrendingConvos,e.au.ProfileUpvoted,e.au.ProfileTrendMonitoring,e.au.ProductCommunitiesPage,e.au.ProductInsights,e.au.ProductInsightDetailsPage,e.au.ProductConversationsPage,e.au.ArticleDetails,e.au.ArticleFeed,e.au.ArticleInsights,e.au.PublisherCommunities]),a=[e.au.ProfileOverview,e.au.ProfilePosts,e.au.ProfileSaved,e.au.ProfileUpvoted,e.au.ProfileDownvoted,e.au.ProfileHidden];var s;Array.from(o),function(e){e[e.Hour=0]="Hour",e[e.Day=1]="Day",e[e.Month=2]="Month",e[e.Year=3]="Year"}(s||(s={}));const r=e=>({unit:s.Day,value:-e}),n=e=>({unit:s.Month,value:-e});var i,d;!function(e){e[e.Yesterday=0]="Yesterday",e[e.LastWeek=1]="LastWeek",e[e.LastMonth=2]="LastMonth",e[e.Last3Months=3]="Last3Months",e[e.Last6Months=4]="Last6Months",e[e.LastYear=5]="LastYear"}(i||(i={})),function(e){e.Yesterday="day",e.LastWeek="week",e.LastMonth="month",e.Last3Months="last-3-months",e.Last6Months="last-6-months",e.LastYear="year"}(d||(d={})),new Set([d.LastWeek,d.LastMonth,d.Last3Months]),s.Day;const l={[i.LastWeek]:d.LastWeek,[i.LastMonth]:d.LastMonth,[i.Last3Months]:d.Last3Months,[i.Last6Months]:d.Last6Months},u=[{type:i.LastWeek,value:l[i.LastWeek],offset:r(7)},{type:i.LastMonth,value:l[i.LastMonth],offset:r(30)},{type:i.Last3Months,value:l[i.Last3Months],offset:n(3)},{type:i.Last6Months,value:l[i.Last6Months],offset:n(6)}],f=new Map(u.map((({value:e,offset:t})=>[e,t]))),h=d.LastMonth;var L;f.get(h),d.LastWeek,e.bp.Week,d.LastMonth,e.bp.Month,d.Last3Months,e.bp.Months_3,d.Last6Months,e.bp.Months_6,d.LastYear,e.bp.Month,d.Yesterday,e.bp.Month,d.Yesterday,e.bq.Day,d.LastWeek,e.bq.Week,d.LastMonth,e.bq.Month,d.Last3Months,e.bq.Months_3,d.Last6Months,e.bq.Months_3,d.LastYear,e.bq.Months_3,function(e){e.ProfileCreation="profile_creation_step",e.VerifyEmail="verify_email_step"}(L||(L={}));return{A:"reddit-pro-account-stats-content-id",D:"profile-dashboard-performance-overview-content",O:"overview-box-value",P:"/profiles",get R(){return d},T:"rpl-dialog-sheet[dialog-id=trend-monitoring-add-keyword-modal]",a:h,b:"t",get c(){return s},d:t,e:"profile-active-subreddits-modal",f:"reddit_pro_recommended_keywords",g:"reddit-pro-recommended-keywords",h:"reddit_pro_onboarding",i:"profile-creation-add-description-event",j:"submit-profile-creation",k:"profile-creation-submit-event",l:"profile-creation-complete-event",get m(){return L},n:"trend-monitoring-manage-keywords-modal",o:"delete-keyword-confirmation-modal",p:e=>o.has(e),q:"profile-contributions-modal",r:u,s:"profile-followers-modal",t:a}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./B-zFJtiar6.js",import.meta.url,"B-zFJtiar6");
SML.dm("Dr-661gpDM",["Dw4vb8Yfbm","5r73EsgItq","B-zFJtiar6"],(async(e,t,a)=>{let s=class extends(a.W(e.aL)){constructor(){super(...arguments),this.pages=0,this.for=void 0,this._events=new e.E(this),this._windowEvents=new e.E(this,(()=>window)),this._locationHashMap=new Map,this._selectedElements=new Set,this._activeSlotRef=e.a3(),this._handleHashChange=this._windowEvents.define("hashchange",(()=>{const e=this._locationHashMap.get(window.location.hash);e&&(this.pageIndex=e)})),this._handleClick=this._events.define("click",(e=>{let t=null;e.target instanceof HTMLAnchorElement&&(t=e.target.getAttribute("href"),t&&"#"!==t[0]&&(t=null)),null!==t&&(e.preventDefault(),e.stopPropagation());const a=e.composedPath();for(let e=0;e<a.length;e++){const s=a[e];if(s instanceof HTMLSpanElement){const e=this.getPageIndexFromSpanWrapper(s);if(t){const e=new URL(window.location.href);e.hash=t,window.history.pushState(null,"",e.href)}if(0!==e){this.pageIndex=e;break}}}})),this._handleKeydown=this._events.define("keydown",(e=>{if("ArrowLeft"===e.key)this.previousPage();else{if("ArrowRight"!==e.key)return;this.nextPage()}e.preventDefault(),e.stopPropagation()}))}get pageIndex(){return super.pageIndex}set pageIndex(e){super.pageIndex=e}get pageNames(){return super.pageNames}set pageNames(e){super.pageNames=e}render(){if(this.pages<1)return t.x``;const{pageNames:s}=this;return t.x` <div class="tablist" role="tablist"> ${a.c(this.pages).map((a=>t.x` <span data-i="${a}" role="tab" aria-selected="${a===this.pageIndex?"true":"false"}"> <slot @slotchange="${this.handleSlotChange}" name="${s?s[a-1]:`page-${a}`}" ${a===this.pageIndex?e.a4(this._activeSlotRef):""}></slot> </span> `))} </div> `}updated(e){if(e.has("pageIndex")){this._clearSelectedAttributes();const e=this._activeSlotRef.value;if(!e)return;for(const t of e.assignedElements())this._setSelectedAttribute(t),t.focus()}}_clearSelectedAttributes(){if(this._selectedElements.size){for(const e of this._selectedElements)e.removeAttribute("faceplate-tab-selected");this._selectedElements.clear()}}_setSelectedAttribute(e){this._selectedElements.add(e),e.setAttribute("faceplate-tab-selected","")}handleSlotChange(e){const{hash:t}=window.location,a=e.target;if(!(a.parentElement instanceof HTMLSpanElement))return;const s=a.assignedElements(),n=this.getPageIndexFromSpanWrapper(a.parentElement),i=n===this.pageIndex;if(i&&this._clearSelectedAttributes(),s.length)for(const e of s){if(i&&this._setSelectedAttribute(e),!(e instanceof HTMLAnchorElement))continue;const a=e.getAttribute("href");a&&(this._locationHashMap.set(a,n),a===t&&(this.pageIndex=n))}}getPageIndexFromSpanWrapper(e){return e.dataset.i?parseInt(e.dataset.i,10):0}pageIndexChangedCallback(e){super.pageIndexChangedCallback(e),this.requestUpdate("pageIndex",e)}};return e._([e.n({type:Number})],s.prototype,"pages",void 0),e._([e.n({type:Number,attribute:"pageindex"})],s.prototype,"pageIndex",null),e._([e.n({type:String})],s.prototype,"for",void 0),e._([e.n({converter:e.$,attribute:"pagenames"})],s.prototype,"pageNames",null),e._([e.a2(".tablist")],s.prototype,"tabList",void 0),s=e._([e.e("faceplate-tablist")],s),{get F(){return s}}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./B-zFJtiar6.js",import.meta.url,"B-zFJtiar6");
SML.dm("DvtJ_U6Duj",["Dw4vb8Yfbm","5r73EsgItq","B-zFJtiar6"],(async(e,a,t)=>{let p=class extends(t.W(a.s)){constructor(){super(...arguments),this.pages=0,this.for=void 0}get pageIndex(){return super.pageIndex}set pageIndex(e){super.pageIndex=e}get pageNames(){return super.pageNames}set pageNames(e){super.pageNames=e}static get styles(){return a.a`:host{display:block}.page{display:none}.active{display:block}`}render(){if(this.pages<1)return;const{pageNames:p}=this;return a.x` <div aria-roledescription="carousel"> ${t.c(this.pages).map((t=>a.x` <div role="tabpanel" class="${e.Z({page:!0,active:t===this.pageIndex})}"> <slot name="${p?p[t-1]:`page-${t}`}"></slot> </div> `))} </div> `}pageIndexChangedCallback(e){super.pageIndexChangedCallback(e),this.requestUpdate("pageIndex",e)}};return e._([e.n({type:Number})],p.prototype,"pages",void 0),e._([e.n({type:Number,attribute:"pageindex"})],p.prototype,"pageIndex",null),e._([e.n({converter:e.$,attribute:"pagenames"})],p.prototype,"pageNames",null),e._([e.n({type:String})],p.prototype,"for",void 0),p=e._([e.e("faceplate-tabpanel")],p),{get F(){return p}}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");
SML.dm("M-CiwvFL1u",["Dw4vb8Yfbm","5r73EsgItq"],(async(t,e)=>{let s=class extends e.s{constructor(){super(...arguments),this._events=new t.E(this),this.handleSlotChange=this._events.define("slotchange",(t=>{if(t.target.parentNode!==this.shadowRoot)return;const e=this.renderTemplate();e!==this.content&&(this.content=e,this.requestUpdate())})),this.onSetRouteRequested=this._events.define("shreddit-slotter-set-slot-name",(t=>{!t.defaultPrevented&&this.hasSlot(t.detail.slotName)&&(t.preventDefault(),this.slotName=t.detail.slotName)}))}static get styles(){return[t.t]}update(t){t.has("slotName")&&(this.content=this.renderTemplate(),this.requestUpdate()),super.update(t)}updated(e){e.has("slotName")&&this.slotName&&this.dispatchEvent(t.c("shreddit-slotter-slot-name-changed",{slotName:this.slotName})),super.updated(e)}renderTemplate(){if(!this.slotName)return;const s=this.querySelector(`template[slot=${this.slotName}]`);if(!(s instanceof HTMLTemplateElement))return"";const a=t.ae()?"theme-dark":"theme-light";return e.x`<span class="${a} w-full">${t.a1(s)}</span>`}hasSlot(t){return this.querySelector(`template[slot=${t}]`)instanceof HTMLTemplateElement}render(){return e.x` ${this.content||""} <slot></slot> `}};t._([t.n({type:String,attribute:"slot-name",reflect:!0})],s.prototype,"slotName",void 0),s=t._([t.e("shreddit-slotter")],s)}));
SML.di("./C8QDHFSIkY.js",import.meta.url,"C8QDHFSIkY");SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");
SML.dm("O6qhDxcY8s",["C8QDHFSIkY","Dw4vb8Yfbm"],(async(a,o)=>{var r;!function(a){a.approve="approve",a.remove="remove",a.confirmRemoval="confirm_removal"}(r||(r={}));const t={[a.M.ApproveContent]:r.approve,[a.M.ConfirmRemoval]:r.confirmRemoval,[a.M.RemoveContent]:r.remove};let e=o.Y;return{get A(){return r},M:class{async modBulkApprove(a){const{data:r}=await e({operation:o.O.ModBulkApprove,variables:{input:{ids:a}}});return r.modApproveBulk}async modBulkRemove(a,r=!1){const{data:t}=await e({operation:o.O.ModBulkRemove,variables:{input:{ids:a,isSpam:r}}});return t.modRemoveBulk}async modBulkRemoveAsSpam(a){const{data:r}=await e({operation:o.O.ModBulkRemove,variables:{input:{ids:a,isSpam:!0}}});return r.modRemoveBulk}async modBulkIgnore(a){const{data:r}=await e({operation:o.O.ModBulkIgnore,variables:{input:{ids:a}}});return r.modIgnoreBulk}async modBulkLock(a){const{data:r}=await e({operation:o.O.ModBulkLock,variables:{input:{ids:a}}});return r.modLockBulk}async modBulkMarkNSFW(a){const{data:r}=await e({operation:o.O.ModBulkMarkNSFW,variables:{input:{ids:a}}});return r.modMarkNsfwBulk}async modBulkMarkSpoiler(a){const{data:r}=await e({operation:o.O.ModBulkMarkSpoiler,variables:{input:{ids:a}}});return r.modMarkSpoilerBulk}async modBulkUnignore(a){const{data:r}=await e({operation:o.O.ModBulkUnignore,variables:{input:{ids:a}}});return r.modUnignoreBulk}async modBulkUnlock(a){const{data:r}=await e({operation:o.O.ModBulkUnlock,variables:{input:{ids:a}}});return r.modUnlockBulk}async modBulkUnmarkNSFW(a){const{data:r}=await e({operation:o.O.ModBulkUnmarkNSFW,variables:{input:{ids:a}}});return r.modUnmarkNsfwBulk}async modBulkUnmarkSpoiler(a){const{data:r}=await e({operation:o.O.ModBulkUnmarkSpoiler,variables:{input:{ids:a}}});return r.modUnmarkSpoilerBulk}async modBulkUpdatePostFlair(a,r,t,n){const{data:i}=await e({operation:o.O.ModBulkUpdatePostFlair,variables:{input:{postIds:a,cssClassId:r,flairTemplateId:t,text:n}}});return i.modUpdatePostFlairBulk}},S:t}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./DEkErsMrK1.js",import.meta.url,"DEkErsMrK1");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");
SML.dm("Ra7c5dpU9j",["Dw4vb8Yfbm","DEkErsMrK1","5r73EsgItq"],(async(t,e,i)=>{const n="-comment-rtjson-content",s="#text",o=t=>t.replace(/\n/g,"").replace(/\s+/g," ").trim(),r=({commentId:t,noPrefix:e})=>{let i=t.replace(n,"");return e&&(i=i.replace("t1_","")),i},l=({commentId:t,permalink:e,snippetData:i})=>t?`https://publish.reddit.com/embed?url=https://www.reddit.com${e.replace(/\/[^/]+(?=\/$)|\/$/,"")}comment/${r({commentId:t,noPrefix:!0})}?snippet=${i}`:`https://publish.reddit.com/embed?url=https://www.reddit.com${e}?snippet=${i}`,a=["TR","TH","TD","TABLE","TBODY","THEAD"],h=new Set(["H1","P"]);let d=class extends i.s{constructor(){super(...arguments),this.postId="",this.permalink="",this.topOffset=0,this.leftOffset=0,this.snippetData="",this.isTitleSelected=!1,this.isSelectionOutOfRange=!1,this.isFullTextSelected=!1,this.isComment=!1,this.clearSelection=t=>{if(2!==t.button&&t.target.getAttribute("postid")!==this.postId){const e=((t,e)=>{for(;t;){if(t.id&&(t.id.includes(`${e}-post-rtjson-content`)||t.id.includes(n)))return t;t=t.parentNode}return null})(t.target,this.postId);this.richTextContainer=e,getSelection()?.empty(),this.snippetData="",this.isTitleSelected=!1,this.isSelectionOutOfRange=!1,this.isFullTextSelected=!1}},this.handleEmbedClick=()=>{this.isComment&&this.richTextContainer?.id?open(l({commentId:this.richTextContainer?.id,permalink:this.permalink,snippetData:this.snippetData}),"RedditEmbed"):open(l({permalink:this.permalink,snippetData:this.snippetData}),"RedditEmbed"),this.sendClickTelemetry()},this.isTripleClickHandled=t=>3===t.detail,this.getChildTextNode=t=>{let e;const i=t.childNodes;for(let t=0;t<i.length;t++){const n=i[t];if(n.nodeName!==s)continue;0!==o(n.textContent||"").length&&(e=n)}return e},this.getCorrectSelection=t=>{const e=getSelection();if(this.isTripleClickHandled(t)&&e?.anchorNode?.nodeName&&h.has(e?.anchorNode?.nodeName)){const t=this.getChildTextNode(e.anchorNode),i=t?.textContent?.length||0;e.setBaseAndExtent(t,0,t,i)}return e},this.calculateSnippetData=t=>{if(this.shouldShowButton)return void this.clearSelection(t);this.isComment=Boolean(this.richTextContainer?.id&&this.richTextContainer.id.startsWith("t1")),this.snippetData="";const e=this.getCorrectSelection(t),i=o(e?.toString()||"");if(!e||!i?.length)return;const n=this.richTextContainer?o(this.richTextContainer.innerText):"",r=o(this.postTitleElement.innerText);this.richTextContainer&&i===n&&(this.isFullTextSelected=!0);const l=e?.anchorNode;if(l.parentNode?.nodeName&&a.includes(l.parentNode?.nodeName))return;const h=e.getRangeAt(0);l.parentNode===this.postTitleElement&&(this.isTitleSelected=!0),(this.isTitleSelected&&i.length>r.length||this.richTextContainer&&i.length>n.length)&&(this.isSelectionOutOfRange=!0);const d=this.isTitleSelected?this.postTitleElement?.getBoundingClientRect():this.richTextContainer?.getBoundingClientRect(),c=e?.getRangeAt(0).getBoundingClientRect();if(d&&c){if(this.topOffset=c.top+scrollY,this.leftOffset=c.left+c.width/2,(this.shadowRoot?.host).style.setProperty("--left-offset",`${this.leftOffset}px`),(this.shadowRoot?.host).style.setProperty("--top-offset",this.topOffset-32-4+"px"),this.isTitleSelected||this.isFullTextSelected)return void this.sendViewTelemetry();if(e.rangeCount>0){let t=-1;const e=Array.from((this.isComment?this.richTextContainer?.children[0].children:this.richTextContainer?.children)||[]).filter((t=>t.nodeName!==s));for(let i=0;i<e.length;i++){const n=e[i];if(h.intersectsNode(n)){t=i;break}}if(-1!==t&&i){const n=(({nodeText:t,selectedText:e})=>{if(!t||!e)return-1;const i=t.length,n=e.length,s=[];for(let t=0;t<=i;t++)s[t]=new Array(n+1).fill(0);let o=0,r=0;for(let l=1;l<=i;l++)for(let i=1;i<=n;i++)t[l-1]===e[i-1]&&(s[l][i]=s[l-1][i-1]+1,s[l][i]>o&&(o=s[l][i],r=l-1));const l=t.substring(r-o+1,r+1);return l?t.indexOf(l):-1})({nodeText:o(e[t].innerText),selectedText:i});t>-1&&n>-1&&i.length>0&&(this.snippetData=`${t}_${n}_${i.length}`,this.sendViewTelemetry())}}}},this.getEventDetails=()=>{const t={};return this.isComment&&this.richTextContainer?.id&&(t.comment={id:r({commentId:this.richTextContainer.id})}),t},this.sendViewTelemetry=()=>{const e=this.getEventDetails();this.dispatchEvent(t.c(t.cK,{details:e}))},this.sendClickTelemetry=()=>{const e=this.getEventDetails();this.dispatchEvent(t.c(t.cL,{details:e}))}}get shouldShowButton(){return(this.snippetData.length||this.isTitleSelected||this.isFullTextSelected)&&!this.isSelectionOutOfRange}connectedCallback(){super.connectedCallback();const t=document.getElementById(`post-title-${this.postId}`);t&&(this.postTitleElement=t),document.addEventListener("mousedown",this.clearSelection),document.addEventListener("mouseup",this.calculateSnippetData)}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("mousedown",this.clearSelection),document.removeEventListener("mouseup",this.calculateSnippetData)}render(){return i.x` ${this.shouldShowButton?i.x` <div class="button-container bg-neutral-content-strong rounded-full shadow-sm flex"> ${t.o({appearance:"plainInverted",size:t.q.Small,attributes:{onclick:this.handleEmbedClick},leadingIcon:e.c(),children:"Embed"})} </div> `:""} `;}};d.styles=[i.a`.button-container{position:absolute;left:var(--left-offset);top:var(--top-offset);transform:translateX(-50%);z-index:1}`,t.t],t._([t.n({type:String})],d.prototype,"postId",void 0),t._([t.n({type:String})],d.prototype,"permalink",void 0),t._([t.h()],d.prototype,"topOffset",void 0),t._([t.h()],d.prototype,"leftOffset",void 0),t._([t.h()],d.prototype,"snippetData",void 0),t._([t.h()],d.prototype,"isTitleSelected",void 0),t._([t.h()],d.prototype,"isSelectionOutOfRange",void 0),t._([t.h()],d.prototype,"isFullTextSelected",void 0),t._([t.h()],d.prototype,"isComment",void 0),d=t._([t.e("embed-snippet-share-button")],d)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./B-zFJtiar6.js",import.meta.url,"B-zFJtiar6");
SML.dm("UfsiwdHXZO",["Dw4vb8Yfbm","B-zFJtiar6"],(async(n,o)=>{const e="click";var c;!function(n){n.LOGIN="login",n.SIGNUP="signup",n.OPEN_APP="open_app",n.GOOGLE_SSO="google_sso",n.APPLE_SSO="apple_sso",n.EMAIL="email",n.CLOSE="close",n.PHONE="phone"}(c||(c={}));return{get A(){return c},C:e,D:"desktop_auth_prompt",S:"onboarding",V:"view",X:"xpromo",a:e=>n.b({source:o.ao,action:o.cb,noun:e}),b:()=>n.b({source:n.fx.OTP,action:o.bH,noun:"login_complete"}),c:e=>n.b({source:n.fx.OTP,action:o.bH,noun:"signup_complete"},{action_info:{type:e?"success":"fail"}}),d:function(e,c,u){return n.b({source:o.ao,action:"resolve",noun:e},{action_info:{reason:u,type:c},...n.h5()})},e:()=>n.b({source:o.ao,action:o.ce,noun:"verification_email"}),f:o=>n.b({source:"add_phone_number",action:"submit",noun:"number_verify"},{action_info:{type:o?"success":"fail"}}),g:({type:o,page_type:e,source_name:c})=>n.b({source:"phone_auth_otp",action:"submit",noun:"check_otp"},{action_info:{type:o,page_type:e,source_name:c}}),h:()=>n.b({source:"add_phone_number",action:e,noun:"enter_number"}),i:()=>n.b({source:"add_phone_number",action:e,noun:"number_verify"}),j:({page_type:o,source_name:c})=>n.b({source:"phone_auth_otp",action:e,noun:"check_otp"},{action_info:{page_type:o,source_name:c}}),k:()=>n.b({source:"remove_phone_number",action:e,noun:"confirm"}),m:e=>n.b({source:o.cd,action:o.cc,noun:e??"unknown"}),p:(o,e)=>n.b({source:o,action:"submit",noun:o===n.fx.EnterPhone?"enter_phone":"otp"},{action_info:{type:e?"success":"fail"}}),r:function(e){return n.b({source:o.ao,action:"report_clone",noun:e})},s:e=>n.b({source:o.ao,action:o.cc,noun:e}),u:()=>n.b({source:"update_phone_number",action:e,noun:"enter_new_phone_number"})}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./xrDbp1ee_h.js",import.meta.url,"xrDbp1ee_h");
SML.dm("aPtImf01vE",["Dw4vb8Yfbm","5r73EsgItq","xrDbp1ee_h"],(async(t,e,i)=>{const s=e.s,o=["allow-forms","allow-orientation-lock","allow-popups","allow-popups-to-escape-sandbox","allow-presentation","allow-same-origin","allow-scripts","allow-top-navigation-by-user-activation"].join(" ");let r=class extends s{constructor(){super(...arguments),this.postId="",this.limitHeight=!1,this.onMessage=t=>{const{data:e}=t;if(!t.source||t.source!==this.iframe?.contentWindow||"tweet-measured"!==e?.action||i.e(e?.id36)!==this.postId)return;this.iframe.height=`${e?.height}px`,this.limitHeight&&e?.height>550?(this.renderRoot?.querySelector(`#${this.postId}-tweet-overflow`)?.classList.remove("hidden"),this?.style.setProperty("height","550px")):this?.style.setProperty("height",`${e?.height+4}px`),this.renderRoot?.querySelector(`#${this.postId}-tweet-loading-placeholder`)?.remove();const s=document.querySelector(`#${this.postId}-post-media-container`),o=s?.querySelector(`#${this.postId}-aspect-ratio`);if(o){const t=this.offsetHeight/this.offsetWidth;o?.style.setProperty("--aspect-ratio",`${t}`);const e=this.offsetHeight-o.offsetHeight;o?.style.setProperty("height",`${e}px`)}}}static get styles(){return[t.t]}connectedCallback(){super.connectedCallback(),window.addEventListener("message",this.onMessage)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("message",this.onMessage)}onIframeLoad(){this.iframe?.contentWindow?.postMessage("twitter-measure-requested","https://www.redditmedia.com")}render(){const t=`${i.f(this.postId)}?responsive=true&is_nightmode=${matchMedia("(prefers-color-scheme: dark)").matches}`;return e.x` <div id="${this.postId}-tweet-loading-placeholder" class="${this.className} bg-neutral-background-weak absolute left-0 right-0 top-0 bottom-0"></div> <div class="overflow-hidden flex justify-center w-100 ${this.limitHeight?"max-h-[550px] ":""}"> <iframe id="${this.postId}-tweet-iframe" scrolling="no" allowfullscreen class="items-center overflow-hidden b-0 border-transparent justify-center bg-neutral-background-weak max-w-[550px] rounded-[14px]" max-width="${"550px"}" width="100%" title="${this.title}" aria-label="Tweet: ${this.title}" src="${t}" sandbox="${o}" @load="${this.onIframeLoad}" allowtransparency="true"></iframe> </div> ${this.limitHeight?e.x`<div id="${this.postId}-tweet-overflow" class="h-[66px] mt-[-66px] w-100 from-[color:var(--color-neutral-background-weak)] bg-gradient-to-t hidden isolate pointer-events-none"></div>`:""} `}};t._([t.n({type:String,attribute:"post-id"})],r.prototype,"postId",void 0),t._([t.n({type:Boolean,attribute:"limit-height"})],r.prototype,"limitHeight",void 0),t._([t.a2("iframe")],r.prototype,"iframe",void 0),r=t._([t.e("shreddit-tweet-embed")],r)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");
SML.dm("bu_4lgLyr3",["Dw4vb8Yfbm","5r73EsgItq"],(async(t,a)=>{let e=class extends a.s{constructor(){super(...arguments),this.data={}}connectedCallback(){super.connectedCallback(),t.p(t.T.PageDataLoaded,this.data)}};t._([t.n({type:Object})],e.prototype,"data",void 0),e=t._([t.e("reddit-page-data")],e)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./B-zFJtiar6.js",import.meta.url,"B-zFJtiar6");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");
SML.dm("czusePl2ag",["Dw4vb8Yfbm","B-zFJtiar6","5r73EsgItq"],(async(e,t,i)=>{let s=class extends i.s{constructor(){super(...arguments),this.zoomedIn=!1,this.disabled=!1,this.media=null,this._events=new e.E(this),this._click=this._events.define("click",this.onClick),this.fullImageWidth=0,this.fullImageHeight=0,this.checkMediaSize=()=>{this.media?.complete&&(this.fullImageWidth=this.media.naturalWidth,this.fullImageHeight=this.media.naturalHeight,this.disabled=this.fullImageWidth<=this.clientWidth&&this.fullImageHeight<=this.clientHeight,this.zoomedIn=!this.disabled&&this.zoomedIn)},this.checkMediaSizeDebounced=e.ao(this.checkMediaSize,100)}createRenderRoot(){return this}connectedCallback(){super.connectedCallback(),this.media=this.querySelector("img"),this.media&&this.media.addEventListener("load",this.checkMediaSize,{once:!0}),requestAnimationFrame(this.checkMediaSize),window.addEventListener("resize",this.checkMediaSizeDebounced)}firstUpdated(){this.checkMediaSize()}onClick(e){if(this.media&&e.target===this.media&&!this.disabled){let t=0,i=0;if(!this.zoomedIn){const s=this.media.getBoundingClientRect(),h=e.clientX-s.left,l=e.clientY-s.top,d=h/s.width*100,a=l/s.height*100;i=this.fullImageWidth*d/100-this.clientWidth/2,t=this.fullImageHeight*a/100-this.clientHeight/2}this.zoomedIn=!this.zoomedIn,requestAnimationFrame((()=>{this.scrollTo({top:t,left:i})}))}}render(){this.media&&this.media.setAttribute("class",this.getChildClassList()),this.setAttribute("class",this.getClasslist())}getClasslist(){return t.j("flex",this.zoomedIn?"fixed top-0 left-0 w-screen h-screen overflow-auto":"w-full h-full justify-center items-center overflow-hidden")}getChildClassList(){return t.j("z-1",this.disabled?"max-h-full max-w-full":this.zoomedIn?"max-w-none max-h-none m-auto cursor-zoom-out":"max-h-full max-w-full object-contain cursor-zoom-in")}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("resize",this.checkMediaSizeDebounced),this.zoomedIn=!1}};e._([e.h()],s.prototype,"zoomedIn",void 0),e._([e.h()],s.prototype,"disabled",void 0),s=e._([e.e("zoomable-img")],s)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");
SML.dm("gtZ2AI5tN1",["Dw4vb8Yfbm","5r73EsgItq"],(async(t,o)=>{let e=class extends o.s{constructor(){super(...arguments),this.isDesktop=!1,this.isLoggedIn=!1,this.isFollowed=!1,this.trackingSource="profile",this.isCompactVariant=!1,this.pubsub=new t.u(this),this.isDisabled=!1,this.onFollowStateChanged=({followed:t,userId:o})=>{this.redditorId===o&&(this.isFollowed=t)},this.toggleLoadingState=()=>{const t=this.querySelector(this.isFollowed?".unfollow-button":".follow-button");if(!t)return;const o=t.querySelector(".loading-icon"),e=t.querySelector(".button-leading-icon")?.parentElement;o?.classList.toggle("hidden"),e?.classList.toggle("hidden"),this.isDesktop&&!this.isCompactVariant||t.querySelector(".button-text")?.classList.toggle("hidden")}}connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.onClick),this.pubsub.subscribe(t.T.ProfileFollowStateChanged,this.onFollowStateChanged,!1)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("click",this.onClick)}async onClick(){if(this.redditorId&&this.isLoggedIn){if(this.isDisabled)return;this.isDisabled=!0,this.toggleLoadingState();const o={input:{accountId:this.redditorId,state:this.isFollowed?t.az.None:t.az.Followed}};try{const e=await t.Y({operation:t.O.UpdateProfileFollowState,variables:o});this.toggleLoadingState(),e.data.updateProfileFollowState?.ok&&!e.data.updateProfileFollowState?.errors&&this.pubsub.publish(t.T.ProfileFollowStateChanged,{followed:!this.isFollowed,userId:this.redditorId})}catch(t){window.Sentry?.captureError?.(t),this.toggleLoadingState()}this.isDisabled=!1}}render(){return o.x`<slot name="button-${this.isFollowed?"unfollow":"follow"}"></slot>`}};e.styles=[t.t],t._([t.n({type:Boolean,attribute:"is-desktop"})],e.prototype,"isDesktop",void 0),t._([t.n({type:Boolean,attribute:"is-logged-in"})],e.prototype,"isLoggedIn",void 0),t._([t.n({type:Boolean,attribute:"is-followed"})],e.prototype,"isFollowed",void 0),t._([t.n({type:String,attribute:"redditor-id"})],e.prototype,"redditorId",void 0),t._([t.n({type:String,attribute:"tracking-source"})],e.prototype,"trackingSource",void 0),t._([t.n({type:Boolean,attribute:"is-compact-variant"})],e.prototype,"isCompactVariant",void 0),e=t._([t.e("follow-button")],e)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./C0cxgUZlQL.js",import.meta.url,"C0cxgUZlQL");SML.di("./DgW4ULLwQ1.js",import.meta.url,"DgW4ULLwQ1");SML.di("./BWv2j8jrjX.js",import.meta.url,"BWv2j8jrjX");SML.di("./tO6bKRQro7.js",import.meta.url,"tO6bKRQro7");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./D1DY-avSiT.js",import.meta.url,"D1DY-avSiT");SML.di("./BSYfFtBeKH.js",import.meta.url,"BSYfFtBeKH");SML.di("./BeFppRYbzE.js",import.meta.url,"BeFppRYbzE");SML.di("./Bu440t6XLo.js",import.meta.url,"Bu440t6XLo");SML.di("./2oAMtcRlsC.js",import.meta.url,"2oAMtcRlsC");SML.di("./Dc4r6aHTbv.js",import.meta.url,"Dc4r6aHTbv");SML.di("./DyRz1vAoTm.js",import.meta.url,"DyRz1vAoTm");SML.di("./YAFaZPh0hw.js",import.meta.url,"YAFaZPh0hw");SML.di("./B7VtDPc4tA.js",import.meta.url,"B7VtDPc4tA");SML.di("./Cn5JTNK6V3.js",import.meta.url,"Cn5JTNK6V3");SML.di("./CqGTWb5M_i.js",import.meta.url,"CqGTWb5M_i");SML.di("./CJv9OgeyPR.js",import.meta.url,"CJv9OgeyPR");SML.di("./CQrDBXK-hm.js",import.meta.url,"CQrDBXK-hm");SML.di("./CzwD205thW.js",import.meta.url,"CzwD205thW");SML.di("./Df8NHW2nh0.js",import.meta.url,"Df8NHW2nh0");SML.di("./B-zFJtiar6.js",import.meta.url,"B-zFJtiar6");SML.di("./Z0tk4vmzIQ.js",import.meta.url,"Z0tk4vmzIQ");SML.di("./xrDbp1ee_h.js",import.meta.url,"xrDbp1ee_h");SML.di("./KHcvarc_gp.js",import.meta.url,"KHcvarc_gp");SML.di("./BFJyoIhMKv.js",import.meta.url,"BFJyoIhMKv");SML.di("./C5bRok1J9n.js",import.meta.url,"C5bRok1J9n");SML.di("./CUIVPWsUpf.js",import.meta.url,"CUIVPWsUpf");SML.di("./BlPAB0-vrn.js",import.meta.url,"BlPAB0-vrn");SML.di("./pA9dwrnd0r.js",import.meta.url,"pA9dwrnd0r");SML.di("./KkXqW5RUm3.js",import.meta.url,"KkXqW5RUm3");SML.di("./C2hekzTn1k.js",import.meta.url,"C2hekzTn1k");SML.di("./DLXAqLxSut.js",import.meta.url,"DLXAqLxSut");SML.di("./E3QE3c4_Ye.js",import.meta.url,"E3QE3c4_Ye");SML.di("./DasPtA-dN5.js",import.meta.url,"DasPtA-dN5");SML.di("./C8QDHFSIkY.js",import.meta.url,"C8QDHFSIkY");SML.di("./D_g7f2Ewyi.js",import.meta.url,"D_g7f2Ewyi");SML.di("./CzmIuH4u_q.js",import.meta.url,"CzmIuH4u_q");SML.di("./D14t1nj-sI.js",import.meta.url,"D14t1nj-sI");SML.di("./DQQjPN-OEj.js",import.meta.url,"DQQjPN-OEj");SML.di("./CG8L8PJoXS.js",import.meta.url,"CG8L8PJoXS");SML.di("./Bv2UEnJP_M.js",import.meta.url,"Bv2UEnJP_M");SML.di("./D-ibjVaztZ.js",import.meta.url,"D-ibjVaztZ");SML.di("./Dm3xIDznQh.js",import.meta.url,"Dm3xIDznQh");SML.di("./5KlNO8qI18.js",import.meta.url,"5KlNO8qI18");SML.di("./Hw1PFKH8z9.js",import.meta.url,"Hw1PFKH8z9");SML.di("./BYzqEZ3uv3.js",import.meta.url,"BYzqEZ3uv3");SML.di("./Cv4mWnWE30.js",import.meta.url,"Cv4mWnWE30");SML.di("./CZLMnmUH44.js",import.meta.url,"CZLMnmUH44");SML.di("./D_6DXw1u0k.js",import.meta.url,"D_6DXw1u0k");SML.di("./Bk8sRXhdir.js",import.meta.url,"Bk8sRXhdir");SML.di("./BtqmVQuPYp.js",import.meta.url,"BtqmVQuPYp");SML.di("./Ctcf-FPPNG.js",import.meta.url,"Ctcf-FPPNG");SML.di("./BLrhRle6xP.js",import.meta.url,"BLrhRle6xP");SML.di("./CPSOeCrm6v.js",import.meta.url,"CPSOeCrm6v");SML.di("./C3-eAP6Oln.js",import.meta.url,"C3-eAP6Oln");SML.di("./DMGDObG7XA.js",import.meta.url,"DMGDObG7XA");
SML.dm("h_DcZt4ZIT",["Dw4vb8Yfbm","5r73EsgItq","BeFppRYbzE","Bu440t6XLo","DyRz1vAoTm","YAFaZPh0hw","B7VtDPc4tA","Cn5JTNK6V3","CqGTWb5M_i","CJv9OgeyPR","CQrDBXK-hm","CzwD205thW","B-zFJtiar6","Z0tk4vmzIQ","xrDbp1ee_h","KHcvarc_gp","BFJyoIhMKv","C5bRok1J9n","CUIVPWsUpf","BlPAB0-vrn","pA9dwrnd0r","C2hekzTn1k","DLXAqLxSut","C0cxgUZlQL","DgW4ULLwQ1","BWv2j8jrjX","tO6bKRQro7","D1DY-avSiT","BSYfFtBeKH","2oAMtcRlsC","Dc4r6aHTbv","Df8NHW2nh0","KkXqW5RUm3","E3QE3c4_Ye","DasPtA-dN5","C8QDHFSIkY","D_g7f2Ewyi","CzmIuH4u_q","D14t1nj-sI","DQQjPN-OEj","CG8L8PJoXS","Bv2UEnJP_M","D-ibjVaztZ","Dm3xIDznQh","5KlNO8qI18","Hw1PFKH8z9","BYzqEZ3uv3","Cv4mWnWE30","CZLMnmUH44","D_6DXw1u0k","Bk8sRXhdir","BtqmVQuPYp","Ctcf-FPPNG","BLrhRle6xP","CPSOeCrm6v","C3-eAP6Oln","DMGDObG7XA"],(async(t,e,o,i,s,n,r,a,l,d,p,h,u,c,m,b,v,g,E,T,S,k,y)=>{const C=72e6,I=[C,C,1296e5,216e6,216e6],P=()=>{const e=localStorage.getItem(t.a9.CrosspostingUpsellExperiment);if(e)return JSON.parse(e)},R=e=>{localStorage.setItem(t.a9.CrosspostingUpsellExperiment,JSON.stringify(e))},N=async e=>{if((()=>{const t=P();if(!t)return!1;const{timer:e,snoozes:o,savedDate:i}=t;return o>=I.length||(new Date).getTime()-i<e})())return;const o=await t.Y({operation:t.O.WhereToCrosspostNewModSuggestions,variables:{postId:e}}),i=o.data?.whereToCrosspostSuggestions?.edges;return i&&i?.length>0&&"Subreddit"===i[0]?.node?.subredditInfo.__typename?i[0]?.node?.subredditInfo:void 0};function _(t,e=!0){t=t||"";const[o,i]=t.split("?");let s=`https://www.reddit.com${("/"!==o[0]&&o.length>0?"/":"")+o}`;return e&&!s.endsWith("/")&&(s+="/"),i&&(s+=`?${i}`),s}let O=class extends e.s{constructor(){super(),this.name="",this.prefixedName="",this.subredditId="",this.isNsfw=!1,this.postId="",this.isOpen=!1,this.wasSeen=!1,this.trackExperimentEvent=(e,o,i)=>{t.i(this,t.b({source:e,action:o,noun:i},{subreddit:{id:this.subredditId,name:this.name,nsfw:this.isNsfw},post:{id:this.postId||""}}))},this.onShareClick=()=>{R({timer:18e5,snoozes:1,savedDate:(new Date).getTime()}),this.isOpen=!1,this.wasSeen=!0,this.trackExperimentEvent("crosspost_prompt","share","button")},this.onSkipClick=()=>{this.onMaybeSetCooldown(),this.isOpen=!1},new t.ay(this,this,{threshold:[.5]})}connectedCallback(){t.aE.subscribe(this.onMaybeSetCooldown,{shouldBeCalledFirst:!0}),super.connectedCallback(),this.addEventListener("faceplate-leave",this.onMaybeSetCooldown),this.trackExperimentEvent("crosspost_prompt","view","coachmark"),setTimeout((()=>{this.onMaybeSetCooldown()}),3e5)}disconnectedCallback(){super.disconnectedCallback(),t.aE.unsubscribe(this.onMaybeSetCooldown),this.removeEventListener("faceplate-leave",this.onMaybeSetCooldown)}onMaybeSetCooldown(){this.wasSeen||this.saveNoShareTimer()}saveNoShareTimer(){const t=P(),e=t?.snoozes||0;R({snoozes:e+1,timer:I[e],savedDate:(new Date).getTime()}),this.trackExperimentEvent("crosspost_prompt","hide","button"),this.wasSeen=!0}render(){return e.x`<rpl-coachmark ?open="${this.isOpen}" placement="${o.P.TopEnd}" appearance="${i.a.Inverted}"> <slot></slot> <rpl-coachmark-card slot="content" appearance="${i.a.Inverted}" class="w-[220px]"> <div slot="title" class="pt-xs pb-2xs"> ${"Share with your newly created community"} </div> <div class="text-12"> ${`${this.prefixedName} might enjoy this post, try sharing it in your community.`} </div> ${t.o({attributes:{slot:"primary-button",href:_(`${this.prefixedName}/submit/?source_id=${this.postId}&crosspost_experiment_referral=true`),target:"_blank",rel:"noopener noreferrer",onclick:this.onShareClick},children:"Share",appearance:"plainInverted",size:t.q.Small})} ${t.o({attributes:{slot:"secondary-button",onclick:this.onSkipClick},children:"Skip",appearance:"plainInverted",size:t.q.Small})} </rpl-coachmark-card> </rpl-coachmark>`;}};O.styles=[t.t],t._([t.n({type:String,attribute:"name"})],O.prototype,"name",void 0),t._([t.n({type:String,attribute:"prefixed-name"})],O.prototype,"prefixedName",void 0),t._([t.n({type:String,attribute:"subreddit-id"})],O.prototype,"subredditId",void 0),t._([t.n({type:Boolean,attribute:"nsfw"})],O.prototype,"isNsfw",void 0),t._([t.n({type:String,attribute:"post-id"})],O.prototype,"postId",void 0),t._([t.n({type:Boolean,attribute:"open",reflect:!0})],O.prototype,"isOpen",void 0),t._([t.h()],O.prototype,"wasSeen",void 0),O=t._([t.e("crosspost-upsell-coachmark")],O);let D=class extends e.s{constructor(){super(...arguments),this.translationContextValue=t.aQ,this.postId="",this.href="",this.withIntervention=!1,this.isImmersiveVisit=!1}canShowInterventionModal(){const e=!!t.a8.getItem(t.a9.I18nTranslationInterventionShown);return!!this.translationContextValue?.isTranslationActive&&this.withIntervention&&!e}onShowOriginalClick(t){t.preventDefault?.(),t.stopPropagation?.(),this.canShowInterventionModal()?this.translationInterventionModal.handleTranslationOverride({isTranslationActive:!1,id:this.postId}):this.navigateToOriginal()}navigateToOriginal(){window.location.href=this.href}render(){const t=e.x`<translation-intervention-modal mode="mtseo-post" page-type="pdp" ?is-immersive-visit="${this.isImmersiveVisit}" @translation-intervention-modal:close="${this.navigateToOriginal}"></translation-intervention-modal>`;return e.x`<a href="${this.href}" class="flex cursor-pointer my-xs ps-md xs:px-0 text-primary text-decoration-none" @click="${this.onShowOriginalClick}"> ${"See original"} </a> ${this.canShowInterventionModal()?t:e.A}`;}};D.styles=[t.t],t._([t.aP({context:t.aR,subscribe:!0}),t.h()],D.prototype,"translationContextValue",void 0),t._([t.a2("translation-intervention-modal")],D.prototype,"translationInterventionModal",void 0),t._([t.n({type:String,attribute:"post-id"})],D.prototype,"postId",void 0),t._([t.n({type:String,attribute:"href"})],D.prototype,"href",void 0),t._([t.n({type:Boolean,attribute:"with-intervention"})],D.prototype,"withIntervention",void 0),t._([t.n({type:Boolean,attribute:"isImmersiveVisit"})],D.prototype,"isImmersiveVisit",void 0),D=t._([t.e("mtseo-show-original-link")],D);const w="toggle__expando",x="toggle__expando-button",L=t.q.Small,f=["flex flex-row justify-center items-center","h-xl","font-semibold","relative"].join(" "),A="thumbnail",M="ssr-share-button",H="share-button",$="mod-content-actions",U="credit-bar",j="post-flair",B="full-post-link",V="mod-content-state-indicators";class z{constructor(e){this.initialized=!1,this.handleToggleEvent=e=>{t.j(e)&&this.toggleExpando()},(this.host=e).addController(this)}get expandoElement(){return this.host.isCompactView?this.host.querySelector(`.${w}`):this.host.shadowRoot?.querySelector('slot[name="expando"]')??null}get hasExpandoContent(){return this.host.isCompactView?!!this.host.querySelector(`.${w}`):!!this.host.shadowRoot?.querySelector('slot[name="expando"]')?.assignedElements().length}get toggleElement(){return(this.host.isCompactView?this.host.querySelector(`button.${x}`)||this.host.shadowRoot?.querySelector(`button.${x}`):this.host.shadowRoot?.querySelector('slot[name="thumbnail"]'))??null}async hostConnected(){await this.host.updateComplete,this.initializeListeners()}hostDisconnected(){this.toggleElement?.removeEventListener("click",this.handleToggleEvent),this.toggleElement?.removeEventListener("keydown",this.handleToggleEvent),this.initialized=!1}async hostUpdated(){await this.host.updateComplete,this.initialized||this.initializeListeners()}initializeListeners(){this.initialized||this.expandoElement&&this.hasExpandoContent&&this.toggleElement&&(this.toggleElement?.addEventListener("click",this.handleToggleEvent),this.toggleElement?.addEventListener("keydown",this.handleToggleEvent),this.initialized=!0)}toggleExpando(){this.expandoElement&&this.hasExpandoContent&&(this.host.showExpando=!this.host.showExpando,this.expandoElement.classList.toggle("hidden",!this.host.showExpando),this.expandoElement.classList.toggle("block",this.host.showExpando))}renderExpandoButton(){const o="Expand content",i={attributes:{className:"icon-expand","aria-hidden":"true"},size:r.I[L]},s=this.host.showExpando?t.al(i):S.e(i),n=this.hasExpandoContent?"":"disabled pointer-all";return e.x` ${r.c({appearance:u.ak()?"bordered":"secondary",attributes:{type:"button",className:`${x} ${f} ${n}`,disabled:!this.hasExpandoContent,"aria-expanded":this.host.showExpando?"true":"false","aria-label":"post content","aria-controls":`${this.host.id}-expando-content`},size:L,leadingIcon:s,screenReaderContent:o})} `;}}class F{constructor(e){this.initializeHotkeys=()=>{this.host.viewContext===m.P.CommentsPage&&(this.subscriberController?.subscribe(t.cy.NEXT_POST_COMMENT,this.nextPostOrComment),this.subscriberController?.subscribe(t.cy.PREVIOUS_POST_COMMENT,this.prevPostOrComment),this.subscriberController?.subscribe(t.cy.UPVOTE,this.upvote),this.subscriberController?.subscribe(t.cy.DOWNVOTE,this.downvote),this.subscriberController?.subscribe(t.cy.REPLY_TO_COMMENT,this.onReplyToComment),this.subscriberController?.subscribe(t.cy.HIDE_POST,this.onToggleHide),this.subscriberController?.subscribe(t.cy.TOGGLE_SAVE,this.onToggleSave),this.subscriberController?.subscribe(t.cy.TOGGLE_COLLAPSE_COMMENT,this.onCommentToggleCollapse),this.subscriberController?.subscribe(t.cy.COPY_POST_OR_COMMENT_LINK,this.onCopyLink),this.subscriberController?.subscribe(t.cy.SUBMIT,this.onSubmitComment))},this.findShredditPost=t=>t instanceof q?t:t?.querySelector("shreddit-post, shreddit-ad-post"),this.cleanupHotkeys=()=>{this.host.viewContext===m.P.CommentsPage&&(this.subscriberController?.unsubscribe(t.cy.NEXT_POST_COMMENT,this.nextPostOrComment),this.subscriberController?.unsubscribe(t.cy.PREVIOUS_POST_COMMENT,this.prevPostOrComment),this.subscriberController?.unsubscribe(t.cy.UPVOTE,this.upvote),this.subscriberController?.unsubscribe(t.cy.DOWNVOTE,this.downvote),this.subscriberController?.unsubscribe(t.cy.REPLY_TO_COMMENT,this.onReplyToComment),this.subscriberController?.unsubscribe(t.cy.HIDE_POST,this.onToggleHide),this.subscriberController?.unsubscribe(t.cy.TOGGLE_SAVE,this.onToggleSave),this.subscriberController?.unsubscribe(t.cy.TOGGLE_COLLAPSE_COMMENT,this.onCommentToggleCollapse),this.subscriberController?.unsubscribe(t.cy.COPY_POST_OR_COMMENT_LINK,this.onCopyLink),this.subscriberController?.unsubscribe(t.cy.SUBMIT,this.onSubmitComment))},this.nextPostOrComment=()=>{this.postOrCommentTraversalController?.traverse(k.P.NEXT);const e=this.postOrCommentTraversalController?.current instanceof q?"post":"comment";t.i(this.host,m.a0("next",e))},this.prevPostOrComment=()=>{this.postOrCommentTraversalController?.traverse(k.P.PREV);const e=this.postOrCommentTraversalController?.current instanceof q?"post":"comment";t.i(this.host,m.a0("previous",e))},this.upvote=()=>{this.onVote(b.V.Upvote)},this.downvote=()=>{this.onVote(b.V.Downvote)},this.onFocus=t=>{this.host.viewContext===m.P.CommentsPage?this.host.shadowRoot?.querySelector(".shreddit-post-container")?.focus(t):this?.host.querySelector("[slot=full-post-link]")?.focus(t)},this.onVote=async t=>{let e;if(!this.postOrCommentTraversalController?.current)return;e=this.postOrCommentTraversalController?.isCurrentComment?(this.postOrCommentTraversalController?.current).commentActionRow:this.postOrCommentTraversalController?.current;const o=void 0;e&&(e.interactionFromHotkey=!0,t===b.V.Upvote?await e.handleUpvote(o):await e.handleDownvote(o),e.interactionFromHotkey=!1)},this.customPostTraversal=(t,e)=>{if(t===k.P.NEXT){const t=e?.querySelector("shreddit-comment-tree");if(t||"shreddit-comment-tree"===e?.tagName.toLowerCase())return e?.querySelector("shreddit-comment")}else if(!e?.previousElementSibling&&"shreddit-comment-tree"===e?.parentElement?.tagName.toLowerCase())return document.querySelector("shreddit-post")},this.onReplyToComment=()=>{this.postOrCommentTraversalController?.isCurrentPost?this.host.handleClickCommentsButton():this.postOrCommentTraversalController?.current?.querySelector("shreddit-comment-action-row")?.focusOnCommentComposer()},this.onToggleSave=()=>{if(this.postOrCommentTraversalController?.isCurrentComment){const t=this.postOrCommentTraversalController?.current?.overlowMenuItemProps?.find((t=>"save"===t.id));t?.onClick?.()}else this.postOverflowActions?.find((t=>"save"===t.id))?.onClick()},this.onToggleHide=()=>{(this.postOrCommentTraversalController?.isCurrentPost||this.host.isFeed)&&this.postOverflowActions?.find((t=>"hide"===t.id))?.onClick()},this.onCopyLink=()=>{let t;t=this.postOrCommentTraversalController?.isCurrentComment?this.postOrCommentTraversalController?.current?.shareButton:this.host.shareButtonRef?.value,t?.handleCopyLinkClick()},this.onCommentToggleCollapse=()=>{this.postOrCommentTraversalController?.isCurrentComment&&this.postOrCommentTraversalController.current.handleCollapse?.()},this.onSubmitComment=()=>{if(this.postOrCommentTraversalController?.isCurrentComment)this.postOrCommentTraversalController.current?.shredditComposer?.form?.submit();else{const e=t.bN(document.activeElement,"shreddit-composer");e?.form?.submit()}},this.host=e,e.addController(this)}hostConnected(){this.subscriberController=new t.cx(this.host),this.postOrCommentTraversalController=new k.a(this.host,{type:k.b.COMMENTS_PAGE,getFirstElement:()=>this.host,customPostOrCommentDetection:this.findShredditPost,customTraversal:(t,e)=>this.customPostTraversal(t,e)}),this.initializeHotkeys()}hostDisconnected(){this.cleanupHotkeys()}get postOverflowActions(){return this.host.querySelector("shreddit-post-overflow-menu")?.overflowActions}onToggleExpando(){this.host._expandoController?.toggleExpando()}}const G=({isPDP:o,triggerElem:i})=>o?t.kq({triggerElem:i,target:`selector(${p.S})`,attribute:"pageindex",value:"1"}):e.A;const K=h.W(t.W(e.s));let q=class extends K{get readMoreButton(){return this.querySelector(`#${this.id}-read-more-button`)??void 0}getCurrentVoteType(){return this.postVoteType}constructor(){super(),this.archived=!1,this.deleted=!1,this.hidden=!1,this.id="",this.game=!1,this.nsfw=!1,this.promoted=!1,this.spoiler=!1,this.subredditId=void 0,this.isSubscribed=!1,this.postLanguage="",this.translationLanguage="",this.isTranslationOn=!1,this.translationExperience="",this.commentCount=0,this.permalink="",this.viewContext=m.P.AggregateFeed,this.viewType=t.ag.CardView,this.isSlimCard=!1,this.isDesktopViewport=!1,this.isReportingEnabled=!1,this.isLinkPost=!1,this.isAma=!1,this.isEmbed=!1,this.isNotBrandSafe=!1,this.isCrosspost=!1,this.isCrosspostable=!1,this.isEmbeddable=!1,this.isUserLoggedIn=!1,this.disabled=!1,this.showFullContent=!1,this.isTranslatable=!1,this.isTranslationFetched=!1,this.isPostTranslated=!1,this.isPostBodyTranslated=!1,this.isMTSEOUserPage=!1,this.shouldHideOriginalLanguageLink=!1,this.hasMTSEOTranslationInterruption=!1,this.morePostsCursor=void 0,this.isPostLeaveEventsEnabled=!1,this.isLocked=!1,this.isBanned=!1,this.isContestMode=!1,this.isPromoteablePost=!1,this.previousActionsFeature=!1,this.updateAnimation=void 0,this.itemState=g.M.UNMODERATED,this.areReportsExpandable=!1,this.isCompactUIExp=!1,this.isPostCommentTapExp=!1,this.isPdpSeekerM1LO=!1,this.shareButtonSSR=!1,this.interactionFromHotkey=!1,this.applyFeedsSimplification=!1,this.showPostRemovalBanner=!0,this.showExpando=!1,this.useShortHiddenPostForm=!1,this.isThumbnailSet=!1,this.isUpdatingPostBody=!1,this.displayPostAnalytics=!1,this.isCrosspostingCoachmarkOpen=!1,this.eligibleCrosspostingSubreddit=void 0,this.hasBeenViewed=!1,this.hasBeenConsumed=!1,this._events=new t.E(this),this._outboundLinkTrackingController=new p.O(this,(()=>({pageType:t.H(),postId:this.id,subredditId:this.subredditId}))),this._expandoController=new z(this),this.pubsub=new t.u(this),this.shareButtonRef=t.a3(),this.onSubscriptionChange=async e=>{let o;this.subredditName===e.name&&(o=e.subscribed&&this.isSubscribed!==e.subscribed,this.isSubscribed=e.subscribed),o&&this.isEligibleForRelatedCommunityRecommendations&&(await this._activateFeature({name:t.gV,queryParams:{subredditId:this.subredditId,pageType:String(t.H()),...(void 0!==this.feedIndex && {position:String(this.feedIndex)})},root:(this.isHomeFeed||this.isPopularFeed)&&this.parentElement||document,renderMode:this.isHomeFeed||this.isPopularFeed?t.P.Append:void 0}))},this.handleVisibilityChange=t=>{this.isPostInViewport&&t&&(this._hasPageUnloaded=!1,this.isPDP||(this.handleView(m.n(this),!0),this.becameVisibleOnScreenTimestamp=Date.now()))},this.handleCalledFirstVisibilityChange=e=>{this.isPostInViewport&&(e||this._hasPageUnloaded||(this.handleConsume(),this.isPostLeaveEventsEnabled&&t.i(this,m.a1(this))))},this._activateFeature=async e=>t.r(e),this.showShortHiddenPostForm=()=>this.hidden&&this.useShortHiddenPostForm,this.handleLoadMorePosts=async()=>{const t=document.querySelector(`#partial-more-posts-${this.morePostsCursor}`);t&&"true"!==t?.getAttribute("hasBeenLoaded")&&(t?.setAttribute("hasBeenLoaded","true"),await(t?.load()))},this.trackConsume=()=>{t.i(this,m.a2(this))},this.handleRsvpClick=e=>{t.i(this,m.w(this))},this.handleUnRsvpClick=e=>{t.i(this,m.x(this))},this._getPostScoreDelta=t=>b.g(this.postVoteType,t),this._onUpdatePostVoteType=async()=>await b.o(this.id,"post",this.postVoteType),this.trackReadMoreClick=()=>{t.i(this,m.a3(this))},this.onBeforeUnloadCallback=()=>{this.onBeforeUnload()},this.handleCustomPostSnapshotEvent=async()=>{const e=this.querySelector("devvit-post"),o=e?await e.captureSafetyReport():"";this.dispatchEvent(t.c("stage-devplatform-snapshot",{postId:this.id,encodedData:o}))},this.setStateApproved=()=>{this.showPostRemovalBanner=!1,this.itemState=g.M.APPROVED},this.setStateRemoved=()=>{this.showPostRemovalBanner=!0,this.itemState=g.M.REMOVED},this.onPostUpdateAction=({postId:t,action:e,value:o})=>{if(this.id===t)switch(e){case c.a.markAsNsfw:this.nsfw=o;break;case c.a.markAsSpoiler:this.spoiler=o;break;case c.a.delete:this.deleted=o;break;case c.a.hide:this.applyHideChanges(o);break;case c.a.lock:this.isLocked=Boolean(o);break;case c.a.approve:case c.a.approveOptimistic:this.setStateApproved();break;case c.a.remove:case c.a.removeAsSpam:case c.a.confirmRemoval:case c.a.addRemovalReason:case c.a.removeOptimistic:case c.a.removeAsSpamOptimistic:case c.a.confirmRemovalOptimistic:this.setStateRemoved()}},this.applyHideChanges=t=>{this.useShortHiddenPostForm=t,this.hidden=t},this.unhidePost=async()=>{try{await c.o(this.id,!0);const e=t.c("faceplate-alert",{level:t.a5.success,message:"Removed from hidden"});this.dispatchEvent(e);const o={postId:this.id,action:c.a.hide,value:!1};this.pubsub.publish(t.T.PostUpdated,o),t.i(this,m.$(this.viewContext))}catch(e){const o=t.c("faceplate-alert",{level:t.a5.error,sourceElement:"unhide-post",cause:"uncategorized",message:"Unable to unhide post"});this.dispatchEvent(o)}},this.addEventListener("click",this.handleClickPost),new t.ay(this,this,{threshold:[.5]})}static get styles(){return[t.t,t.a0(".rpl-vote-button-group {\n  /* APPEARANCE AGNOSTIC STYLES */\n  /* PLAIN APPEARANCE */\n  /* SECONDARY APPEARANCE */\n  /* BORDERED APPEARANCE */\n  --vote-button-divider-color: var(--color-neutral-border-weak);\n  /* MEDIA APPEARANCE */\n}\n.rpl-vote-button-group:not([disabled]) .rpl-vote-button-group-label {\n  color: var(--vote-button-label-color);\n}\n.rpl-vote-button-group:not([disabled]):hover.rpl-vote-button-group-label {\n  color: var(--vote-button-label-color-hover);\n}\n.rpl-vote-button-group .rpl-vote-button-group-divider {\n  background-color: var(--vote-button-divider-color);\n}\n.rpl-vote-button-group[disabled] button[rpl]:disabled {\n  --button-color-background-disabled: transparent;\n}\n.rpl-vote-button-group.button-plain {\n  --vote-button-label-color: var(--color-secondary-plain);\n  --vote-button-label-color-hover: var(--color-secondary-plain);\n}\n.rpl-vote-button-group.button-plain button[rpl]:first-child {\n  --button-color-text-hover: var(--color-upvote-plain-weaker);\n}\n.rpl-vote-button-group.button-plain button[rpl]:last-child {\n  --button-color-text-hover: var(--color-downvote-plain-weaker);\n}\n.rpl-vote-button-group.button-plain.upvote {\n  --vote-button-label-color: var(--color-upvote-plain);\n}\n.rpl-vote-button-group.button-plain.upvote button[rpl]:first-child {\n  --button-color-text-default: var(--color-upvote-plain-weaker);\n  --button-color-text-hover: var(--color-upvote-plain-weaker);\n  --button-color-text-disabled: var(--color-upvote-plain-disabled);\n  --button-color-text-activated: var(--color-upvote-plain-weaker);\n}\n.rpl-vote-button-group.button-plain.downvote {\n  --vote-button-label-color: var(--color-downvote-plain);\n}\n.rpl-vote-button-group.button-plain.downvote button[rpl]:last-child {\n  --button-color-text-default: var(--color-downvote-plain-weaker);\n  --button-color-text-disabled: var(--color-downvote-plain-disabled);\n  --button-color-text-activated: var(--color-downvote-plain-weaker);\n}\n.rpl-vote-button-group.button-secondary {\n  --vote-button-label-color: var(--color-secondary-plain);\n  --vote-button-label-color-hover: var(--color-secondary-plain);\n  --vote-button-divider-color: var(--color-neutral-border);\n}\n.rpl-vote-button-group.button-secondary button[rpl]:first-child {\n  --button-color-text-hover: var(--color-upvote-plain-weaker);\n}\n.rpl-vote-button-group.button-secondary button[rpl]:last-child {\n  --button-color-text-hover: var(--color-downvote-plain-weaker);\n}\n.rpl-vote-button-group.button-secondary.upvote,\n.rpl-vote-button-group.button-secondary.upvote button[rpl] {\n  --button-color-text-default: var(--color-upvote-onBackground);\n  --button-color-text-hover: var(--color-upvote-onBackground);\n  --button-color-text-disabled: var(--color-upvote-disabled);\n  --button-color-text-activated: var(--color-upvote-onBackground);\n}\n.rpl-vote-button-group.button-secondary.upvote:not([disabled]),\n.rpl-vote-button-group.button-secondary.upvote button[rpl]:not([disabled]) {\n  --button-color-background-default: var(--color-upvote-background);\n  --button-color-background-hover: var(--color-upvote-background-hover);\n  --button-color-background-active: var(--color-upvote-background-hover);\n  --vote-button-divider-color: var(--color-upvote-onBackground);\n  --vote-button-label-color: var(--color-media-onBackground);\n}\n.rpl-vote-button-group.button-secondary.downvote,\n.rpl-vote-button-group.button-secondary.downvote button[rpl] {\n  --button-color-text-default: var(--color-downvote-onBackground);\n  --button-color-text-hover: var(--color-downvote-onBackground);\n  --button-color-text-disabled: var(--color-downvote-disabled);\n  --button-color-text-activated: var(--color-downvote-onBackground);\n}\n.rpl-vote-button-group.button-secondary.downvote:not([disabled]),\n.rpl-vote-button-group.button-secondary.downvote button[rpl]:not([disabled]) {\n  --button-color-background-default: var(--color-downvote-background);\n  --button-color-background-hover: var(--color-downvote-background-hover);\n  --button-color-background-active: var(--color-downvote-background-hover);\n  --vote-button-divider-color: var(--color-upvote-onBackground);\n  --vote-button-label-color: var(--color-media-onBackground);\n}\n.rpl-vote-button-group.button-bordered-cab {\n  --vote-button-label-color: var(--color-secondary-plain);\n  --vote-button-label-color-hover: var(--color-secondary-plain);\n}\n.rpl-vote-button-group.button-bordered-cab button[rpl]:first-child {\n  --button-color-text-hover: var(--color-upvote-plain-weaker);\n}\n.rpl-vote-button-group.button-bordered-cab button[rpl]:last-child {\n  --button-color-text-hover: var(--color-downvote-plain-weaker);\n}\n.rpl-vote-button-group.button-bordered-cab.upvote {\n  --vote-button-label-color: var(--color-upvote-plain);\n}\n.rpl-vote-button-group.button-bordered-cab.upvote button[rpl]:first-child {\n  --button-color-text-default: var(--color-upvote-plain-weaker);\n  --button-color-text-hover: var(--color-upvote-plain-weaker);\n  --button-color-text-disabled: var(--color-upvote-plain-disabled);\n  --button-color-text-activated: var(--color-upvote-plain-weaker);\n}\n.rpl-vote-button-group.button-bordered-cab.downvote {\n  --vote-button-label-color: var(--color-downvote-plain);\n}\n.rpl-vote-button-group.button-bordered-cab.downvote button[rpl]:last-child {\n  --button-color-text-default: var(--color-downvote-plain-weaker);\n  --button-color-text-hover: var(--color-downvote-plain-weaker);\n  --button-color-text-disabled: var(--color-downvote-plain-disabled);\n  --button-color-text-activated: var(--color-downvote-plain-weaker);\n}\n.rpl-vote-button-group.button-media-cab {\n  --vote-button-label-color: var(--color-media-onBackground);\n  --vote-button-label-color-hover: var(--color-media-onBackground);\n  --vote-button-divider-color: var(--color-media-border-weak);\n}\n.rpl-vote-button-group.button-media-cab button[rpl]:first-child {\n  --button-color-text-hover: var(--color-upvote-onStrongScrim-weaker);\n}\n.rpl-vote-button-group.button-media-cab button[rpl]:last-child {\n  --button-color-text-hover: var(--color-downvote-onStrongScrim-weaker);\n}\n.rpl-vote-button-group.button-media-cab.upvote {\n  --vote-button-label-color: var(--color-upvote-onStrongScrim);\n}\n.rpl-vote-button-group.button-media-cab.upvote button[rpl]:first-child {\n  --button-color-text-default: var(--color-upvote-onStrongScrim-weaker);\n  --button-color-text-activated: var(--color-upvote-onStrongScrim-weaker);\n  --button-color-text-disabled: var(--color-upvote-onStrongScrim-disabled);\n}\n.rpl-vote-button-group.button-media-cab.downvote {\n  --vote-button-label-color: var(--color-downvote-onStrongScrim);\n}\n.rpl-vote-button-group.button-media-cab.downvote button[rpl]:last-child {\n  --button-color-text-default: var(--color-downvote-onStrongScrim-weaker);\n  --button-color-text-activated: var(--color-downvote-onStrongScrim-weaker);\n  --button-color-text-disabled: var(--color-downvote-onStrongScrim-disabled);\n}\n.pdp-flair-slot::slotted(*) {\n  margin: var(--size-2xs) 0;\n}\n.feed-flair-slot::slotted(*) {\n  margin-bottom: var(--size-xs);\n}\n.text-decoration-none {\n  text-decoration: none;\n}\n:host([item-state~='APPROVED']),\n:host([item-state~='REMOVED']) {\n  background-color: var(--color-neutral-background-weak);\n}\n:host([updateAnimation~='light']) {\n  animation: realtimeFade 3s;\n  animation-timing-function: ease-out;\n}\n:host([updateAnimation~='dark']) {\n  animation: realtimeFadeNight 3s;\n  animation-timing-function: ease-out;\n}\n@keyframes realtimeFade {\n  from {\n    background-color: #fff2bd;\n    border: 1px solid #dbaf00;\n  }\n  to {\n    background-color: #f0f5f9;\n    border: 1px solid transparent;\n  }\n}\n@keyframes realtimeFadeNight {\n  from {\n    background-color: #665505;\n    border: 1px solid #382d03;\n  }\n  to {\n    background-color: #030303;\n    border: 1px solid #343536;\n  }\n}\n.condensed-post-title-heading {\n  margin: 0;\n}\n")]}connectedCallback(){super.connectedCallback(),t.g()&&this.initModActionsController(),this.querySelector("shreddit-post-text-body")?.addEventListener(m.R,this.trackReadMoreClick),this.isObserved||this.enableObserver({rootMargin:"0px"}),this.postVoteType=this.voteType,this.postScore=this.score,this.gallery&&this.addEventListener("faceplate-carousel:slide",this.handleCarouselArrowClick),this.addEventListener("faceplate-hovercard:open",this.handleHovercardOpen),this.addEventListener("capture-devplatform-snapshot",this.handleCustomPostSnapshotEvent),t.aE.subscribe(this.onBeforeUnloadCallback,{shouldBeCalledFirst:!0}),t.aF(this.handleVisibilityChange,{immediate:!0}),t.aF(this.handleCalledFirstVisibilityChange,{immediate:!0,shouldBeCalledFirst:!0}),this.pubsub.subscribe(t.T.PostUpdated,this.onPostUpdateAction),this.addEventListener(c.f,this.handleClickCommentsButton),this.addEventListener(c.g,this.handleShareButtonInteraction),this.addEventListener(c.c,this.handleRsvpClick),this.addEventListener(c.b,this.handleUnRsvpClick),this.pubsub.subscribe(t.T.SubredditSubscriptionChange,this.onSubscriptionChange),this.hotkeyController=new F(this)}async initModActionsController(){const{ModActionsController:t}=await SML.di("./i5-QpR8HYV.js",import.meta.url,"i5-QpR8HYV");new t(this,{getThingIdFn:()=>this.id})}disconnectedCallback(){super.disconnectedCallback(),clearTimeout(this.listingBelowConsumeTimer),this.isObserved&&this.disableObserver(),this.hasBeenViewed=!1,this.isPostInViewport=!1,this.querySelector("shreddit-post-text-body")?.removeEventListener(m.R,this.trackReadMoreClick),this.gallery&&this.removeEventListener("faceplate-carousel:slide",this.handleCarouselArrowClick),this.removeEventListener("faceplate-hovercard:open",this.handleHovercardOpen),t.aE.unsubscribe(this.onBeforeUnloadCallback),t.aG(this.handleVisibilityChange),t.aG(this.handleCalledFirstVisibilityChange),this.removeEventListener(c.f,this.handleClickCommentsButton),this.removeEventListener(c.g,this.handleShareButtonInteraction),this.removeEventListener(c.c,this.handleRsvpClick),this.removeEventListener(c.b,this.handleUnRsvpClick),this.removeEventListener("capture-devplatform-snapshot",this.handleCustomPostSnapshotEvent)}get isFeed(){return m.c(this.viewContext)}get isPopularFeed(){return this.isFeed&&m.a4(t.H())}get isHomeFeed(){return this.isFeed&&m.a5(t.H())}get isPDP(){return m.i(this.viewContext)}get isCardView(){return u.d2(this.viewType)}get isCompactView(){return u.c8(this.viewType)}get isEligibleForRelatedCommunityRecommendations(){return this.isUserLoggedIn&&!!this.subredditId&&(this.isPDP&&!this.isDesktopViewport||this.isHomeFeed||this.isPopularFeed)}renderThumbnail(){return e.x` <slot name="${A}" @slotchange="${this.handleThumbnailSlotChange}"></slot>`}renderCommentsButton(){return function({viewContext:o,commentCount:i,permalink:s,pdpTarget:n,onClick:l,isUserLoggedIn:d,isPostCommentTapExp:p}){const h={className:f,onclick:l,name:"comments-action-button","data-post-click-location":t.ck.COMMENTS_BUTTON},u=m.c(o)?{...h,href:s,target:n??"_self"}:{...h,type:"button"};return r.c({appearance:"secondary",attributes:u,size:L,children:[G({isPDP:m.i(o),triggerElem:"closest(button)"}),e.x`<faceplate-number number="${i}" pretty></faceplate-number>`,!d&&p?t.bI({triggerElem:"closest(button)",target:"closest(button)",eventName:"reply"}):e.A],leadingIcon:a.c({attributes:{className:"icon-comment","aria-hidden":"true"},size:r.I[L]}),screenReaderContent:"Go to comments"});}({viewContext:this.viewContext,commentCount:this.commentCount,permalink:this.permalink,pdpTarget:this.pdpTarget,onClick:this.handleClickCommentsButton,isUserLoggedIn:this.isUserLoggedIn,isPostCommentTapExp:this.isPostCommentTapExp});}renderVoteButton(){const o=u.b4(),i=o?n.a:n.v,s=o?n.b:n.u,r=o?n.c:n.d,a=this.postScore,l="Vote",d={voteType:this.postVoteType||null,appearance:u.ak()?"bordered":"secondary",size:L,attributes:{disabled:this.archived}},p=s({...d,voteCount:a,initialStateText:l,screenReaderContent:"Upvote",onClick:this.handleUpvote}),h=r({...d,screenReaderContent:"Downvote",onClick:this.handleDownvote});return this.isPDP&&performance.mark(t.gB),e.x` <span class="relative leading-[0] ${this.disabled?"disabled":""}"> ${G({isPDP:this.isPDP})} ${i({attributes:{"data-post-click-location":t.ck.VOTE,className:f},voteCount:a,voteType:this.postVoteType,upvoteButton:p,downvoteButton:h,appearance:d.appearance,size:d.size,initialStateText:l})} </span> `}renderShareButton(){if(this.applyFeedsSimplification)return e.A;const o=e.x` <shreddit-post-share-button data-post-click-location="${t.ck.SHARE}" permalink="${this.permalink}" source-id="${this.id}" ?is-crosspostable="${this.isCrosspostable}" ?is-embeddable="${this.isEmbeddable}" ?is-desktop-viewport="${this.isDesktopViewport}" ?ssr="${this.shareButtonSSR}" ?hide-button-text="${!this.isDesktopViewport}" size="${L}" button-class="${f}" @click="${this.handleShareButtonInteraction}" @keydown="${this.handleShareButtonInteraction}" appearance="${u.ak()?"bordered":"secondary"}" data-faceplate-tracking-context="${JSON.stringify({post:{id:this.id}})}" ${t.a4(this.shareButtonRef)}> ${this.shareButtonSSR?e.x`<slot name="${M}" slot="${M}"></slot>`:e.A} </shreddit-post-share-button> `;return this.isCrosspostingV2Enabled&&this.isCrosspostingCoachmarkOpen&&"Subreddit"===this.eligibleCrosspostingSubreddit?.__typename?e.x`<slot name="${H}"> <crosspost-upsell-coachmark post-id="${this.id}" name="${this.eligibleCrosspostingSubreddit?.name}" prefixed-name="${this.eligibleCrosspostingSubreddit?.prefixedName}" subreddit-id="${this.eligibleCrosspostingSubreddit?.id}" ?open="${this.isCrosspostingCoachmarkOpen}"> ${o} </crosspost-upsell-coachmark> </slot> `:e.x` <slot name="${H}"> ${o} </slot> `}renderExpandoButton(){return this.isDesktopViewport?this._expandoController.renderExpandoButton():""}renderReportButton(){const o="Report";return e.x` ${r.c({appearance:"secondary",attributes:{onclick:()=>{var e,o;t.i(this,(e="post",t.b({source:e,action:"click",noun:"report"}))),this.dispatchEvent((o=this.id,t.c(t.kp,{thingId:o})))},type:"button",className:f},size:L,children:this.isDesktopViewport?o:"",leadingIcon:d.r({attributes:{className:"icon-report","aria-hidden":"true"},size:r.I[L]}),screenReaderContent:o})} `}renderActionRow(){if(this.isPDP&&this.isPdpSeekerM1LO)return this.renderSeekerPostInfoRow();const o=["shreddit-post-container flex gap-sm flex-row items-center flex-nowrap justify-start"];return this.isPDP?this.isCompactUIExp?o.push("py-xs px-md xs:px-0"):o.push("h-2xl mt-md px-md xs:px-0"):this.isCardView&&!this.promoted&&!this.isCrosspost&&this.isEmbed&&o.push("pt-xs"),e.x`<div class="${o.join(" ")}" data-testid="action-row" tabindex="0" aria-label="${"Actions available for this post"}"> ${this.renderVoteButton()} ${this.renderCommentsButton()} ${function({applyFeedsSimplification:o,awardCount:i,awardId:s,commentCount:n,feedIndex:r,hasBrandedAward:a,hasIconicAward:l,hideAwardIcon:d,iconUrl:p,iconUrls:h,isAwardable:u,isAwardedByUser:c,postId:m,postScore:b,postType:v,subredditId:g}){return!u||o?e.A:e.x`<award-button appearance="secondary" size="${L}" button-class="${f}" thing-id="${m}" count="${t.ad(i)}" award-id="${t.ad(s)}" icon-url="${t.ad(d?void 0:p)}" icon-urls="${t.ad(d?void 0:JSON.stringify(h))}" ?is-awarded-by-user="${c}" ?has-iconic-award="${l}" ?has-branded-award="${a}" subreddit-id="${t.ad(g)}" post-id="${m}" feed-index="${t.ad(r)}" post-type="${t.ad(v)}" score="${t.ad(b)}" comment-count="${t.ad(n)}"></award-button>`}({applyFeedsSimplification:this.applyFeedsSimplification,awardCount:this.awardCount,awardId:this.awardId,commentCount:this.commentCount,feedIndex:this.feedIndex,hasBrandedAward:this.hasBrandedAward,hasIconicAward:this.hasIconicAward,hideAwardIcon:this.hideAwardIcon,iconUrl:this.awardIconUrl,iconUrls:this.awardIconUrls,isAwardable:this.isAwardable,isAwardedByUser:this.isAwardedByUser,postId:this.id,postScore:this.postScore,postType:this.postType,subredditId:this.subredditId})} ${this.renderShareButton()} ${this.isReportingEnabled&&!this.isFeed?this.renderReportButton():""} <div class="ms-auto flex flex-row"> <slot name="${$}"></slot> <slot name="${"promote-post-button"}"></slot> </div> <slot name="${"action-row-whitespace"}"></slot> </div>`;}renderSeekerPostInfoRow(){return performance.mark(t.gB),e.x` <div class="px-md xs:px-0 py-xs truncate text-neutral-content-weak text-12 flex items-center gap-2xs font-semibold" data-testid="seeker-post-info-row"> ${void 0!==this.postScore?e.x` ${E.u({size:e.I.Small})} <faceplate-number number="${this.postScore}" pretty></faceplate-number> ${n.e({size:e.I.Small})} `:e.A} ${this.postScore&&this.commentCount?e.x`<span data-testid="seeker-post-info-row-divider" aria-hidden="true"></span>`:e.A} ${this.commentCount?e.x` ${a.c({size:e.I.Small})} <faceplate-number number="${this.commentCount}" pretty></faceplate-number> `:e.A} </div> `}renderMessageBanner(){return e.x` ${this.isLocked?e.x`<slot name="${"post-locked-banner"}"></slot>`:null} ${this.isBanned?e.x`<slot name="${"post-banned-banner"}"></slot>`:null} <slot name="${"post-archived-banner"}"></slot> ${this.showPostRemovalBanner?e.x`<slot name="${"post-removed-banner"}"></slot>`:null} ${this.isContestMode?e.x`<slot name="${"post-contest-mode-banner"}"></slot>`:null} `}trackContentTagClick(t){t.detail.type===s.C.APP&&this.trackWatermarkEvent("v1_badge")}trackWatermarkEvent(e){const o=t.b(v.c({postId:this.id||"",subredditId:this.subredditId||"",blockType:"",pageType:t.H(),action:"click",noun:"watermark",appId:this.appId||"",appInstallationId:this.appInstallationId||"",appVersionNumber:this.appVersionNumber||"",appPublicApiVersion:this.appPublicApiVersion||"",appName:this.appSlug||"",appSlug:this.appSlug||"",userAgent:window.navigator?.userAgent.toLowerCase()||"unknown",watermark:e}));t.i(this,o)}renderPostHeader(){return e.x` <slot name="${U}"></slot> ${this.isEligibleForRelatedCommunityRecommendations?e.x`<slot name="${"related-community-recommendation"}"></slot>`:e.x``} <div id="content-tag-container" class="flex justify-between gap-xs ${t.Z({"px-md":this.isPDP,"xs:px-0":this.isPDP})}"> ${this.renderContentTags()} ${this.renderAppPrivacyButton()} </div> ${this.renderPostLinkForMTSEO()} `}renderAppPrivacyButton(){return this.appName?e.x`<rpl-dialog-trigger dialog-id="${this.appSlug}-privacy-dialog" class="block flex"> ${t.o({appearance:"plain",attributes:{onclick:()=>(this.trackWatermarkEvent("v1_privacy_link"),this._activateFeature({name:t.kr,routeParams:{appSlug:this.appSlug,appOwnerId:this.appOwnerId||"null",postId:this.id,subredditId:this.subredditId},queryParams:{appName:this.appName},renderMode:t.P.Contents})),className:"flex gap-xs z-0 relative"},children:"Privacy",leadingIcon:l.i({size:e.I.ExtraSmall}),size:t.q.ExtraSmall})} </rpl-dialog-trigger>`:e.A;}renderPostLinkForMTSEO(){if(!this.isMTSEOUserPage)return"";if(this.shouldHideOriginalLanguageLink)return"";const o=new RegExp(/[^?]+/),i=this.permalink?.match(o);if(!i||0===i.length)return"";const s=t.cb(i[0],t.kt,t.ks);return e.x` <mtseo-show-original-link class="inline-flex" post-id="${this.id}" href="${s}" ?with-intervention="${this.hasMTSEOTranslationInterruption}"></mtseo-show-original-link> `}renderTitle(){const t=e.x`<slot name="${"title"}"></slot>`;return this.showFullContent||this.isPDP?t:e.x`<h2 dir="auto" class="condensed-post-title-heading">${t}</h2>`}renderTextBody(){return e.x`<slot name="${"text-body"}"></slot>`}renderPostMediaContainer(t){return e.x` <slot name="${"post-media-container"}" class="${t??""}"></slot> `}renderFeedFlair(){return this.isPDP?"":e.x`<div> <slot name="${j}" class="feed-flair-slot"></slot> </div>`}renderPDPFlair(){const t=this.isCompactUIExp?"leading-none":"xs:px-0";return this.isPDP?e.x`<div class="px-md ${t}"> <slot name="${j}" class="pdp-flair-slot"></slot> </div>`:""}renderDeletedPost(){return e.x` <div class="deleted-post h-3xl flex items-center"> <p class="font-semibold text-neutral-content-strong text-14"> ${"Post deleted"} </p> </div> `;}renderHiddenPost(){return e.x` <div class="hidden-post h-3xl flex items-center justify-between px-md"> <div> <p class="m-0 font-semibold text-neutral-content-strong text-14"> ${"Post hidden"} </p> </div> ${t.o({attributes:{onclick:this.unhidePost},size:t.q.Medium,appearance:"secondary",children:"Undo"})} </div> `;}renderCompactView(){const t="grid grid-cols-[1fr_min-content] grid-rows-[auto_auto_auto_auto_auto] xs:grid-cols-[min-content_1fr] xs:grid-rows-[auto_auto_auto_auto]",o="col-start-1 col-end-3 row-start-1 row-end-2 xs:col-start-1 xs:col-end-3 xs:row-start-1 xs:row-end-2",i="col-start-2 col-end-3 row-start-2 row-end-3 xs:col-start-1 xs:col-end-2 xs:row-start-2 xs:row-end-4",s="col-start-1 col-end-2 row-start-2 row-end-3 xs:col-start-2 xs:col-end-3 xs:row-start-2 xs:row-end-3 overflow-hidden",n="col-start-1 col-end-3 row-start-3 row-end-4 xs:hidden",r="col-start-1 col-end-3 row-start-4 row-end-5 xs:col-start-2 xs:col-end-3 xs:row-start-3 xs:row-end-4",a="col-start-1 col-end-3 row-start-5 row-end-6 xs:col-start-2 xs:col-end-3 xs:row-start-4 xs:row-end-5 overflow-hidden",l="col-start-1 col-end-3 row-start-6 row-end-7 xs:col-start-2 xs:col-end-3 xs:row-start-5 xs:row-end-6";return e.x` <slot name="${B}"></slot> <div class="${u.j("grid",t)}"> <div class="${o}"> <slot name="${"recommendation-bar"}"></slot> </div> <div class="${u.j(i,"mt-2xs ml-xs xs:my-2xs xs:ml-0 xs:mr-md")}"> <slot name="${A}"></slot> </div> <div class="${u.j(s,"mt-2xs")}"> <div class="mb-2xs xs:mb-0"> <slot name="${U}"></slot> </div> <div class="overflow-hidden"> ${this.renderTitle()} <slot name="${"content-tags"}"></slot> <slot name="${"app-privacy"}"></slot> <slot name="${j}"></slot> </div> <div> <slot name="${V}"></slot> <slot name="${$}"></slot> </div> <div> <slot name="${"desktop-cta-row"}"></slot> </div> </div> <div class="${n}"> <slot name="${"mobile-cta-row"}"></slot> </div> <div class="${u.j(r,"flex gap-2xs overflow-hidden items-center mb-2xs mt-xs xs:mt-[2px]")}"> <slot name="${"action-bar-ad-cta"}"></slot> ${this.renderExpandoButton()}${this.renderVoteButton()} <slot name="${"overflow-menu-bar"}" class="grow overflow-hidden block"></slot> </div> <div class="${a}"> <slot name="${"expando-content"}"></slot> </div> <div class="${l}">${this.renderPostStatsEntryPoint()}</div> </div> ${this.renderPostStatsContainer()} `}renderPostStatsContainer(){return e.x`<slot name="${"post-insights-panel"}"></slot>`}renderPostStatsEntryPoint(){return e.x`<slot name="${"post-stats-entry-point"}"></slot>`}renderCardViewPostFooter(){return e.x` ${this.renderMessageBanner()} <slot name="${"post-recovery-section"}"></slot> ${this.renderActionRow()} ${this.renderPostStatsEntryPoint()} ${this.renderPostStatsContainer()} `}renderContentTags(){return e.x`<shreddit-content-tags post-id="${this.id}" ?nsfw="${this.nsfw}" ?spoiler="${this.spoiler}" app="${this.appSlug}" ?game="${this.game}" @tag-click="${t=>this.trackContentTagClick(t)}"></shreddit-content-tags>`}renderSlimCardPost(){return e.x` <slot name="${B}"></slot> <slot></slot> <div class="pt-xs">${this.renderCardViewPostFooter()}</div> `}renderCardView(){const o=this.isThumbnailSet?"ms-xs xs:ms-sm":void 0;return e.x` <slot name="${B}"></slot> ${this.renderPostHeader()} <div class="flex"> <div class="flex flex-col grow max-w-full"> ${this.renderTitle()} ${this.renderPDPFlair()} <slot name="${V}"></slot> ${this.isPDP?null:this.renderTextBody()} ${this.renderFeedFlair()} </div> <div class="${t.ad(o)}">${this.renderThumbnail()}</div> </div> ${this.renderPostMediaContainer("xs:pt-md")} ${this.isPDP?this.renderTextBody():null} <slot></slot> ${this.renderCardViewPostFooter()} `}render(){return this.deleted?this.renderDeletedPost():this.showShortHiddenPostForm()?this.renderHiddenPost():this.isCompactView?this.renderCompactView():this.isSlimCard?this.renderSlimCardPost():this.renderCardView()}handleView(e,o,i){!o&&this.isPDP||m.a6(this.viewContext)&&this.hasBeenViewed||t.i(this,e),this.gallery&&t.i(this,T.a(this,0,i)),this.morePostsCursor&&this.handleLoadMorePosts()}handleConsume(){!this.isPDP&&this.becameVisibleOnScreenTimestamp&&Date.now()-this.becameVisibleOnScreenTimestamp>m.b&&!m.a6(this.viewContext)&&this.trackConsume()}handleClick(e,o){e&&t.i(this,e),o&&this.dispatchEvent(o)}handleShareButtonInteraction(){this.isDesktopViewport?this.handleClick(m.a7(this)):this.handleClick(m.a8(this))}handleClickCommentsButton(e){if(t.i(this,m.y(this)),this.isFeed)return;this.isPostCommentTapExp||S.s("smooth");if((e?.currentTarget?.querySelector("faceplate-number")?.number??0)>0&&!this.isPostCommentTapExp){const t=document.querySelector("shreddit-comments-sort-dropdown")?.querySelector("shreddit-sort-dropdown")?.shadowRoot?.querySelector("faceplate-dropdown-menu")?.querySelector("button");t?.focus()}else{if(!this.isUserLoggedIn&&this.isPostCommentTapExp)return;const t=document.querySelector("comment-body-header comment-composer-host");this.isPostCommentTapExp&&t?.scrollIntoView({behavior:"smooth",block:"center"}),t?.focus()}}handleClickPost(t){const e=m.a9(t,this);this.handleClick(e)}handleCarouselArrowClick(t){t.preventDefault();const e=t;T.h(this,e)}async handleUpdatePostVote(e){const o=this.postScore,i=this.postVoteType;if(void 0!==this.postScore){const t=this._getPostScoreDelta(e);this.postScore=this.postScore+t}this.postVoteType=e===this.postVoteType?void 0:e;try{await this._onUpdatePostVoteType(),this.postVoteType&&this.pubsub.publish(this.postVoteType===b.V.Upvote?t.T.PostUpvoted:t.T.PostDownvoted,{postId:this.id})}catch(s){this.postScore=o,this.postVoteType=i,this.dispatchEvent(t.c("faceplate-alert",{level:t.a5.warning,message:s,sourceElement:e,cause:`failed-${e}`}))}}async handleCrosspostingV2Experiment(){const t=await N(this.id);this.eligibleCrosspostingSubreddit=t,this.isCrosspostingCoachmarkOpen=!!t}async handleUpvote(e){const o=this.postVoteType===b.V.Upvote;if(this.isUserLoggedIn)return this.handleClick(o?m.o(this):m.u(this)),await this.handleUpdatePostVote(b.V.Upvote),!o&&this.isCrosspostingV2Enabled&&this.handleCrosspostingV2Experiment(),void(this.isAma&&!o&&this.pubsub.publish(t.T.TriggerAmaRemindMeModal,{postId:this.id}));this.disabled?(this.dispatchEvent(t.c(t.dh.upvoteTry,{thingId:this.id,permalink:this.permalink})),t.i(this,m.aa(this))):this.handleClick(m.u(this),t.c(t.dh.upvote,{thingId:this.id,permalink:this.permalink}))}async handleDownvote(e){if(this.isUserLoggedIn)return this.handleClick(this.postVoteType===b.V.Downvote?m.o(this):m.q(this)),void (await this.handleUpdatePostVote(b.V.Downvote));this.disabled?(this.dispatchEvent(t.c(t.dh.downvoteTry,{thingId:this.id,permalink:this.permalink})),t.i(this,m.aa(this))):this.handleClick(m.q(this),t.c(t.dh.downvote,{thingId:this.id,permalink:this.permalink}))}onBeforeUnload(){this._hasPageUnloaded=!0,this.isPostInViewport&&(this.handleConsume(),this.isPostLeaveEventsEnabled&&t.i(this,m.a1(this)))}handleHovercardOpen(e){if(!(e.target instanceof HTMLElement&&"id"in e.target.dataset))return;const o=e.target.dataset.id;"community-hover-card"===o&&t.i(this,m.ab(this)),"user-hover-card"===o&&t.i(this,m.ac(this))}handleThumbnailSlotChange(t){const e=t.target?.assignedElements();this.isThumbnailSet=e.length>0}observerIsIntersectingCallback(e){this.isNotBrandSafe&&e.target===this&&window.dispatchEvent(t.c(t.fF,{postId:this.id,isInView:!0})),this.isPostInViewport||(this.isPostInViewport=!0,this.becameVisibleOnScreenTimestamp=Date.now(),this.handleView(m.n(this),!this.isPDP),this.isTranslatable&&[t.b3.ENImmersive,t.b3.UXUpdate].includes(this.translationExperience)&&y.o.post(this,this,this.translationExperience),this.hasBeenViewed=!0,m.a6(this.viewContext)&&(this.listingBelowConsumeTimer=setTimeout(this.trackConsume,m.b)))}observerIsNotIntersectingCallback(e){clearTimeout(this.listingBelowConsumeTimer),this.isNotBrandSafe&&e.target===this&&window.dispatchEvent(t.c(t.fF,{postId:this.id,isInView:!1}));const o=this.isPostInViewport;this.isPostInViewport=!1,o&&(this.handleConsume(),this.isPostLeaveEventsEnabled&&t.i(this,m.a1(this)))}};return t._([t.n({type:Boolean})],q.prototype,"archived",void 0),t._([t.n({type:Boolean})],q.prototype,"deleted",void 0),t._([t.n({type:Boolean,reflect:!0})],q.prototype,"hidden",void 0),t._([t.n({type:String,attribute:"author-id"})],q.prototype,"authorId",void 0),t._([t.n({type:String,attribute:"created-timestamp"})],q.prototype,"createdTimestamp",void 0),t._([t.n({type:String})],q.prototype,"domain",void 0),t._([t.n({type:String,attribute:"content-href"})],q.prototype,"contentHref",void 0),t._([t.n({type:String})],q.prototype,"id",void 0),t._([t.n({type:String,attribute:"user-id"})],q.prototype,"userId",void 0),t._([t.n({type:String,attribute:"app-id"})],q.prototype,"appId",void 0),t._([t.n({type:String,attribute:"app-slug"})],q.prototype,"appSlug",void 0),t._([t.n({type:Boolean})],q.prototype,"game",void 0),t._([t.n({type:String,attribute:"app-installation-id"})],q.prototype,"appInstallationId",void 0),t._([t.n({type:String,attribute:"app-name"})],q.prototype,"appName",void 0),t._([t.n({type:String,attribute:"app-owner-id"})],q.prototype,"appOwnerId",void 0),t._([t.n({type:String,attribute:"app-version-number"})],q.prototype,"appVersionNumber",void 0),t._([t.n({type:String,attribute:"app-public-api-version"})],q.prototype,"appPublicApiVersion",void 0),t._([t.n({type:Boolean,reflect:!0})],q.prototype,"nsfw",void 0),t._([t.n({type:Boolean})],q.prototype,"promoted",void 0),t._([t.n({type:Number})],q.prototype,"score",void 0),t._([t.n({type:Boolean,reflect:!0})],q.prototype,"spoiler",void 0),t._([t.n({type:String,attribute:"subreddit-id"})],q.prototype,"subredditId",void 0),t._([t.n({type:String,attribute:"subreddit-name"})],q.prototype,"subredditName",void 0),t._([t.n({type:Boolean,attribute:"is-subscribed"})],q.prototype,"isSubscribed",void 0),t._([t.n({type:String,attribute:"subreddit-prefixed-name"})],q.prototype,"subredditPrefixedName",void 0),t._([t.n({type:String,attribute:"post-title"})],q.prototype,"postTitle",void 0),t._([t.n({type:String,attribute:"post-type"})],q.prototype,"postType",void 0),t._([t.n({type:String,attribute:"recommendation-source"})],q.prototype,"recommendationSource",void 0),t._([t.n({type:String,attribute:"recommendation-subreddit-id"})],q.prototype,"recommendationSubredditId",void 0),t._([t.n({type:String,attribute:"recommendation-subreddit-name"})],q.prototype,"recommendationSubredditName",void 0),t._([t.n({type:String,attribute:"post-language"})],q.prototype,"postLanguage",void 0),t._([t.n({type:String,attribute:"translation-language"})],q.prototype,"translationLanguage",void 0),t._([t.n({type:Boolean,attribute:"is-translation-on",reflect:!0})],q.prototype,"isTranslationOn",void 0),t._([t.n({type:Number})],q.prototype,"feedIndex",void 0),t._([t.n({type:Boolean,attribute:"stickied"})],q.prototype,"isStickied",void 0),t._([t.n({type:Boolean,attribute:"highlighted"})],q.prototype,"isHighlighted",void 0),t._([t.n({type:Boolean,attribute:"crossposting-v2-enabled"})],q.prototype,"isCrosspostingV2Enabled",void 0),t._([t.n({type:String,attribute:"translation-experience"})],q.prototype,"translationExperience",void 0),t._([t.n({type:Number,attribute:"comment-count"})],q.prototype,"commentCount",void 0),t._([t.n({type:Boolean,attribute:"is-awardable"})],q.prototype,"isAwardable",void 0),t._([t.n({type:Number,attribute:"award-count"})],q.prototype,"awardCount",void 0),t._([t.n({type:String,attribute:"award-id"})],q.prototype,"awardId",void 0),t._([t.n({type:String,attribute:"award-icon-url"})],q.prototype,"awardIconUrl",void 0),t._([t.n({type:Array,attribute:"award-icon-urls"})],q.prototype,"awardIconUrls",void 0),t._([t.n({type:Boolean,attribute:"hide-award-icon"})],q.prototype,"hideAwardIcon",void 0),t._([t.n({type:Boolean,attribute:"is-awarded-by-user"})],q.prototype,"isAwardedByUser",void 0),t._([t.n({type:Boolean,attribute:"has-iconic-award"})],q.prototype,"hasIconicAward",void 0),t._([t.n({type:Boolean,attribute:"has-branded-award"})],q.prototype,"hasBrandedAward",void 0),t._([t.n({type:String})],q.prototype,"permalink",void 0),t._([t.n({type:Boolean})],q.prototype,"gallery",void 0),t._([t.n({type:String,attribute:"view-context"})],q.prototype,"viewContext",void 0),t._([t.n({type:String,attribute:"view-type"})],q.prototype,"viewType",void 0),t._([t.n({type:Boolean,attribute:"is-slim-card"})],q.prototype,"isSlimCard",void 0),t._([t.n({type:Boolean,attribute:"is-desktop-viewport"})],q.prototype,"isDesktopViewport",void 0),t._([t.n({type:Boolean,attribute:"is-reporting-enabled"})],q.prototype,"isReportingEnabled",void 0),t._([t.n({type:Boolean,attribute:"is-link-post"})],q.prototype,"isLinkPost",void 0),t._([t.n({type:Boolean,attribute:"is-ama"})],q.prototype,"isAma",void 0),t._([t.n({type:Boolean,attribute:"is-embed"})],q.prototype,"isEmbed",void 0),t._([t.n({type:Boolean,attribute:"is-not-brand-safe"})],q.prototype,"isNotBrandSafe",void 0),t._([t.n({type:Boolean,attribute:"is-crosspost"})],q.prototype,"isCrosspost",void 0),t._([t.n({type:Boolean,attribute:"is-crosspostable"})],q.prototype,"isCrosspostable",void 0),t._([t.n({type:Boolean,attribute:"is-embeddable"})],q.prototype,"isEmbeddable",void 0),t._([t.n({type:Boolean,attribute:"user-logged-in"})],q.prototype,"isUserLoggedIn",void 0),t._([t.n({type:Boolean,attribute:"disabled"})],q.prototype,"disabled",void 0),t._([t.n({type:String,attribute:"vote-type"})],q.prototype,"voteType",void 0),t._([t.n({type:Boolean,attribute:"show-full-content"})],q.prototype,"showFullContent",void 0),t._([t.n({type:Boolean,attribute:"is-translatable"})],q.prototype,"isTranslatable",void 0),t._([t.n({type:Boolean,attribute:"is-translation-fetched",reflect:!0})],q.prototype,"isTranslationFetched",void 0),t._([t.n({type:Boolean,attribute:"is-post-translated",reflect:!0})],q.prototype,"isPostTranslated",void 0),t._([t.n({type:Boolean,attribute:"is-post-body-translated",reflect:!0})],q.prototype,"isPostBodyTranslated",void 0),t._([t.n({type:Boolean,attribute:"is-mt-seo-user-page",reflect:!0})],q.prototype,"isMTSEOUserPage",void 0),t._([t.n({type:Boolean,attribute:"should-hide-original-language-link"})],q.prototype,"shouldHideOriginalLanguageLink",void 0),t._([t.n({type:Boolean,attribute:"has-mt-seo-translation-interruption"})],q.prototype,"hasMTSEOTranslationInterruption",void 0),t._([t.n({type:String,attribute:"more-posts-cursor"})],q.prototype,"morePostsCursor",void 0),t._([t.n({type:Boolean,attribute:"should-track-post-leave-events"})],q.prototype,"isPostLeaveEventsEnabled",void 0),t._([t.n({type:Boolean,attribute:"locked",reflect:!0})],q.prototype,"isLocked",void 0),t._([t.n({type:Boolean,attribute:"banned",reflect:!0})],q.prototype,"isBanned",void 0),t._([t.n({type:Boolean,attribute:"is-contest-mode",reflect:!0})],q.prototype,"isContestMode",void 0),t._([t.n({type:String,attribute:"pdp-target"})],q.prototype,"pdpTarget",void 0),t._([t.n({type:Boolean,attribute:"is-promoteable-post"})],q.prototype,"isPromoteablePost",void 0),t._([t.n({type:String,attribute:"moderation-verdict"})],q.prototype,"moderationVerdict",void 0),t._([t.n({type:Boolean,attribute:"previous-actions-feature"})],q.prototype,"previousActionsFeature",void 0),t._([t.n({type:String,reflect:!0})],q.prototype,"updateAnimation",void 0),t._([t.n({type:String,attribute:"item-state",reflect:!0})],q.prototype,"itemState",void 0),t._([t.n({type:Boolean,attribute:"are-reports-expandable"})],q.prototype,"areReportsExpandable",void 0),t._([t.n({type:Boolean,attribute:"compact-ui-experiment"})],q.prototype,"isCompactUIExp",void 0),t._([t.n({type:Boolean,attribute:"post-comment-tap-exp"})],q.prototype,"isPostCommentTapExp",void 0),t._([t.n({type:Boolean,attribute:"is-pdp-seeker-m1-lo"})],q.prototype,"isPdpSeekerM1LO",void 0),t._([t.n({type:Boolean,attribute:"share-button-ssr"})],q.prototype,"shareButtonSSR",void 0),t._([t.n({type:Boolean,attribute:"interaction-from-hotkey"})],q.prototype,"interactionFromHotkey",void 0),t._([t.n({type:Boolean,attribute:"apply-feeds-simplification"})],q.prototype,"applyFeedsSimplification",void 0),t._([t.h()],q.prototype,"showPostRemovalBanner",void 0),t._([t.h()],q.prototype,"showExpando",void 0),t._([t.h()],q.prototype,"postVoteType",void 0),t._([t.h()],q.prototype,"postScore",void 0),t._([t.h()],q.prototype,"useShortHiddenPostForm",void 0),t._([t.h()],q.prototype,"isThumbnailSet",void 0),t._([t.h()],q.prototype,"isUpdatingPostBody",void 0),t._([t.h()],q.prototype,"displayPostAnalytics",void 0),t._([t.h()],q.prototype,"isCrosspostingCoachmarkOpen",void 0),t._([t.h()],q.prototype,"eligibleCrosspostingSubreddit",void 0),q=t._([t.e("shreddit-post")],q),{D:L,get S(){return q},a:f}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");
SML.dm("i2O5XQPDKs",["Dw4vb8Yfbm","5r73EsgItq"],(async(t,e)=>{let s=class extends e.s{constructor(){super(...arguments),this.impressionId="0",this.partialSrc="/svc/shreddit/dsa-transparency-modal/",this.getModal=()=>this.querySelector("rpl-dialog-sheet"),this.dispatchCloseDsaTransparencyModalEvent=()=>{this.dispatchEvent(t.c("dsa-transparency-modal-close"))},this.initDialogSheet=()=>{const e=this.getModal();e&&!e.open&&(e.addEventListener("rpl-dialog-sheet:after-show",this.setupButtons),e.addEventListener("rpl-dialog-sheet:hide",this.handleModalHide),e.showModal(),t.i(this,t.b({source:"post",action:"view",noun:"about_this_ad"},{post:{id:this.postId},ad_metadata:{impression_id:this.impressionId,placement:this.placement},screen:{height:window.screen.height,width:window.screen.width}})))},this.onCloseModal=()=>{this.getModal()?.hide()},this.setupButtons=()=>{const t=this.getModal();if(!t)return;const e=t.portalContainer?.querySelector("#dsa-transparency-modal-done");e?.addEventListener("click",this.onCloseModal)},this.handleModalHide=()=>{const t=this.getModal();if(!t||t.open)return;const e=t.portalContainer?.querySelector("#dsa-transparency-modal-done");e?.removeEventListener("click",this.onCloseModal),t.removeEventListener("rpl-dialog-sheet:after-show",this.setupButtons),t.removeEventListener("rpl-dialog-sheet:hide",this.handleModalHide),this.dispatchCloseDsaTransparencyModalEvent()},this.initModal=()=>this.initDialogSheet()}render(){return e.x`<slot></slot>`}};s.styles=[t.t],t._([t.n({type:Boolean,attribute:"is-desktop"})],s.prototype,"isDesktop",void 0),t._([t.n({type:String,attribute:"post-id"})],s.prototype,"postId",void 0),t._([t.n({type:String,attribute:"impression-id"})],s.prototype,"impressionId",void 0),t._([t.n({type:String,attribute:"placement"})],s.prototype,"placement",void 0),s=t._([t.e("dsa-transparency-modal")],s)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./D_6DXw1u0k.js",import.meta.url,"D_6DXw1u0k");SML.di("./BveDHcKZX5.js",import.meta.url,"BveDHcKZX5");SML.di("./B-zFJtiar6.js",import.meta.url,"B-zFJtiar6");SML.di("./CG8L8PJoXS.js",import.meta.url,"CG8L8PJoXS");SML.di("./DNuG1KLpV-.js",import.meta.url,"DNuG1KLpV-");SML.di("./C8QDHFSIkY.js",import.meta.url,"C8QDHFSIkY");SML.di("./CQrDBXK-hm.js",import.meta.url,"CQrDBXK-hm");SML.di("./O6qhDxcY8s.js",import.meta.url,"O6qhDxcY8s");SML.di("./CvmCFjWH38.js",import.meta.url,"CvmCFjWH38");SML.di("./DM1QcTS4ln.js",import.meta.url,"DM1QcTS4ln");SML.di("./D_g7f2Ewyi.js",import.meta.url,"D_g7f2Ewyi");SML.di("./DmecpYOCDL.js",import.meta.url,"DmecpYOCDL");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./Bb6e8s2O1k.js",import.meta.url,"Bb6e8s2O1k");SML.di("./CpZ44pmnxI.js",import.meta.url,"CpZ44pmnxI");SML.di("./FQGvCwaizg.js",import.meta.url,"FQGvCwaizg");SML.di("./BOFc1KQJc-.js",import.meta.url,"BOFc1KQJc-");SML.di("./Z0tk4vmzIQ.js",import.meta.url,"Z0tk4vmzIQ");SML.di("./xrDbp1ee_h.js",import.meta.url,"xrDbp1ee_h");SML.di("./CJnU84A1cL.js",import.meta.url,"CJnU84A1cL");SML.di("./CqGTWb5M_i.js",import.meta.url,"CqGTWb5M_i");SML.di("./CU8weQ2dDy.js",import.meta.url,"CU8weQ2dDy");SML.di("./YFXcK0ZyJl.js",import.meta.url,"YFXcK0ZyJl");SML.di("./BRjrtOukap.js",import.meta.url,"BRjrtOukap");SML.di("./tO6bKRQro7.js",import.meta.url,"tO6bKRQro7");SML.di("./Bu440t6XLo.js",import.meta.url,"Bu440t6XLo");SML.di("./BeFppRYbzE.js",import.meta.url,"BeFppRYbzE");SML.di("./BuM34fxA_u.js",import.meta.url,"BuM34fxA_u");SML.di("./eY7T41bKac.js",import.meta.url,"eY7T41bKac");SML.di("./BYzqEZ3uv3.js",import.meta.url,"BYzqEZ3uv3");SML.di("./Cv4mWnWE30.js",import.meta.url,"Cv4mWnWE30");SML.di("./jWC3N3n7Al.js",import.meta.url,"jWC3N3n7Al");SML.di("./CQMf561ZyA.js",import.meta.url,"CQMf561ZyA");SML.di("./BwcUp7XlaC.js",import.meta.url,"BwcUp7XlaC");SML.di("./BIzQFHISzm.js",import.meta.url,"BIzQFHISzm");SML.di("./BwcMg3lXAs.js",import.meta.url,"BwcMg3lXAs");SML.di("./DnNITwgp90.js",import.meta.url,"DnNITwgp90");SML.di("./DIrjWut_vd.js",import.meta.url,"DIrjWut_vd");SML.di("./D1DY-avSiT.js",import.meta.url,"D1DY-avSiT");SML.di("./BSYfFtBeKH.js",import.meta.url,"BSYfFtBeKH");SML.di("./Cn5JTNK6V3.js",import.meta.url,"Cn5JTNK6V3");SML.di("./wBWjBlz6KG.js",import.meta.url,"wBWjBlz6KG");SML.di("./kS-PCwPq_X.js",import.meta.url,"kS-PCwPq_X");SML.di("./CBbxnHsw2W.js",import.meta.url,"CBbxnHsw2W");SML.di("./B0p6XlbwHt.js",import.meta.url,"B0p6XlbwHt");SML.di("./CM4Yt4lwBK.js",import.meta.url,"CM4Yt4lwBK");SML.di("./Chd9fEZKZ6.js",import.meta.url,"Chd9fEZKZ6");
SML.dm("i5-QpR8HYV",["Dw4vb8Yfbm","D_6DXw1u0k","BveDHcKZX5","B-zFJtiar6","CG8L8PJoXS","DNuG1KLpV-","C8QDHFSIkY","CQrDBXK-hm","O6qhDxcY8s","CvmCFjWH38","D_g7f2Ewyi","DmecpYOCDL","DM1QcTS4ln","5r73EsgItq","Bb6e8s2O1k","CpZ44pmnxI","FQGvCwaizg","BOFc1KQJc-","Z0tk4vmzIQ","xrDbp1ee_h","CJnU84A1cL","CqGTWb5M_i","CU8weQ2dDy","YFXcK0ZyJl","BRjrtOukap","tO6bKRQro7","Bu440t6XLo","BeFppRYbzE","BuM34fxA_u","eY7T41bKac","BYzqEZ3uv3","Cv4mWnWE30","jWC3N3n7Al","CQMf561ZyA","BwcUp7XlaC","BIzQFHISzm","BwcMg3lXAs","DnNITwgp90","DIrjWut_vd","D1DY-avSiT","BSYfFtBeKH","Cn5JTNK6V3","wBWjBlz6KG","kS-PCwPq_X","CBbxnHsw2W","B0p6XlbwHt","CM4Yt4lwBK","Chd9fEZKZ6"],(async(t,e,i,s,o,a,h,n,r,E,l,T)=>({ModActionsController:class{constructor(o,{getThingIdFn:d,focusChatTextareaFn:_,getIsProfilePostFn:m}){this.publishEvent=(t,e)=>{a.p(this._getThingId(),t,e)},this.modActionMenuClickEvent=e=>{let i="",s="";switch(this.itemType){case t.M.Award:i="awardOnContentId",s="award";break;case t.M.Comment:i="commentId",s="comment";break;case t.M.Post:default:i="postId",s="post"}return t.b({source:"moderator",action:"click",noun:e},{[i]:this._getThingId(),[s]:{id:this._getThingId()},action_info:{reason:this.modPartialPath}})},this._getPageType=t.H,this._getHandleReportToggle=e=>async()=>{const i=e===h.M.IgnoreReports,o=i?s.aX:s.aY,a=i?s.aZ:s.a_;t.i(this._host,this.isPost?o():a());try{const t=[this._getThingId()],s=await(i?this.modBulkActions.modBulkIgnore(t):this.modBulkActions.modBulkUnignore(t));if(!s?.ok)throw new Error("Operation failed");return this.publishEvent(e,i),this.showSuccessToast(e),i}catch{return this.showErrorToast(e),!i}},this._getHandleDistinguishToggle=e=>async()=>{const i=e===h.M.Distinguish,s=i?"distinguish_as_mod":"undistinguish_as_mod";t.i(this._host,this.modActionMenuClickEvent(s));let o=!0;this.publishEvent(e,i);try{const s=await this.updateDistinguishState(i?t.db.ModDistinguished:t.db.None);if(!s?.ok)throw new Error("Operation failed");this.showSuccessToast(e)}catch{this.publishEvent(e,!i),this.showErrorToast(e),o=!1}return this._host.requestUpdate(),o?i:!i},this._getHandleStickyToggle=e=>async()=>{const i=e===h.M.Sticky,s=i?"sticky":"unsticky";t.i(this._host,this.modActionMenuClickEvent(s));let o=!0;this.publishEvent(e,i);try{const t=await this.updateStickyState(i);if(!t?.ok)throw new Error("Operation failed");this.showSuccessToast(e)}catch{this.publishEvent(e,!i),this.showErrorToast(e),o=!1}return this._host.requestUpdate(),o?i:!i},this._getHandleLockedToggle=e=>async()=>{const i=e===h.M.Lock,s=i?"lock":"unlock";t.i(this._host,this.modActionMenuClickEvent(s));let o=!0;this.publishEvent(e,i);try{let s;if(this.isPost){const t=[this._getThingId()];s=await(i?this.modBulkActions.modBulkLock(t):this.modBulkActions.modBulkUnlock(t))}else s=await this.updateLockedState(i?t.dc.Locked:t.dc.None);if(!s?.ok)throw new Error("Operation failed");this.showSuccessToast(e)}catch{this.publishEvent(e,!i),this.showErrorToast(e),o=!1}return this._host.requestUpdate(),o?i:!i},this._getHandleMarkNsfwToggle=e=>async()=>{let i=!0;const s=e===h.M.MarkNsfw;if(!this.isPost)return!s;const o=s?"mark_nsfw":"unmark_nsfw";t.i(this._host,this.modActionMenuClickEvent(o));const a=[this._getThingId()],n=await(s?this.modBulkActions.modBulkMarkNSFW(a):this.modBulkActions.modBulkUnmarkNSFW(a));return n?.ok?(this.showSuccessToast(e),this.publishEvent("isPostNsfw",s)):(this.showErrorToast(e),i=!1),this._host.requestUpdate(),i?s:!s},this._getHandleMarkSpoilerToggle=e=>async()=>{let i=!0;const s=e===h.M.MarkSpoiler;if(!this.isPost)return!s;const o=s?"mark_spoiler":"unmark_spoiler";t.i(this._host,this.modActionMenuClickEvent(o));const a=[this._getThingId()],n=await(s?this.modBulkActions.modBulkMarkSpoiler(a):this.modBulkActions.modBulkUnmarkSpoiler(a));return n?.ok?(this.showSuccessToast(e),this.publishEvent("isPostSpoiler",s)):(this.showErrorToast(e),i=!1),this._host.requestUpdate(),i?s:!s},this.handleApproveContentOptimistic=()=>{this.publishEvent(h.M.ApproveContentOptimistic,!0)},this._getHandleModApproval=e=>async()=>{this.handleApproveContentOptimistic(),t.i(this._host,this.modActionMenuClickEvent("approve"));try{const t=await this.modBulkActions.modBulkApprove([this._getThingId()]);return t?.ok?(this.publishEvent(e,!0),this._resetAddRemovalReasonForm(),!0):(this.showErrorToast(e),!1)}catch{return this.showErrorToast(e),!1}},this._getShareToModChat=t=>async t=>(await this._focusChatTextarea(),!0),this._getViewChatThread=t=>async t=>(await this._focusChatTextarea(!0),!0),this.handleRemoveContentOptimistic=()=>{this.publishEvent(h.M.RemoveContentOptimistic,!0)},this.handleRemoveContentAsSpamOptimistic=()=>{this.publishEvent(h.M.RemoveContentAsSpamOptimistic,!0)},this.handleConfirmRemovalOptimistic=()=>{this.publishEvent(h.M.ConfirmRemovalOptimistic,!0)},this._getHandleModRemoval=e=>async()=>{switch(e){case h.M.RemoveContent:this.handleRemoveContentOptimistic();break;case h.M.RemoveContentAsSpam:this.handleRemoveContentAsSpamOptimistic();break;case h.M.ConfirmRemoval:this.handleConfirmRemovalOptimistic()}const i=e===h.M.RemoveContentAsSpam;let s=e===h.M.ConfirmRemoval?"confirm_removal":"remove";e===h.M.RemoveContentAsSpam&&(s="spam"),t.i(this._host,this.modActionMenuClickEvent(s));try{const t=await this.modBulkActions.modBulkRemove([this._getThingId()],i);return t?.ok?(this.publishEvent(e,!0),this.dispatchRequestReload(),!0):(this.showErrorToast(e),!1)}catch{return this.showErrorToast(e),!1}},this._getHandleOpenEditPostFlairModal=()=>async()=>{const e=this._getThingId();if(!e)return;t.i(this._host,this.modActionMenuClickEvent("flair"));const i=this._getPageType();if((this._getIsProfilePost?.()??!1)&&i&&T.d.has(i))l.s(e,{isEditMode:!0});else{await this._activateFeature({name:t.dd,queryParams:{isLoggedin:!0,selectedIds:e},renderMode:t.P.Contents});const i=document.getElementById(n.g(e));i?.showModal()}},this._getHandleAddToHighlights=()=>async()=>{const e=this._getThingId();e&&await this._activateFeature({name:t.de,routeParams:{postId:e},renderMode:t.P.Contents})},this._getHandleRemoveFromHighlights=()=>async()=>{const e=this._getThingId();if(e){this.publishEvent(h.M.RemoveHighlightedPost,!1);try{await this.removeHighlightedPost(e),this.showSuccessToast(h.M.RemoveHighlightedPost),t.i(this._host,s.aV(e,t.H())),t.p(t.T.ReloadHighlights)}catch(t){this.showErrorToast(h.M.RemoveHighlightedPost),this.publishEvent(h.M.RemoveHighlightedPost,!0)}}},this._resetAddRemovalReasonForm=()=>{this._host.dispatchEvent(new i.A(""))},this.handleIgnoreReports=this._getHandleReportToggle(h.M.IgnoreReports),this.handleUnignoreReports=this._getHandleReportToggle(h.M.UnignoreReports),this.handleDistinguish=this._getHandleDistinguishToggle(h.M.Distinguish),this.handleUndistinguish=this._getHandleDistinguishToggle(h.M.Undistinguish),this.handleSticky=this._getHandleStickyToggle(h.M.Sticky),this.handleUnsticky=this._getHandleStickyToggle(h.M.Unsticky),this.handleUpdateHighlightedPost=this._getHandleAddToHighlights(),this.handleRemoveHighlightedPost=this._getHandleRemoveFromHighlights(),this.handleLock=this._getHandleLockedToggle(h.M.Lock),this.handleUnlock=this._getHandleLockedToggle(h.M.Unlock),this.handleMarkNsfw=this._getHandleMarkNsfwToggle(h.M.MarkNsfw),this.handleUnmarkNsfw=this._getHandleMarkNsfwToggle(h.M.UnmarkNsfw),this.handleMarkSpoiler=this._getHandleMarkSpoilerToggle(h.M.MarkSpoiler),this.handleUnmarkSpoiler=this._getHandleMarkSpoilerToggle(h.M.UnmarkSpoiler),this.handleConfirmRemoval=this._getHandleModRemoval(h.M.ConfirmRemoval),this.handleRemoveContent=this._getHandleModRemoval(h.M.RemoveContent),this.handleRemoveContentAsSpam=this._getHandleModRemoval(h.M.RemoveContentAsSpam),this.handleApproveContent=this._getHandleModApproval(h.M.ApproveContent),this.handleShareToModChat=this._getShareToModChat(h.M.ShareToModChat),this.handleViewChatThread=this._getViewChatThread(h.M.ViewChatThread),this.handleOpenEditPostFlairModal=this._getHandleOpenEditPostFlairModal(),this.handleSnoozeReporter=()=>{},this.handleUnsnoozeReporter=()=>{},this.handleAddRemovalReason=()=>{this._host.dispatchEvent(new i.A(this._getThingId())),t.i(this._host,this.modActionMenuClickEvent("add_removal_reason"))},this.handleAdjustCrowdControl=()=>{this._host.dispatchEvent(t.c(e.O,{postId:this._getThingId()}))},this.handleRemoveContentMenu=()=>this._getHandleModRemoval(h.M.RemoveContent)(),this._activateFeature=async e=>t.r(e),this._getThingId=d,this._getIsProfilePost=m,this._host=o,this._focusChatTextarea=_??E.f,this.modBulkActions=new r.M,this._host?.addController(this)}get isPost(){return this.itemType===t.M.Post}get itemType(){return o.i(this._getThingId())}get modPartialPath(){switch(this.itemType){case t.M.Award:case t.M.Comment:case t.M.Post:return this.itemType.toLowerCase();default:return""}}hostConnected(){Object.keys(h.M).forEach((t=>{this._host.addEventListener(h.M[t],this[`handle${t}`])}))}hostDisconnected(){Object.keys(h.M).forEach((t=>{this._host.removeEventListener(h.M[t],this[`handle${t}`])}))}dispatchFaceplateAlertEvent(e,i,s=""){const o=t.c("faceplate-alert",{level:e,message:i,sourceElement:`modqueue-${this.itemType?.toLowerCase()}`,cause:s});this._host.dispatchEvent(o)}showSuccessToast(e){this.itemType&&this.dispatchFaceplateAlertEvent(t.a5.success,E.g(e,!0,this.itemType),`success-${e}`)}showErrorToast(e){this.itemType&&this.dispatchFaceplateAlertEvent(t.a5.error,E.g(e,!1,this.itemType),`failed-${e}`)}dispatchRequestReload(){this.itemType===t.M.Comment&&this._host.dispatchEvent(new CustomEvent("reload-shreddit-comment",{bubbles:!0,composed:!0}))}async updateDistinguishState(e){if(this.isPost){const i={input:{postId:this._getThingId(),distinguishType:e,distinguishState:e===t.db.None?t.df.None:t.df.Distinguished}},{data:s}=await t.Y({operation:t.O.UpdatePostDistinguishedState,variables:i});return s?.updatePostDistinguishState}{const i={input:{commentId:this._getThingId(),distinguishType:e,distinguishState:e===t.db.None?t.dg.None:t.dg.Distinguished}},{data:s}=await t.Y({operation:t.O.UpdateCommentDistinguishedState,variables:i});return s?.updateCommentDistinguishState}}async updateStickyState(e){if(this.isPost){const i={input:{postId:this._getThingId(),sticky:e,toProfile:!1}},{data:s}=await t.Y({operation:t.O.UpdatePostStickyState,variables:i});return s?.updatePostStickyState}{const i={input:{commentId:this._getThingId(),sticky:e}},{data:s}=await t.Y({operation:t.O.UpdateCommentStickyState,variables:i});return s?.updateCommentStickyState}}async updateLockedState(e){if(this.isPost){const i={input:{postId:this._getThingId(),lockedState:e}},{data:s}=await t.Y({operation:t.O.UpdatePostLockedState,variables:i});return s?.updatePostLockedState}{const i={input:{commentId:this._getThingId(),lockedState:e}},{data:s}=await t.Y({operation:t.O.UpdateCommentLockedState,variables:i});return s?.updateCommentLockedState}}async removeHighlightedPost(t){return s.aW({postId:t})}}})));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./CqGTWb5M_i.js",import.meta.url,"CqGTWb5M_i");SML.di("./UfsiwdHXZO.js",import.meta.url,"UfsiwdHXZO");SML.di("./B-zFJtiar6.js",import.meta.url,"B-zFJtiar6");
SML.dm("kTOUHCND_7",["Dw4vb8Yfbm","5r73EsgItq","CqGTWb5M_i","UfsiwdHXZO","B-zFJtiar6"],(async(e,t,i,o)=>{var n;const a=e=>e instanceof HTMLIFrameElement&&e.src.includes("recaptcha");let s=n=class extends t.s{constructor(){super(...arguments),this.pageName="",this.withBlur=!1,this.contentHiddenTop=!1,this.contentHiddenBottom=!1,this.isVirtualKeyboardVisible=!1,this.loading=!1,this.events=new e.E(this),this.observer=new e.ay(this,this),this.focusManager=new e.aJ(this,this),this.inFocusTrap=!1,this.blocking=!0,this.open=!1,this._enter=this.events.define("faceplate-enter",this.showModal),this._leave=this.events.define("faceplate-leave",this.close),this.refreshFocus=e.ao((()=>this.focusManager.refresh()),100),this.checkForHiddenContent=()=>{if(this.content){const{scrollTop:e,scrollHeight:t,clientHeight:i}=this.content;this.contentHiddenTop=t>i&&e>0,this.contentHiddenBottom=this.isVirtualKeyboardVisible||t>i&&Math.ceil(i+e)<t}},this.handleViewport=e.ao((()=>{const e=window.visualViewport;e&&(e.height<this.clientHeight?(this.style.paddingBottom=this.clientHeight-e.height-e.offsetTop+"px",this.isVirtualKeyboardVisible=!0):(this.style.paddingBottom="0px",this.isVirtualKeyboardVisible=!1),this.checkForHiddenContent())}),100),this.onClick=t=>{const i=t.currentTarget;i instanceof e.cM&&"click"!==i.action&&"view"!==i.action&&(t.preventDefault(),i.trackEvent?.())}}disconnectedCallback(){super.disconnectedCallback(),this.close()}showModal(){n.isReported||this.isValidOrigin()||(e.i(this,o.r(this.pageName)),n.isReported=!0),e.i(this,o.m(this.pageName)),e.ie().then((()=>{e.hC.add(this),this.focusManager.focusFirst(),document.body.style.pointerEvents="auto",document.body.addEventListener("focusin",this.ignoreRecaptchaIframeFocus),document.body.addEventListener("keydown",this.ignoreRecaptchaIframeTab)})),this.addEventListener("focusable-content-loaded",this.refreshFocus),this.mutationObserver=new MutationObserver(this.refreshFocus),this.mutationObserver.observe(this,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["disabled","aria-disabled","class","hidden","slot"]}),this.resizeObserver=new ResizeObserver(this.checkForHiddenContent),this.content&&(this.resizeObserver.observe(this.content),this.content.addEventListener("scroll",this.checkForHiddenContent)),window?.visualViewport?.addEventListener("resize",this.handleViewport),window?.visualViewport?.addEventListener("scroll",this.handleViewport),this.backButtonTrackers.forEach((e=>e.addEventListener("click",this.onClick))),this.closeButtonTrackers.forEach((e=>e.addEventListener("click",this.onClick))),this.dispatchEvent(new CustomEvent(e.fu.Open,{bubbles:!0,composed:!0})),this.open=!0}ignoreRecaptchaIframeFocus(e){a(e.target)&&e.stopPropagation()}ignoreRecaptchaIframeTab(e){"Tab"===e.key&&a(e?.target)&&e?.stopPropagation()}close(){this.open&&(window?.visualViewport?.removeEventListener("resize",this.handleViewport),window?.visualViewport?.removeEventListener("scroll",this.handleViewport),e.hC.remove(this),this.mutationObserver?.disconnect(),this.open=!1)}_getLocation(){return window.location}isValidOrigin(){const e=this._getLocation();return!(!("IS_STORYBOOK"in window)||!window.IS_STORYBOOK)||"https:"===e.protocol&&(e.origin.endsWith(".reddit.com")||e.origin.endsWith(".snoo.dev"))}render(){const o=t.x`${this.isValidOrigin()?"":t.x` <div class="w-100 top-0 start-0 bg-danger-background text-global-white flex items-center justify-center box-border p-md"> ${i.i({attributes:{className:"me-xs"},size:t.I.ExtraLarge})} ${"This page was served from a non-Reddit domain. Please be extra careful."} </div> `} <div class="flex justify-between items-end pt-lg pb-xs px-[var(--topbar-horizontal-padding)]"> <div class="inline-flex items-center gap-md"> <slot name="backButton"></slot> <slot name="titleGraphic"></slot> </div> <slot name="closeButton"></slot> </div>`,n={"border-t-sm":this.contentHiddenTop,"border-b-sm":this.contentHiddenBottom};return t.x`<div class="bg-ui-modalbackground max-w-full flex flex-col basis-full font-sans pointer-events-auto"> ${o} <slot name="title" class="inline-flex py-0 px-[var(--horizontal-padding)]"></slot> <slot name="subtitle" class="inline-flex py-0 px-[var(--horizontal-padding)]"></slot> <slot class="flex flex-col grow shrink overflow-y-auto py-0 px-[var(--horizontal-padding)] border-0 border-solid border-neutral-border ${e.Z(n)}"></slot> ${this.loading?t.x`<shreddit-loading class="pointer-events-none h-[8rem]"></shreddit-loading>`:t.x` <slot name="primaryButton" class="inline-flex"></slot>`} </div>`}};s.isReported=!1,s.styles=[t.a`:host{--horizontal-padding:80px;--topbar-horizontal-padding:24px;display:flex;position:fixed;box-sizing:border-box;margin:auto;border-radius:var(--rem16);background:var(--color-ui-modalbackground);overflow:hidden;left:0;right:0;top:50%;transform:translateY(-50%);min-width:320px;width:528px;max-width:528px;min-height:400px;height:100%;max-height:700px}:host([withBlur]){box-shadow:0 0 0 max(100vw,100vh) var(--color-scrim)}slot:not([name]){transition:width .1s ease-in}::slotted([slot=primaryButton]){padding:24px var(--horizontal-padding)}@media (max-width:528px){:host{--horizontal-padding:16px;--topbar-horizontal-padding:16px;max-height:none;width:100%;max-width:none;border-radius:0;padding-bottom:0;transition:padding-bottom .2s ease-in-out}}`,e.t],e._([e.n({type:String})],s.prototype,"pageName",void 0),e._([e.n({type:Boolean})],s.prototype,"withBlur",void 0),e._([e.l({slot:"backButton",selector:"faceplate-tracker"})],s.prototype,"backButtonTrackers",void 0),e._([e.l({slot:"closeButton",selector:"faceplate-tracker"})],s.prototype,"closeButtonTrackers",void 0),e._([e.a2("slot:not([name])",!0)],s.prototype,"content",void 0),e._([e.h()],s.prototype,"contentHiddenTop",void 0),e._([e.h()],s.prototype,"contentHiddenBottom",void 0),e._([e.h()],s.prototype,"isVirtualKeyboardVisible",void 0),e._([e.h()],s.prototype,"loading",void 0),s=n=e._([e.e("auth-flow-modal")],s)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./KHcvarc_gp.js",import.meta.url,"KHcvarc_gp");SML.di("./B7VtDPc4tA.js",import.meta.url,"B7VtDPc4tA");SML.di("./DbsIcWTJ8k.js",import.meta.url,"DbsIcWTJ8k");SML.di("./B-zFJtiar6.js",import.meta.url,"B-zFJtiar6");SML.di("./CG8L8PJoXS.js",import.meta.url,"CG8L8PJoXS");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");
SML.dm("oUI692WQat",["Dw4vb8Yfbm","KHcvarc_gp","DbsIcWTJ8k","B-zFJtiar6","CG8L8PJoXS","5r73EsgItq","B7VtDPc4tA"],(async(t,e,i,s,n,o)=>{const a=/^(?:[a-zA-Z0-9-]+\.)?reddit\.com$/,r=/^shreddit\.local\.snoo\.dev:\d+$/,c=["out.reddit.com","alb.reddit.com","blog.reddit.com","status.reddit.com","code.reddit.com","sp.reddit.com"],h=/^\u0020|[\u0000-\u0019\u1680\u180E\u2000-\u2029\u205f\u3000]/,l=["http:","https:"];function d(t){if("string"!=typeof t||h.test(t))return!1;try{const{host:e,protocol:i}=new URL(t.toLowerCase());return!!i&&!!e&&l.includes(i)&&(a.test(e)||r.test(e))&&!c.includes(e)}catch(t){return!1}}let u=window.location;function p(e={}){const{destinationUrl:i,additionalParams:s,suppressLoginToast:n}=e;n||t.cD();try{const e=new URL(u.href);e.pathname.match(t.cE)&&(e.pathname="");let n=i||e.searchParams.get("dest");if(n?.startsWith("/")&&(n=new URL(n,window.location.origin).toString()),n&&d(n)){const t=new URL(n);"old.reddit.com"===t.hostname&&t.searchParams.set("cache-bust",Date.now().toString()),e.href=t.toString()}else e.searchParams.delete("dest");if(s)for(const[t,i]of s)e.searchParams.set(t,i);const o=e.toString();o===u.href?u.reload():u.href=o}catch(t){u.reload()}}let m=p,E=t.b5,S=t.Y,T=e.o,g=t.r,f=window.location,b=class extends o.s{constructor(){super(...arguments),this.stepName=null,this.isStandalonePage=!1,this.open=!1,this.authContext={},this.history=[],this.events=new t.E(this),this.scrollBlocker=new i.S(this),this.findStepElement=t=>this.querySelector(`[slot="${t}"]`),this.requestClose=()=>{this.blocking?this.isStandalonePage&&this.redirectToHome():this.close()},this.redirectToHome=()=>{f.href=location.origin},this.reloadToLoggedIn=async(t=!1)=>{let e;if(void 0===this.authContext.thingId||void 0===this.authContext.actionSource||!1===await this.isExperimentEnabled("shreddit_next_action"))return void m({});const i=await this.handleGatedAction();i&&(e=new URLSearchParams,e.set("aga",`${this.authContext.actionSource}:${this.authContext.thingId}:${t}`)),m({destinationUrl:this.authContext.destination,additionalParams:e,suppressLoginToast:i})},this.handleEscKey=this.events.define("keydown",(t=>{"Escape"!==t.key||this.blocking||this.close()})),this.handleGatedAction=async()=>{const{actionSource:e,thingId:i}=this.authContext;if(!e||!i)return!1;const s=n.g(i);return e===t.cF.Upvote||e===t.cF.Downvote?this.handleVoteAction(e,i,s):e===t.cF.Join&&this.handleSubscriptionAction(i)},this.handleVoteAction=async(i,s,o)=>{if(o!==n.T.Post&&o!==n.T.Comment)return!1;const a=i===t.cF.Upvote?e.V.Upvote:e.V.Downvote;try{return await T(s,o===n.T.Post?"post":"comment",a),!0}catch{return!1}},this.handleSubscriptionAction=async e=>{try{const i=await S({operation:t.O.UpdateSubredditSubscriptions,variables:{input:{inputs:[{subredditId:e,subscribeState:t.cG.Subscribed}]}}});return!!i?.data?.updateSubredditSubscriptions?.ok}catch{return!1}},this.deprecated__onFaceplateTrack=this.events.define("faceplate-track",(e=>{const{source:i,action:n,noun:o}=e.detail;i===s.ao&&n===s.ap&&t.cH.has(o)&&this.requestClose()}))}get blocking(){if(this.isStandalonePage)return!0;if(this.open&&this.stepName){const t=this.findStepElement(this.stepName);return t?.hasAttribute("blocking")}return!1}connectedCallback(){if(super.connectedCallback(),null!==this.stepName){const t=new URLSearchParams(window.location.search).get("action_source");this.show(this.stepName,{queryParams:{...t&&{actionSource:t}}})}}hasStep(t){return!!this.findStepElement(t)}onInitialFlowOpen(){this.open||this.dispatchEvent(t.c("auth-flow-initial-open"))}setAuthContext(t){this.authContext={...t}}async show(e,i){const s=this.findStepElement(e),n=s?.getAttribute("feature-name"),o=t.H();if(!s||!n)return!1;try{const e={...i?.queryParams,is_standalone:this.isStandalonePage};o&&(e.source_page=o.toString()),await g({root:s,name:n,renderMode:t.P.Contents,...i,queryParams:e})}finally{this.onInitialFlowOpen(),this.open=!0,this.history.push(e),this.stepName=e,this.scrollBlocker.blockPageScrolling()}return!0}back(){if(!this.open)return;this.history.pop();const t=this.history.at(-1);if(!t)return this.requestClose();this.stepName=t}close(){this.dispatchEvent(t.c("auth-flow-dismiss")),this.open=!1,this.stepName=null,this.history=[],this.scrollBlocker.unblockPageScrolling(),this.authContext={}}async isExperimentEnabled(e){if("enabled"===new URLSearchParams(window.location.search).get(e))return!0;try{const i=await S({operation:t.O.ExperimentVariant,variables:{name:e}}),s=i.data.experimentVariant?.name,n=i.data.experimentVariant?.version;return"string"==typeof s&&"string"==typeof n&&(!!i&&(E({experimentName:e,variant:s,experimentVersion:n}),"enabled"===s))}catch{return!1}}render(){return this.open?o.x` <div class="z-[100] fixed"> <div class="${t.ad(this.isStandalonePage?void 0:"fixed top-0 end-0 bottom-0 start-0 bg-black opacity-50 backdrop-blur-sm")}" tabindex="-1" @click="${this.requestClose}"></div> <slot name="${this.stepName}"></slot> <slot></slot> </div> `:o.A}};return b.styles=[t.t],t._([t.n({attribute:"step-name",type:String,reflect:!0})],b.prototype,"stepName",void 0),t._([t.n({attribute:"is-standalone",type:Boolean})],b.prototype,"isStandalonePage",void 0),t._([t.h()],b.prototype,"open",void 0),t._([t.h()],b.prototype,"authContext",void 0),b=t._([t.e("auth-flow-manager")],b),{i:d,r:p}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");
SML.dm("orYKE3eiZz",["Dw4vb8Yfbm","5r73EsgItq"],(async(e,t)=>{let r=class extends t.s{constructor(){super(...arguments),this.redirect=e=>{window.location.href=e.toString()},this.refreshAndAppendConsent=e=>{if("click"===e.type||"Enter"===e.key||"Space"===e.key){const e=new URL(window.location.href);e.searchParams.set("consent","true"),this.redirect(e)}},this.goBack=e=>{history.length>1&&("click"===e.type||"Enter"===e.key||"Space"===e.key)?this.redirect(new URL(document.referrer||location.origin)):this.redirect(new URL(location.origin))}}render(){return t.x`<slot name="continue" @click="${this.refreshAndAppendConsent}" @keypress="${this.refreshAndAppendConsent}"></slot> <slot name="back" @click="${this.goBack}" @keypress="${this.goBack}"></slot>`}};r.styles=[e.t],r=e._([e.e("blocked-profile-interactions")],r);let n=class extends t.s{constructor(){super(...arguments),this.redirect=e=>{window.location.href=e.toString()},this.goBack=e=>{history.length>1&&("click"===e.type||"Enter"===e.key||"Space"===e.key)?this.redirect(new URL(document.referrer||location.origin)):this.redirect(new URL(location.origin))}}render(){return t.x`<slot name="back" @click="${this.goBack}" @keypress="${this.goBack}"></slot>`}};n.styles=[e.t],n=e._([e.e("back-to-reddit")],n),customElements.whenDefined("faceplate-modal").then((()=>{const e=document.querySelector("#over-18-interstitial-modal");e?.showModal({blur:!0})}))}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");
SML.dm("pGK22CCKQg",["Dw4vb8Yfbm","5r73EsgItq"],(async(e,t)=>{let r=class extends t.s{constructor(){super(...arguments),this.country="",this.onClick=()=>{this.confirmOver18()},this.onKeyPress=e=>{"Enter"!==e.key&&"Space"!==e.key||this.confirmOver18()}}redirect(e){window.location.href=e.toString()}refreshAndRememberSEO(){const t=new URL(window.location.href);t.searchParams.set(e.V,"1"),this.redirect(t)}setOver18Cookie(){e.N({country:this.country,name:e.X,value:"true",options:e.Q})}async confirmOver18(){e.g()?await e.Y({operation:e.O.UpdateProfileSettings,variables:{input:{isNsfw:!0}}}):this.setOver18Cookie(),this.refreshAndRememberSEO()}render(){return t.x`<slot @click="${this.onClick}" @keypress="${this.onKeyPress}"></slot>`}};r.styles=[e.t],e._([e.n({type:String})],r.prototype,"country",void 0),r=e._([e.e("confirm-over-18")],r)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");
SML.dm("q156d3D57c",["Dw4vb8Yfbm","5r73EsgItq"],(async(e,t)=>{let r=class extends t.s{constructor(){super(...arguments),this.hasDivider=!1,this.render=()=>t.x` <slot name="leading"></slot> <slot></slot> <slot name="trailing"></slot> `}static get styles(){return t.a`:host{align-items:center;box-sizing:border-box;display:flex;font-weight:700;height:var(--rem64);min-height:var(--rem64);padding:0 var(--spacer-md);position:relative;width:100%}:host([has-divider])::after{border-bottom:1px solid var(--color-neutral-border);bottom:0;content:'';position:absolute;inset-inline-end:var(--spacer-md);inset-inline-start:var(--spacer-md)}:host>slot:not([name]){display:flex;flex-grow:1;padding:0 var(--spacer-sm);font-size:1rem}`}};e._([e.n({type:Boolean,reflect:!0,attribute:"has-divider"})],r.prototype,"hasDivider",void 0),r=e._([e.e("faceplate-bottom-sheet-header")],r)}));
SML.dm("uOlAvv4IVq",[],(async()=>{var e;return function(e){e.Feed="FEED",e.Pdp="PDP"}(e||(e={})),{get T(){return e}}}));

SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");
SML.dm("wBWjBlz6KG",["Dw4vb8Yfbm"],(async a=>{const{svg:c}=a.a();return{m:a.m(c`<path d="M8.519 17H4.302a3.3 3.3 0 01-3.3-3.3V6.3a3.3 3.3 0 013.3-3.3h11.4a3.3 3.3 0 013.3 3.3v3.043a9.597 9.597 0 00-1.8-.755V6.957l-1.499 1.33a9.603 9.603 0 00-1.201-.086 9.58 9.58 0 00-1.572.141l3.657-3.245a1.49 1.49 0 00-.885-.296h-11.4c-.332 0-.636.112-.885.296L8.74 9.82c.074.066.155.121.236.173a2.31 2.31 0 00-.763 1.635 3.627 3.627 0 01-.667-.461l-4.744-4.21V13.7c0 .827.673 1.5 1.5 1.5h3.9v.114c0 .607.122 1.166.317 1.686zm5.983-5.2c-.942 0-1.863.219-2.7.639v2.875c0 .924 1.284 2.016 2.7 2.741 1.416-.725 2.7-1.817 2.7-2.741v-2.875a6.022 6.022 0 00-2.7-.639zm0-1.8a7.81 7.81 0 014.259 1.26.54.54 0 01.241.453v3.6c0 2.61-3.499 4.289-4.326 4.649a.425.425 0 01-.348 0c-.827-.36-4.326-2.039-4.326-4.649v-3.6c0-.182.089-.355.241-.453A7.805 7.805 0 0114.502 10z"></path>`,"0 0 20 20","mod-mail",!0)}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./BOFc1KQJc-.js",import.meta.url,"BOFc1KQJc-");SML.di("./C8QDHFSIkY.js",import.meta.url,"C8QDHFSIkY");SML.di("./Z0tk4vmzIQ.js",import.meta.url,"Z0tk4vmzIQ");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");
SML.dm("wlDl99ww9T",["Dw4vb8Yfbm","BOFc1KQJc-","C8QDHFSIkY","Z0tk4vmzIQ","5r73EsgItq"],(async(t,s,e,o,r)=>{let a=class extends r.s{constructor(){super(...arguments),this.status=e.R.Reported,this.pubsub=new t.u(this),this.handlePostUpdate=({postId:t,action:s,value:r})=>{t===this.thingId&&s===o.a.ignoreReports&&(this.status=r?e.R.Ignored:e.R.Dismissed)},this.handleCommentUpdate=({commentId:t,action:o,value:r})=>{t===this.thingId&&o===s.C.ignoreReports&&(this.status=r?e.R.Ignored:e.R.Dismissed)}}connectedCallback(){super.connectedCallback(),this.pubsub.subscribe(t.T.PostUpdated,this.handlePostUpdate),this.pubsub.subscribe(t.T.CommentUpdated,this.handleCommentUpdate)}getStyle(){return t.a6({"--list-icon-color":this.status===e.R.Reported?"var(--shreddit-color-mods-reported-onBackground)":"var(--color-secondary-onBackground)"})}render(){return this.status===e.R.Reported?r.x`<div class="bg-mods-reported-background hover:bg-mods-reported-background-hover" style="${this.getStyle()}"> <slot></slot> </div>`:r.x`<details class="max-w-fit bg-secondary-background hover:bg-secondary-background-hover" style="${this.getStyle()}"> <summary class="cursor-pointer block list-none" @click="${t=>t.stopPropagation()}"> <slot name="${this.status}"></slot> </summary> <slot></slot> </details>`}};a.styles=[r.a`summary::-webkit-details-marker{display:none}`,t.t],t._([t.n({type:String,attribute:"thing-id"})],a.prototype,"thingId",void 0),t._([t.n({type:String})],a.prototype,"status",void 0),a=t._([t.e("reports-summary-wrapper")],a)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./DMVINMWPkT.js",import.meta.url,"DMVINMWPkT");SML.di("./BOFc1KQJc-.js",import.meta.url,"BOFc1KQJc-");SML.di("./C8QDHFSIkY.js",import.meta.url,"C8QDHFSIkY");SML.di("./Z0tk4vmzIQ.js",import.meta.url,"Z0tk4vmzIQ");SML.di("./C5bRok1J9n.js",import.meta.url,"C5bRok1J9n");SML.di("./B7VtDPc4tA.js",import.meta.url,"B7VtDPc4tA");SML.di("./B-zFJtiar6.js",import.meta.url,"B-zFJtiar6");SML.di("./CG8L8PJoXS.js",import.meta.url,"CG8L8PJoXS");SML.di("./ClaQym8zez.js",import.meta.url,"ClaQym8zez");SML.di("./DNuG1KLpV-.js",import.meta.url,"DNuG1KLpV-");
SML.dm("znAVeSwIf_",["Dw4vb8Yfbm","5r73EsgItq","DMVINMWPkT","BOFc1KQJc-","C8QDHFSIkY","Z0tk4vmzIQ","C5bRok1J9n","B7VtDPc4tA","B-zFJtiar6","CG8L8PJoXS","DNuG1KLpV-","ClaQym8zez"],(async(t,e,a,i,o,s,n,r,d,l,h)=>{let c=class extends e.s{constructor(){super(...arguments),this.buttonAppearance="secondary",this.buttonSize=t.q.Small,this.showFullButtons=!1,this.screeenReaderContent="",this.thingId="",this.smartEscalationsTracking=!1,this.isLargerThanSmallWindow=!0,this._handleModActionClick=e=>{this.dataModAction===o.M.AddRemovalReason&&e.stopPropagation(),this.dataModAction&&(this.dispatchEvent(t.c(this.dataModAction)),e.target&&this.noun&&t.i(e.target,t.b({source:"moderator",action:"click",noun:this.noun})))},this.mediaWatcher=null,this.handleMediaChange=t=>{this.isLargerThanSmallWindow=t.matches},this.renderWithTooltip=()=>e.x`<faceplate-tooltip appearance="inverted" position="top"> ${this.renderButton()} <slot name="text"></slot> </faceplate-tooltip>`,this.renderButton=()=>{const a=d.ak()?r.c:t.o,i=this.smartEscalationsTracking?e.x`<ac-track trigger="click" target="prev" san="moderator|click|remove" data-faceplate-tracking-context="${JSON.stringify({action_info:{source_name:"smart-escalations"},...(this.thingId&&l.c(this.thingId) && {post:{id:this.thingId}}),...(this.thingId&&l.d(this.thingId) && {comment:{id:this.thingId}})})}"></ac-track>`:"";return e.x`${a({appearance:this.buttonAppearance,attributes:{onclick:this._handleModActionClick,className:"relative",slot:"trigger","aria-label":this.screeenReaderContent},size:this.buttonSize,children:this.showFullButtons&&this.isLargerThanSmallWindow?e.x` <span> ${i} <slot name="text"></slot> </span> `:"",leadingIcon:this.showFullButtons&&this.isLargerThanSmallWindow?"":e.x` <span class="flex justify-center items-center"> <slot name="icon"></slot> </span> `})} ${i}`}}connectedCallback(){super.connectedCallback(),this.showFullButtons&&(this.mediaWatcher=window.matchMedia("(min-width: 768px)"),this.mediaWatcher.addEventListener("change",this.handleMediaChange))}disconnectedCallback(){super.disconnectedCallback(),this.mediaWatcher?.removeEventListener("change",this.handleMediaChange)}render(){return this.showFullButtons?this.renderButton():this.renderWithTooltip()}};c.styles=[t.t],t._([t.n({type:String,attribute:"data-mod-action"})],c.prototype,"dataModAction",void 0),t._([t.n({type:String,attribute:"event-noun"})],c.prototype,"noun",void 0),t._([t.n({type:String,attribute:"button-appearance"})],c.prototype,"buttonAppearance",void 0),t._([t.n({type:String,attribute:"button-size"})],c.prototype,"buttonSize",void 0),t._([t.n({type:Boolean,attribute:"show-full-buttons"})],c.prototype,"showFullButtons",void 0),t._([t.n({type:String,attribute:"screen-reader-content"})],c.prototype,"screeenReaderContent",void 0),t._([t.n({type:String,attribute:"thing-id"})],c.prototype,"thingId",void 0),t._([t.n({type:Boolean,attribute:"smart-escalations-tracking"})],c.prototype,"smartEscalationsTracking",void 0),t._([t.h()],c.prototype,"isLargerThanSmallWindow",void 0),c=t._([t.e("mod-action-button")],c);let m=class extends e.s{constructor(){super(...arguments),this.iconOnly=!1,this.pubsub=new t.u(this),this.handleCommentUpdate=({commentId:t,action:e,value:a})=>{if(t===this.thingId)switch(e){case i.C.addRemovalReason:this.hasRemovalReason=Boolean(a);break;case i.C.approve:case i.C.approveOptimistic:this.hasRemovalReason=!0,this.isRemoved=!1;break;case i.C.remove:case i.C.removeAsSpam:case i.C.removeOptimistic:case i.C.removeAsSpamOptimistic:case i.C.confirmRemovalOptimistic:this.hasRemovalReason=!1,this.isRemoved=!0}},this.handlePostUpdate=({postId:t,action:e,value:a})=>{if(t===this.thingId)switch(e){case s.a.addRemovalReason:this.hasRemovalReason=Boolean(a);break;case s.a.approve:case s.a.approveOptimistic:this.hasRemovalReason=!0,this.isRemoved=!1;break;case s.a.remove:case s.a.removeAsSpam:case s.a.removeOptimistic:case s.a.removeAsSpamOptimistic:case s.a.confirmRemovalOptimistic:this.isRemoved=!0,this.hasRemovalReason=!1}},this.updateModVerdict=t=>{const e=this.closest('[slot="mod-verdict"]');t&&this.isRemoved?e?.setAttribute("show-removal-reason-cta",""):e?.removeAttribute("show-removal-reason-cta")},this.shouldShowCta=()=>{const t=this.isRemoved?n.M.REMOVED:n.M.UNMODERATED;return n.s(t,!!this.hasRemovalReason,!!this.isContentSpamFilteredPost,this.isProfilePost)}}connectedCallback(){super.connectedCallback();const e=h.g(this);this.resizeObserver=new ResizeObserver((t=>{for(const e of t)e.contentRect.width<500?this.iconOnly=!0:this.iconOnly=!1})),e&&this.resizeObserver.observe(e),this.pubsub.subscribe(t.T.CommentUpdated,this.handleCommentUpdate),this.pubsub.subscribe(t.T.PostUpdated,this.handlePostUpdate),this.updateModVerdict(!this.hasRemovalReason)}disconnectedCallback(){super.disconnectedCallback();const t=h.g(this);t&&this.resizeObserver.unobserve(t),this.resizeObserver.disconnect()}updated(t){super.updated(t),t.has("hasRemovalReason")&&this.updateModVerdict(!this.hasRemovalReason)}render(){return this.hasRemovalReason||!this.shouldShowCta()?e.A:e.x` <mod-action-button screen-reader-content="${"Add removal reason"}" data-mod-action="${o.M.AddRemovalReason}" button-appearance="secondary" ?show-full-buttons="${!0}"> <span slot="icon" class="flex justify-center"> ${a.a({attributes:{"aria-hidden":"true"},size:e.I.Small})} </span> <span slot="text" class="flex"> ${this.iconOnly?a.a({attributes:{"aria-hidden":"true"},size:e.I.Small}):"Add removal reason"} </span> </mod-action-button> `;}};m.styles=[t.t],t._([t.n({type:String,attribute:"thing-id"})],m.prototype,"thingId",void 0),t._([t.n({type:Boolean,attribute:"has-removal-reason"})],m.prototype,"hasRemovalReason",void 0),t._([t.h()],m.prototype,"iconOnly",void 0),t._([t.n({type:Boolean,attribute:"is-removed"})],m.prototype,"isRemoved",void 0),t._([t.n({type:Boolean,attribute:"is-content-spam-filtered-post"})],m.prototype,"isContentSpamFilteredPost",void 0),t._([t.n({type:Boolean,attribute:"is-profile-post"})],m.prototype,"isProfilePost",void 0),m=t._([t.e("responsive-add-removal-reason-cta")],m)}));