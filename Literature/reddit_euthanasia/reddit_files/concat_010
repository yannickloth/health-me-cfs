SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./DFgwjk6Rt3.js",import.meta.url,"DFgwjk6Rt3");SML.di("./BskNjLbli-.js",import.meta.url,"BskNjLbli-");
SML.dm("56Dbwv-SJ6",["Dw4vb8Yfbm","5r73EsgItq","DFgwjk6Rt3","BskNjLbli-"],(async(e,t,r,n)=>{let o=class extends t.s{constructor(){super(...arguments),this.pubsub=new e.u(this),this._activateFeature=async t=>e.r(t),this.openCTL=async({authorName:t,thingId:r,userDetailType:n})=>{const o=n?{userDetailType:n}:void 0;await this._activateFeature({name:e.bF,renderMode:e.P.Contents,routeParams:{authorName:t,thingId:r},queryParams:{...o}})}}connectedCallback(){super.connectedCallback(),this.pubsub.subscribe(e.T.CTLReportInit,this.openCTL,!1)}render(){return t.x`<slot></slot>`}};o=e._([e.e("ctl-reporting-provider")],o);let a=class extends t.s{constructor(){super(...arguments),this.closeCTLModal=()=>{this.ctlModal?.hide(),this.dispatchEvent(e.c("report-flow-close"))}}get ctlModal(){return document.querySelector("rpl-dialog#ctl-report-content-modal")}get ctlModalContents(){return document.querySelector("#ctl-report-content-modal rpl-modal-card")}};a=e._([e.e("base-ctl-component")],a);let i=class extends a{constructor(){super(...arguments),this.requestClientGQL=e.Y,this.showThankYou=()=>{const t=e.c("shreddit-slotter-set-slot-name",{slotName:"thankyou"});this.ctlModalContents?.querySelector("shreddit-slotter")?.dispatchEvent(t)},this.reportRequest=async(e,t)=>{const n=r.g[e];if(!n)throw new Error("No corresponding gql operation for the item type provided");try{const e=await this.requestClientGQL({operation:n,variables:{input:t}});return r.c(e)?e:void 0}catch(e){throw new Error("Error calling the gql report operation")}},this.submitCTLReport=async()=>{if(!this.thingId)return;const t=r.a(this.thingId);try{const o=r.b({itemType:t,formValues:{REPORT_REASONS:"SELF_HARM",...(this.userDetailType ? {USER_DETAILS:this.userDetailType} : {})},thingId:this.thingId});if(!(await this.reportRequest(t,o)))throw new Error;this.showThankYou(),this.dispatchEvent(e.c("report-tracking",{reportFlow:{flowOptionSelected:n.F.REDDITCARES_BUTTON}}))}catch(t){this.dispatchEvent(e.c("faceplate-alert",{level:e.a5.error,cause:"uncategorized",message:"An error occurred while submitting your report. Wait a bit, and try again."}))}}}render(){return t.x`<slot></slot>`}};e._([e.n({type:String,attribute:"author-name"})],i.prototype,"authorName",void 0),e._([e.n({type:String,attribute:"thing-id"})],i.prototype,"thingId",void 0),e._([e.n({type:String,attribute:"user-detail-type"})],i.prototype,"userDetailType",void 0),i=e._([e.e("ctl-step-one")],i);let s=class extends a{constructor(){super(...arguments),this.firstUpdated=()=>{this.okButton?.addEventListener("click",this.closeCTLModal)}}get okButton(){return this.querySelector("#ctl-ok-button")}render(){return t.x`<slot></slot>`}};s=e._([e.e("ctl-step-two")],s)}));
SML.dm("Af-MWsPOE9",[],(async()=>{var e,r;return function(e){e.Succeeded="Succeeded",e.Cancelled="Cancelled",e.Error="Error"}(e||(e={})),function(e){e.Devvit="Devvit",e.Default="Default"}(r||(r={})),{get C(){return e},get P(){return r},p:function(e){return Object.hasOwn(e,"productID")}}}));

SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./BiwsnqFrfJ.js",import.meta.url,"BiwsnqFrfJ");SML.di("./CRJVLkmEl4.js",import.meta.url,"CRJVLkmEl4");SML.di("./C2shG7KbRT.js",import.meta.url,"C2shG7KbRT");SML.di("./56Dbwv-SJ6.js",import.meta.url,"56Dbwv-SJ6");SML.di("./D_6DXw1u0k.js",import.meta.url,"D_6DXw1u0k");SML.di("./Bk8sRXhdir.js",import.meta.url,"Bk8sRXhdir");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./Af-MWsPOE9.js",import.meta.url,"Af-MWsPOE9");SML.di("./P3i_qibcRb.js",import.meta.url,"P3i_qibcRb");SML.di("./zr4sr72Mpl.js",import.meta.url,"zr4sr72Mpl");SML.di("./DCbB57ubLb.js",import.meta.url,"DCbB57ubLb");SML.di("./CEs3hLX56z.js",import.meta.url,"CEs3hLX56z");SML.di("./B-zFJtiar6.js",import.meta.url,"B-zFJtiar6");SML.di("./CpZ44pmnxI.js",import.meta.url,"CpZ44pmnxI");SML.di("./FQGvCwaizg.js",import.meta.url,"FQGvCwaizg");SML.di("./BIzQFHISzm.js",import.meta.url,"BIzQFHISzm");SML.di("./DfOK659qrU.js",import.meta.url,"DfOK659qrU");SML.di("./DOqOHj9jA9.js",import.meta.url,"DOqOHj9jA9");SML.di("./jWC3N3n7Al.js",import.meta.url,"jWC3N3n7Al");SML.di("./BRjrtOukap.js",import.meta.url,"BRjrtOukap");SML.di("./BwcUp7XlaC.js",import.meta.url,"BwcUp7XlaC");SML.di("./BwcMg3lXAs.js",import.meta.url,"BwcMg3lXAs");SML.di("./DnNITwgp90.js",import.meta.url,"DnNITwgp90");SML.di("./BG4Zfdq4kN.js",import.meta.url,"BG4Zfdq4kN");SML.di("./Ctcf-FPPNG.js",import.meta.url,"Ctcf-FPPNG");SML.di("./BtqmVQuPYp.js",import.meta.url,"BtqmVQuPYp");SML.di("./BLrhRle6xP.js",import.meta.url,"BLrhRle6xP");SML.di("./CPSOeCrm6v.js",import.meta.url,"CPSOeCrm6v");SML.di("./C3-eAP6Oln.js",import.meta.url,"C3-eAP6Oln");SML.di("./DMGDObG7XA.js",import.meta.url,"DMGDObG7XA");SML.di("./Dw4K28bgT7.js",import.meta.url,"Dw4K28bgT7");SML.di("./CQMf561ZyA.js",import.meta.url,"CQMf561ZyA");SML.di("./B0p6XlbwHt.js",import.meta.url,"B0p6XlbwHt");SML.di("./BuM34fxA_u.js",import.meta.url,"BuM34fxA_u");SML.di("./eY7T41bKac.js",import.meta.url,"eY7T41bKac");SML.di("./BYzqEZ3uv3.js",import.meta.url,"BYzqEZ3uv3");SML.di("./Cv4mWnWE30.js",import.meta.url,"Cv4mWnWE30");SML.di("./Bb6e8s2O1k.js",import.meta.url,"Bb6e8s2O1k");SML.di("./D1DY-avSiT.js",import.meta.url,"D1DY-avSiT");SML.di("./Bu440t6XLo.js",import.meta.url,"Bu440t6XLo");SML.di("./BeFppRYbzE.js",import.meta.url,"BeFppRYbzE");SML.di("./BSYfFtBeKH.js",import.meta.url,"BSYfFtBeKH");SML.di("./CsrbxKoUKW.js",import.meta.url,"CsrbxKoUKW");SML.di("./B6Ai7g9fbR.js",import.meta.url,"B6Ai7g9fbR");SML.di("./pA9dwrnd0r.js",import.meta.url,"pA9dwrnd0r");SML.di("./_C4HT6j0ig.js",import.meta.url,"_C4HT6j0ig");SML.di("./DHw9yEcfFd.js",import.meta.url,"DHw9yEcfFd");SML.di("./av6qvYZJJ7.js",import.meta.url,"av6qvYZJJ7");SML.di("./jFB0DOsi41.js",import.meta.url,"jFB0DOsi41");SML.di("./BQbrDNllG4.js",import.meta.url,"BQbrDNllG4");SML.di("./DoSzdRrY_z.js",import.meta.url,"DoSzdRrY_z");SML.di("./ankOzFFj6Q.js",import.meta.url,"ankOzFFj6Q");SML.di("./CPaQMySnHh.js",import.meta.url,"CPaQMySnHh");SML.di("./kRpPw7movd.js",import.meta.url,"kRpPw7movd");SML.di("./D-ibjVaztZ.js",import.meta.url,"D-ibjVaztZ");SML.di("./CIOo61duNV.js",import.meta.url,"CIOo61duNV");SML.di("./M-CiwvFL1u.js",import.meta.url,"M-CiwvFL1u");SML.di("./cg7FPmv2fT.js",import.meta.url,"cg7FPmv2fT");SML.di("./CBbxnHsw2W.js",import.meta.url,"CBbxnHsw2W");SML.di("./DSh0Ye202d.js",import.meta.url,"DSh0Ye202d");SML.di("./DflF56Kkuz.js",import.meta.url,"DflF56Kkuz");SML.di("./B0pL5bhFHV.js",import.meta.url,"B0pL5bhFHV");SML.di("./DFgwjk6Rt3.js",import.meta.url,"DFgwjk6Rt3");SML.di("./BskNjLbli-.js",import.meta.url,"BskNjLbli-");
SML.di("./BiwsnqFrfJ.js",import.meta.url,"BiwsnqFrfJ");SML.di("./CRJVLkmEl4.js",import.meta.url,"CRJVLkmEl4");SML.di("./CBbxnHsw2W.js",import.meta.url,"CBbxnHsw2W");SML.di("./DfOK659qrU.js",import.meta.url,"DfOK659qrU");SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./Af-MWsPOE9.js",import.meta.url,"Af-MWsPOE9");SML.di("./P3i_qibcRb.js",import.meta.url,"P3i_qibcRb");SML.di("./zr4sr72Mpl.js",import.meta.url,"zr4sr72Mpl");SML.di("./DCbB57ubLb.js",import.meta.url,"DCbB57ubLb");SML.di("./CEs3hLX56z.js",import.meta.url,"CEs3hLX56z");SML.di("./B-zFJtiar6.js",import.meta.url,"B-zFJtiar6");SML.di("./CpZ44pmnxI.js",import.meta.url,"CpZ44pmnxI");SML.di("./FQGvCwaizg.js",import.meta.url,"FQGvCwaizg");SML.di("./BIzQFHISzm.js",import.meta.url,"BIzQFHISzm");SML.di("./BwcUp7XlaC.js",import.meta.url,"BwcUp7XlaC");SML.di("./BwcMg3lXAs.js",import.meta.url,"BwcMg3lXAs");SML.di("./DnNITwgp90.js",import.meta.url,"DnNITwgp90");SML.di("./jWC3N3n7Al.js",import.meta.url,"jWC3N3n7Al");SML.di("./BG4Zfdq4kN.js",import.meta.url,"BG4Zfdq4kN");SML.di("./Ctcf-FPPNG.js",import.meta.url,"Ctcf-FPPNG");SML.di("./BtqmVQuPYp.js",import.meta.url,"BtqmVQuPYp");SML.di("./BLrhRle6xP.js",import.meta.url,"BLrhRle6xP");SML.di("./CPSOeCrm6v.js",import.meta.url,"CPSOeCrm6v");SML.di("./C3-eAP6Oln.js",import.meta.url,"C3-eAP6Oln");SML.di("./DMGDObG7XA.js",import.meta.url,"DMGDObG7XA");SML.di("./Dw4K28bgT7.js",import.meta.url,"Dw4K28bgT7");SML.di("./CQMf561ZyA.js",import.meta.url,"CQMf561ZyA");SML.di("./B0p6XlbwHt.js",import.meta.url,"B0p6XlbwHt");SML.di("./BuM34fxA_u.js",import.meta.url,"BuM34fxA_u");SML.di("./eY7T41bKac.js",import.meta.url,"eY7T41bKac");SML.di("./BYzqEZ3uv3.js",import.meta.url,"BYzqEZ3uv3");SML.di("./Cv4mWnWE30.js",import.meta.url,"Cv4mWnWE30");SML.di("./Bb6e8s2O1k.js",import.meta.url,"Bb6e8s2O1k");SML.di("./D1DY-avSiT.js",import.meta.url,"D1DY-avSiT");SML.di("./Bu440t6XLo.js",import.meta.url,"Bu440t6XLo");SML.di("./BeFppRYbzE.js",import.meta.url,"BeFppRYbzE");SML.di("./BSYfFtBeKH.js",import.meta.url,"BSYfFtBeKH");SML.di("./CsrbxKoUKW.js",import.meta.url,"CsrbxKoUKW");SML.di("./B6Ai7g9fbR.js",import.meta.url,"B6Ai7g9fbR");SML.di("./pA9dwrnd0r.js",import.meta.url,"pA9dwrnd0r");SML.di("./_C4HT6j0ig.js",import.meta.url,"_C4HT6j0ig");SML.di("./DHw9yEcfFd.js",import.meta.url,"DHw9yEcfFd");SML.di("./av6qvYZJJ7.js",import.meta.url,"av6qvYZJJ7");SML.di("./jFB0DOsi41.js",import.meta.url,"jFB0DOsi41");SML.di("./BQbrDNllG4.js",import.meta.url,"BQbrDNllG4");SML.di("./DoSzdRrY_z.js",import.meta.url,"DoSzdRrY_z");SML.di("./ankOzFFj6Q.js",import.meta.url,"ankOzFFj6Q");SML.di("./CPaQMySnHh.js",import.meta.url,"CPaQMySnHh");SML.di("./kRpPw7movd.js",import.meta.url,"kRpPw7movd");SML.di("./D_6DXw1u0k.js",import.meta.url,"D_6DXw1u0k");SML.di("./Bk8sRXhdir.js",import.meta.url,"Bk8sRXhdir");SML.di("./D-ibjVaztZ.js",import.meta.url,"D-ibjVaztZ");SML.di("./CIOo61duNV.js",import.meta.url,"CIOo61duNV");SML.di("./DOqOHj9jA9.js",import.meta.url,"DOqOHj9jA9");SML.di("./M-CiwvFL1u.js",import.meta.url,"M-CiwvFL1u");SML.di("./cg7FPmv2fT.js",import.meta.url,"cg7FPmv2fT");SML.di("./DSh0Ye202d.js",import.meta.url,"DSh0Ye202d");SML.di("./BRjrtOukap.js",import.meta.url,"BRjrtOukap");
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./Cm2L3DO-TZ.js",import.meta.url,"Cm2L3DO-TZ");SML.di("./BAPJODHRV4.js",import.meta.url,"BAPJODHRV4");SML.di("./B-zFJtiar6.js",import.meta.url,"B-zFJtiar6");SML.di("./GxwtOiBQtr.js",import.meta.url,"GxwtOiBQtr");SML.di("./Bhqw9RZy0G.js",import.meta.url,"Bhqw9RZy0G");SML.di("./BtqmVQuPYp.js",import.meta.url,"BtqmVQuPYp");
SML.dm("Bb-Nx2fq2f",["Dw4vb8Yfbm","5r73EsgItq","Cm2L3DO-TZ","BAPJODHRV4","B-zFJtiar6","GxwtOiBQtr","BtqmVQuPYp","Bhqw9RZy0G"],(async(e,t,r,a,n,s,i)=>{let o=class extends t.s{constructor(){super(...arguments),this.isVisible=!1,this.alertMessage="",this.isDevelopment=!1,this.appearance="plain",this.openBanner=t=>{const r=t;this.alert=r.detail;const{level:a=e.a5.none}=this.alert,n="Server error. Try again later.",s=this.alert?.content??this.alert?.message??n;switch(a){case e.a5.emergency:case e.a5.alert:case e.a5.critical:case e.a5.error:this.appearance="error";break;case e.a5.warning:case e.a5.notice:this.appearance="caution";break;case e.a5.success:this.appearance="success";break;default:this.appearance="plain"}const i=`Multiple errors occured, including: ${s}`;a<=e.a5.success||this.isDevelopment?this.isVisible?this.alertMessage=this.isDevelopment?i:n:(this.alertMessage=s,this.isVisible=!0):this.isVisible=!1},this.closeBanner=()=>{this.isVisible=!1}}connectedCallback(){super.connectedCallback(),this.addEventListener("show-banner",this.openBanner)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("show-banner",this.openBanner)}render(){return t.x`${this.isVisible?t.x`<faceplate-banner class="z-5 pointer-events-auto w-full rounded-none l:rounded-[0.75rem] xl:rounded-[0.75rem] overflow-hidden l:mt-md l:mx-auto l:max-w-[1352px] xl:max-w-[1524px]" appearance="${this.appearance}" shape="square" msg="${e.ad(this.alertMessage)}" aria-live="polite" dismissible><div slot="leadingIcon"> ${this.alert?.namedContent?.icon?this.alert.namedContent.icon:a.w()} </div> <span slot="closeButton"> ${n.bM("error",{"aria-label":"close error button",onclick:this.closeBanner})} </span> </faceplate-banner>`:t.A}<slot></slot>`}};o.styles=[e.t],e._([e.h()],o.prototype,"isVisible",void 0),e._([e.h()],o.prototype,"alertMessage",void 0),o=e._([e.e("banner-controller")],o);let l=class extends t.s{constructor(){super(...arguments),this.ariaLive="polite",this._gesture=new i.T(this,{mouseSupport:!0}),this.handleToast=t=>{const r=t.detail,a={...r,meta:{...r.meta},namedContent:{...r.namedContent}},{level:n,namedContent:i,meta:o}=a;i.action??(i.action=e.o({attributes:{onclick:()=>l.dismiss()},appearance:"plainInverted",leadingIcon:e.al()}));const l=s.r(this,a);n&&n>=e.a5.warning&&n<=e.a5.success&&!o?.disableAutoDismiss&&window.setTimeout((()=>{l.dismiss()}),o?.duration??4e3),this.appendChild(l)}}static get styles(){return t.a`:host{position:fixed}:host>slot{display:flex;flex-direction:column;gap:var(--spacer-md);align-items:center;position:fixed;left:50%;transform:translateX(-50%);padding:0 1rem;bottom:var(--rem16)}`}connectedCallback(){super.connectedCallback(),this.addEventListener("show-toast",this.handleToast),this._gesture.on("swipeleft",this._onSwipe),this._gesture.on("swiperight",this._onSwipe)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("show-toast",this.handleToast),this._gesture.destroy()}_onSwipe(e){if(e instanceof MouseEvent)return;const t=e.target instanceof HTMLElement?e.target:null,r=t?.closest("faceplate-toast");r instanceof s.F&&r.dismiss()}render(){return t.x`<slot></slot>`}};e._([e.n({type:String,reflect:!0,attribute:"aria-live"})],l.prototype,"ariaLive",void 0),l=e._([e.e("toaster-lite")],l);let c=class extends t.s{constructor(){super(...arguments),this.ariaLive="polite",this.min=e.a5.error,this.max=e.a5.success,this.BATCH_TIMEOUT=100,this._alertsCtrl=new n.A(this,{batchWindow:this.BATCH_TIMEOUT,onAlert:n=>{const{level:s=e.a5.none}=n;if(n.namedContent=n.namedContent||{},"string"==typeof n.namedContent.iconTemplateId){const e=document.querySelector(n.namedContent.iconTemplateId);e&&(n.namedContent.icon=e.content.cloneNode(!0))}if(!n.namedContent.icon)switch(s){case e.a5.emergency:case e.a5.alert:case e.a5.critical:case e.a5.error:n.namedContent.icon=r.e({size:t.I.Large});break;case e.a5.warning:case e.a5.notice:n.namedContent.icon=a.w({size:t.I.Large})}if("string"==typeof n.namedContent.actionTemplateId){const e=document.querySelector(n.namedContent.actionTemplateId);e&&(n.namedContent.action=e.content.cloneNode(!0))}if(s<=e.a5.error)return this._trackEvent(n,"banner"),this.triggerBanner(n);this._trackEvent(n,"toast"),this.triggerToast(n)},isOnline:()=>!0}),this._trackEvent=(t,r)=>{e.i(this,e.b({source:"client",action:"record",noun:"alert"},{action_info:{feature:t.sourceElement||"unknown",reason:t.cause||t.message||"unknown",setting_value:`${t.level??"unknown"}`,type:r}}))},this.triggerToast=t=>{this.toaster?.dispatchEvent(e.c("show-toast",t))},this.triggerBanner=t=>{this.bannerController?.dispatchEvent(e.c("show-banner",t))}}connectedCallback(){super.connectedCallback(),this._alertsCtrl.options.min=this.min,this._alertsCtrl.options.max=this.max}render(){return t.x` <banner-controller></banner-controller> <toaster-lite></toaster-lite> `}};c.styles=[t.a`:host{position:fixed;width:100%}`,e.t],e._([e.n({type:String,reflect:!0,attribute:"aria-live"})],c.prototype,"ariaLive",void 0),e._([e.n({attribute:"min",converter:e.aD})],c.prototype,"min",void 0),e._([e.n({attribute:"max",converter:e.aD})],c.prototype,"max",void 0),e._([e.a2("banner-controller")],c.prototype,"bannerController",void 0),e._([e.a2("toaster-lite")],c.prototype,"toaster",void 0),c=e._([e.e("alert-controller")],c)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./Af-MWsPOE9.js",import.meta.url,"Af-MWsPOE9");SML.di("./P3i_qibcRb.js",import.meta.url,"P3i_qibcRb");SML.di("./zr4sr72Mpl.js",import.meta.url,"zr4sr72Mpl");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./CEs3hLX56z.js",import.meta.url,"CEs3hLX56z");SML.di("./CpZ44pmnxI.js",import.meta.url,"CpZ44pmnxI");SML.di("./BIzQFHISzm.js",import.meta.url,"BIzQFHISzm");SML.di("./B-zFJtiar6.js",import.meta.url,"B-zFJtiar6");SML.di("./DfOK659qrU.js",import.meta.url,"DfOK659qrU");SML.di("./BwcUp7XlaC.js",import.meta.url,"BwcUp7XlaC");SML.di("./jWC3N3n7Al.js",import.meta.url,"jWC3N3n7Al");SML.di("./BG4Zfdq4kN.js",import.meta.url,"BG4Zfdq4kN");SML.di("./Ctcf-FPPNG.js",import.meta.url,"Ctcf-FPPNG");SML.di("./Dw4K28bgT7.js",import.meta.url,"Dw4K28bgT7");SML.di("./CPSOeCrm6v.js",import.meta.url,"CPSOeCrm6v");SML.di("./C3-eAP6Oln.js",import.meta.url,"C3-eAP6Oln");SML.di("./CQMf561ZyA.js",import.meta.url,"CQMf561ZyA");SML.di("./B0p6XlbwHt.js",import.meta.url,"B0p6XlbwHt");SML.di("./BuM34fxA_u.js",import.meta.url,"BuM34fxA_u");SML.di("./D1DY-avSiT.js",import.meta.url,"D1DY-avSiT");SML.di("./BSYfFtBeKH.js",import.meta.url,"BSYfFtBeKH");SML.di("./CsrbxKoUKW.js",import.meta.url,"CsrbxKoUKW");SML.di("./B6Ai7g9fbR.js",import.meta.url,"B6Ai7g9fbR");SML.di("./pA9dwrnd0r.js",import.meta.url,"pA9dwrnd0r");SML.di("./_C4HT6j0ig.js",import.meta.url,"_C4HT6j0ig");SML.di("./av6qvYZJJ7.js",import.meta.url,"av6qvYZJJ7");SML.di("./jFB0DOsi41.js",import.meta.url,"jFB0DOsi41");SML.di("./ankOzFFj6Q.js",import.meta.url,"ankOzFFj6Q");SML.di("./CPaQMySnHh.js",import.meta.url,"CPaQMySnHh");SML.di("./kRpPw7movd.js",import.meta.url,"kRpPw7movd");
SML.dm("BiwsnqFrfJ",["Dw4vb8Yfbm","Af-MWsPOE9","P3i_qibcRb","zr4sr72Mpl","5r73EsgItq","CEs3hLX56z","BIzQFHISzm","B-zFJtiar6","jWC3N3n7Al","BG4Zfdq4kN","Ctcf-FPPNG","Dw4K28bgT7","CPSOeCrm6v","C3-eAP6Oln","CQMf561ZyA","CsrbxKoUKW","B6Ai7g9fbR","pA9dwrnd0r","CPaQMySnHh","kRpPw7movd","CpZ44pmnxI","DfOK659qrU","BwcUp7XlaC","B0p6XlbwHt","BuM34fxA_u","D1DY-avSiT","BSYfFtBeKH","_C4HT6j0ig","av6qvYZJJ7","jFB0DOsi41","ankOzFFj6Q"],(async(e,t,i,a,r,s,o,n,l,d,c,u,p,h,m,f,v,b,w,g)=>{var E,T=function(e,t,i,a,r){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?r.call(e,i):r?r.value=i:t.set(e,i),i},k=function(e,t,i,a){if("a"===i&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?a:"a"===i?a.call(e):a?a.value:t.get(e)};class _{constructor(e){E.set(this,void 0),this.host=e,T(this,E,this.onEvent.bind(this),"f"),e.addController(this)}hostConnected(){this.host.addEventListener("devvit-ui-effect",k(this,E,"f"))}hostDisconnected(){this.host.removeEventListener("devvit-ui-effect",k(this,E,"f"))}}function I(e,t){const{windowTop:i,postMessageHostOrigin:a}=e;(i||a)&&i.postMessage(t,a)}function S(e){window.Sentry?.captureMessage?.(e)}E=new WeakMap;function y(e){return `useChannel:${e.replace(/^.+:/,"")}`;}const N=async e=>{try{const t=await fetch("https://gql-realtime.reddit.com/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!t.ok){const e=await t.text();throw (S(`GQL realtime mutation failed with status ${t.status}: ${e}`), new Error(e))}return t.json()}catch(e){throw (S(`Failed to send realtime event: ${e}`), e)}};var R,D,P,C,O,A,U,M,$,L;class V extends _{constructor(t,i,a){super(t),R.add(this),this._channels=Object.create(null),this._enabled=!1,this._sendListenerAttached=!1,this._connections={},this._channelEventHandlers={},A.set(this,(async t=>{const{channel:i,data:a}=t.detail.event;if(!this._enabled)throw Error("realtime channel not connected");if(!(i in this._channels))throw Error(`realtime ${i} subscription required to send`);try{const t=e.d(this,R,"m",M).call(this,i);globalThis.devvit?.debug.realtime&&console.log(`[realtime] ${t} sends`,a),await(async(e,t)=>{await N({query:"\n        mutation publish($input: PublishInput!) {\n          publish(input: $input) {\n            ok\n          }\n        }\n      ",variables:{input:{channel:{teamOwner:"DEV_PLATFORM",category:"DEV_PLATFORM_APP_EVENTS",tag:e},DevPlatformAppMessageData:{payload:t}}}})})(t,a)}catch(e){S(`[realtime] onSendSock() failed: ${e}`)}})),this._appSlug=i,this._installationId=a,globalThis.devvit?.debug.realtime&&console.debug("[realtime] initialized",{appSlug:this._appSlug,installationId:this._installationId})}hostDisconnected(){super.hostDisconnected(),this.disable();for(const t in this._channels)e.d(this,R,"m",U).call(this,t)}onEvent(t){if(!("realtimeSubscriptions"in t.detail.effect)||!t.detail.effect.realtimeSubscriptions)return;if(t.detail.effect.type!==a.E.EFFECT_REALTIME_SUB)return;if(!this._enabled)throw Error("realtime permission required to un/subscribe");const i=new Set(t.detail.effect.realtimeSubscriptions.subscriptionIds);for(const a of i)this._channels[a]||e.d(this,R,"m",D).call(this,a,t.detail.onEvent);for(const a in this._channels)i.has(a)||e.d(this,R,"m",P).call(this,a,t.detail.onEvent)}enable(){if(!this._enabled){e.d(this,R,"m",$).call(this);for(const t in this._channels)"Disconnected"===this._channels[t]&&e.d(this,R,"m",C).call(this,t);this._enabled=!0}}disable(){if(this._enabled){e.d(this,R,"m",L).call(this);for(const t in this._channels)"Connected"===this._channels[t]&&e.d(this,R,"m",O).call(this,t);this._enabled=!1}}}A=new WeakMap,R=new WeakSet,D=function(t,i){"Connected"!==this._channels[t]&&(this._channelEventHandlers[t]=i,e.d(this,R,"m",C).call(this,t),i?.({scope:a.U.ALL,hook:y(t),realtimeEvent:{event:{channel:t},status:a.R.REALTIME_SUBSCRIBED}}))},P=function(t,i){"Connected"===this._channels[t]&&e.d(this,R,"m",O).call(this,t),"Disconnected"===this._channels[t]&&(i?.({scope:a.U.ALL,hook:y(t),realtimeEvent:{event:{channel:t},status:a.R.REALTIME_UNSUBSCRIBED}}),e.d(this,R,"m",U).call(this,t)),delete this._channelEventHandlers[t],globalThis.devvit?.debug.realtime&&console.debug(`[realtime] ${t} unsubscribed`)},C=function(t){var i;const r=this._channelEventHandlers[t];if(!r)return;const s=e.d(this,R,"m",M).call(this,t);(i=this._connections)[s]??(i[s]=new e.cP(this.host));this._connections[s].subscribe(((e,t,i)=>({query:{operationName:"SubscribeSubscription",query:"\n        subscription SubscribeSubscription($input: SubscribeInput!) {\n          subscribe(input: $input) {\n            id\n            ... on BasicMessage {\n              data {\n                ... on DevPlatformAppMessageData {\n                  payload\n                }\n              }\n            }\n          }\n        }\n      ",variables:{input:{channel:{teamOwner:"DEV_PLATFORM",category:"DEV_PLATFORM_APP_EVENTS",tag:e}}}},onData:i=>{i.data&&t?.({hook:y(e),realtimeEvent:{event:{data:i.data.subscribe.data.payload,channel:e}},scope:a.U.LOCAL})},onClose:t=>{t&&(S(`[realtime] connection error for ${e}: ${t}`),i?.(t))},reconnectOnClose:!0}))(s,r,(e=>{this._channels[t]="Disconnected",r?.({scope:a.U.ALL,hook:y(t),realtimeEvent:{event:{channel:t,data:e?{error:String(e)}:void 0},status:a.R.REALTIME_UNSUBSCRIBED}}),this.host.dispatchEvent(a.B("devvit-init-event",{success:!1,failStep:"realtime_subscription_fail",error:e instanceof Error?e.message:String(e)})),globalThis.devvit?.debug.realtime&&console.error(`[realtime] ${s} connection failed:`,e)}))),this._channels[t]="Connected",globalThis.devvit?.debug.realtime&&console.debug(`[realtime] ${s} connected`)},O=function(t){const i=e.d(this,R,"m",M).call(this,t);this._connections[i]?.unsubscribe(),this._channels[t]="Disconnected",globalThis.devvit?.debug.realtime&&console.debug(`[realtime] ${i} disconnected`)},U=function(t){const i=e.d(this,R,"m",M).call(this,t);delete this._connections[i],delete this._channelEventHandlers[t],delete this._channels[t]},M=function(e){return e.startsWith(`${this._appSlug}:${this._installationId}:`)?e:`${this._appSlug}:${this._installationId}:${e}`},$=function(){this._sendListenerAttached||(this.host.addEventListener("devvit-realtime-send",e.d(this,A,"f")),this._sendListenerAttached=!0)},L=function(){this._sendListenerAttached&&(this.host.removeEventListener("devvit-realtime-send",e.d(this,A,"f")),this._sendListenerAttached=!1)};class x extends _{constructor(){super(...arguments),this._activateFeature=e.r,this._appConsentStatusCache={}}onEvent(e){if(!e.detail.effect.canRunAsUser)return;const{appSlug:t,subredditId:i,postId:a}=e.detail.effect.canRunAsUser;if(!a)return;const r=t&&i?`${t}_${i}`:a;this._appConsentStatusCache[r]?e.detail.onEvent({consentStatus:{consentStatus:this._appConsentStatusCache[r]}}):this._showDialog({postId:a,onEvent:t=>{const i=t?.consentStatus?.consentStatus;i!==g.C.GRANTED&&i!==g.C.REVOKED||(this._appConsentStatusCache[r]=i),e.detail.onEvent(t)}})}async _showDialog({postId:t,onEvent:i}){await this._activateFeature({name:e.k8,routeParams:{postId:t},renderMode:e.P.Contents});const a=document.querySelector(`devvit-app-permissions-consent-dialog[post-id="${t}"]`);if(a)a.showModal(),a.onEvent=i;else{const e=document.querySelector(`devvit-app-permissions-consent-error-dialog[post-id="${t}"]`);e&&(e.showModal(),e.onEvent=i)}}}const z=/((25[0-5]|(2[0-4]|1?[0-9])?[0-9])\.){3}(25[0-5]|(2[0-4]|1?[0-9])?[0-9])/,j=/(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]+|::(ffff(:0{1,4})?:)?((25[0-5]|(2[0-4]|1?[0-9])?[0-9])\.){3}(25[0-5]|(2[0-4]|1?[0-9])?[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1?[0-9])?[0-9])\.){3}(25[0-5]|(2[0-4]|1?[0-9])?[0-9]))/,H=new Set(["redditblog.com","i.redd.it","v.redd.it","i.redditmedia.com","g.redditmedia.com","i.reddituploads.com","www.redditinc.com","reddit.onelink.me","www.reddithelp.com","reddit.com","redditinc.com","support.reddithelp.com","redditforcommunity.com"]),F=/^.*\.reddit\.com$/,W=/\.snoo\.dev(:\d+)?$/,G=e=>{try{return H.has(e.host)||(e=>F.test(e))(e.host)||(e=>W.test(e))(e.host)}catch{return!1}};class B extends _{constructor(e){super(e)}setAdsMetadata(e){this._adsMetadata=e}setDialog(e){this._dialog=e}onEvent(e){if(e.detail.effect.type!==a.E.EFFECT_NAVIGATE_TO_URL)return;const{navigateToUrl:t}=e.detail.effect;if(!t)return;const i=function(e){let t;try{t=new URL(e)}catch{return}t.username&&(t.username="");t.password&&(t.password="");if("https:"!==t.protocol)return;if(t.hostname.match(z)||t.hostname.match(j))return;if(t.hostname.startsWith("xn--"))return;return t}(t.url);i&&(e.detail.adsMetadata||this._adsMetadata?window.open(i.href,"_blank","noopener,noreferrer"):G(i)?window.open(i.href,"_self","noopener,noreferrer"):this._dialog?.show(i.toString()))}}var J;let q;!function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.INLINE_MODE=1]="INLINE_MODE",e[e.IMMERSIVE_MODE=2]="IMMERSIVE_MODE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(J||(J={}));const K=new Uint8Array(16);function Y(){if(!q&&(q="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!q))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return q(K)}var Z=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const X=[];for(let e=0;e<256;++e)X.push((e+256).toString(16).slice(1));function Q(e,t=0){return(X[e[t+0]]+X[e[t+1]]+X[e[t+2]]+X[e[t+3]]+"-"+X[e[t+4]]+X[e[t+5]]+"-"+X[e[t+6]]+X[e[t+7]]+"-"+X[e[t+8]]+X[e[t+9]]+"-"+X[e[t+10]]+X[e[t+11]]+X[e[t+12]]+X[e[t+13]]+X[e[t+14]]+X[e[t+15]]).toLowerCase()}function ee(e){if(!function(e){return"string"==typeof e&&Z.test(e)}(e))throw TypeError("Invalid UUID");let t;const i=new Uint8Array(16);return i[0]=(t=parseInt(e.slice(0,8),16))>>>24,i[1]=t>>>16&255,i[2]=t>>>8&255,i[3]=255&t,i[4]=(t=parseInt(e.slice(9,13),16))>>>8,i[5]=255&t,i[6]=(t=parseInt(e.slice(14,18),16))>>>8,i[7]=255&t,i[8]=(t=parseInt(e.slice(19,23),16))>>>8,i[9]=255&t,i[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,i[11]=t/4294967296&255,i[12]=t>>>24&255,i[13]=t>>>16&255,i[14]=t>>>8&255,i[15]=255&t,i}function te(e,t,i){function a(e,a,r,s){var o;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let i=0;i<e.length;++i)t.push(e.charCodeAt(i));return t}(e)),"string"==typeof a&&(a=ee(a)),16!==(null===(o=a)||void 0===o?void 0:o.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let n=new Uint8Array(16+e.length);if(n.set(a),n.set(e,a.length),n=i(n),n[6]=15&n[6]|t,n[8]=63&n[8]|128,r){s=s||0;for(let e=0;e<16;++e)r[s+e]=n[e];return r}return Q(n)}try{a.name=e}catch(e){}return a.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",a.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",a}function ie(e){return 14+(e+64>>>9<<4)+1}function ae(e,t){const i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function re(e,t,i,a,r,s){return ae((o=ae(ae(t,e),ae(a,s)))<<(n=r)|o>>>32-n,i);var o,n}function se(e,t,i,a,r,s,o){return re(t&i|~t&a,e,t,r,s,o)}function oe(e,t,i,a,r,s,o){return re(t&a|i&~a,e,t,r,s,o)}function ne(e,t,i,a,r,s,o){return re(t^i^a,e,t,r,s,o)}function le(e,t,i,a,r,s,o){return re(i^(t|~a),e,t,r,s,o)}te("v3",48,(function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let i=0;i<t.length;++i)e[i]=t.charCodeAt(i)}return function(e){const t=[],i=32*e.length,a="0123456789abcdef";for(let r=0;r<i;r+=8){const i=e[r>>5]>>>r%32&255,s=parseInt(a.charAt(i>>>4&15)+a.charAt(15&i),16);t.push(s)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[ie(t)-1]=t;let i=1732584193,a=-271733879,r=-1732584194,s=271733878;for(let t=0;t<e.length;t+=16){const o=i,n=a,l=r,d=s;i=se(i,a,r,s,e[t],7,-680876936),s=se(s,i,a,r,e[t+1],12,-389564586),r=se(r,s,i,a,e[t+2],17,606105819),a=se(a,r,s,i,e[t+3],22,-1044525330),i=se(i,a,r,s,e[t+4],7,-176418897),s=se(s,i,a,r,e[t+5],12,1200080426),r=se(r,s,i,a,e[t+6],17,-1473231341),a=se(a,r,s,i,e[t+7],22,-45705983),i=se(i,a,r,s,e[t+8],7,1770035416),s=se(s,i,a,r,e[t+9],12,-1958414417),r=se(r,s,i,a,e[t+10],17,-42063),a=se(a,r,s,i,e[t+11],22,-1990404162),i=se(i,a,r,s,e[t+12],7,1804603682),s=se(s,i,a,r,e[t+13],12,-40341101),r=se(r,s,i,a,e[t+14],17,-1502002290),a=se(a,r,s,i,e[t+15],22,1236535329),i=oe(i,a,r,s,e[t+1],5,-165796510),s=oe(s,i,a,r,e[t+6],9,-1069501632),r=oe(r,s,i,a,e[t+11],14,643717713),a=oe(a,r,s,i,e[t],20,-373897302),i=oe(i,a,r,s,e[t+5],5,-701558691),s=oe(s,i,a,r,e[t+10],9,38016083),r=oe(r,s,i,a,e[t+15],14,-660478335),a=oe(a,r,s,i,e[t+4],20,-405537848),i=oe(i,a,r,s,e[t+9],5,568446438),s=oe(s,i,a,r,e[t+14],9,-1019803690),r=oe(r,s,i,a,e[t+3],14,-187363961),a=oe(a,r,s,i,e[t+8],20,1163531501),i=oe(i,a,r,s,e[t+13],5,-1444681467),s=oe(s,i,a,r,e[t+2],9,-51403784),r=oe(r,s,i,a,e[t+7],14,1735328473),a=oe(a,r,s,i,e[t+12],20,-1926607734),i=ne(i,a,r,s,e[t+5],4,-378558),s=ne(s,i,a,r,e[t+8],11,-2022574463),r=ne(r,s,i,a,e[t+11],16,1839030562),a=ne(a,r,s,i,e[t+14],23,-35309556),i=ne(i,a,r,s,e[t+1],4,-1530992060),s=ne(s,i,a,r,e[t+4],11,1272893353),r=ne(r,s,i,a,e[t+7],16,-155497632),a=ne(a,r,s,i,e[t+10],23,-1094730640),i=ne(i,a,r,s,e[t+13],4,681279174),s=ne(s,i,a,r,e[t],11,-358537222),r=ne(r,s,i,a,e[t+3],16,-722521979),a=ne(a,r,s,i,e[t+6],23,76029189),i=ne(i,a,r,s,e[t+9],4,-640364487),s=ne(s,i,a,r,e[t+12],11,-421815835),r=ne(r,s,i,a,e[t+15],16,530742520),a=ne(a,r,s,i,e[t+2],23,-995338651),i=le(i,a,r,s,e[t],6,-198630844),s=le(s,i,a,r,e[t+7],10,1126891415),r=le(r,s,i,a,e[t+14],15,-1416354905),a=le(a,r,s,i,e[t+5],21,-57434055),i=le(i,a,r,s,e[t+12],6,1700485571),s=le(s,i,a,r,e[t+3],10,-1894986606),r=le(r,s,i,a,e[t+10],15,-1051523),a=le(a,r,s,i,e[t+1],21,-2054922799),i=le(i,a,r,s,e[t+8],6,1873313359),s=le(s,i,a,r,e[t+15],10,-30611744),r=le(r,s,i,a,e[t+6],15,-1560198380),a=le(a,r,s,i,e[t+13],21,1309151649),i=le(i,a,r,s,e[t+4],6,-145523070),s=le(s,i,a,r,e[t+11],10,-1120210379),r=le(r,s,i,a,e[t+2],15,718787259),a=le(a,r,s,i,e[t+9],21,-343485551),i=ae(i,o),a=ae(a,n),r=ae(r,l),s=ae(s,d)}return[i,a,r,s]}(function(e){if(0===e.length)return[];const t=8*e.length,i=new Uint32Array(ie(t));for(let a=0;a<t;a+=8)i[a>>5]|=(255&e[a/8])<<a%32;return i}(e),8*e.length))}));var de={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function ce(e,t,i){if(de.randomUUID&&!e)return de.randomUUID();const a=(e=e||{}).random||(e.rng||Y)();return a[6]=15&a[6]|64,a[8]=63&a[8]|128,Q(a)}function ue(e,t,i,a){switch(e){case 0:return t&i^~t&a;case 1:case 3:return t^i^a;case 2:return t&i^t&a^i&a}}function pe(e,t){return e<<t|e>>>32-t}te("v5",80,(function(e){const t=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let i=0;i<t.length;++i)e.push(t.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const a=e.length/4+2,r=Math.ceil(a/16),s=new Array(r);for(let t=0;t<r;++t){const i=new Uint32Array(16);for(let a=0;a<16;++a)i[a]=e[64*t+4*a]<<24|e[64*t+4*a+1]<<16|e[64*t+4*a+2]<<8|e[64*t+4*a+3];s[t]=i}s[r-1][14]=8*(e.length-1)/Math.pow(2,32),s[r-1][14]=Math.floor(s[r-1][14]),s[r-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<r;++e){const a=new Uint32Array(80);for(let t=0;t<16;++t)a[t]=s[e][t];for(let e=16;e<80;++e)a[e]=pe(a[e-3]^a[e-8]^a[e-14]^a[e-16],1);let r=i[0],o=i[1],n=i[2],l=i[3],d=i[4];for(let e=0;e<80;++e){const i=Math.floor(e/20),s=pe(r,5)+ue(i,o,n,l)+d+t[i]+a[e]>>>0;d=l,l=n,n=pe(o,30)>>>0,o=r,r=s}i[0]=i[0]+r>>>0,i[1]=i[1]+o>>>0,i[2]=i[2]+n>>>0,i[3]=i[3]+l>>>0,i[4]=i[4]+d>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]}));class he{constructor(t){this.checkoutCallbacks={},this.finishCheckout=({checkoutAttemptID:e,errorMessage:t,orderID:i,status:a})=>{if(!e)return;const r=this.checkoutCallbacks[e];r?.(a,i,t),delete this.checkoutCallbacks[e]},this.host=t,this.host.addController(this),this.pubsub=new e.u(this.host)}hostConnected(){this.pubsub.subscribe(e.T.PurchaseCheckout,this.finishCheckout,!1)}async beginCheckout(t){if(!e.g())return void this.host.dispatchEvent(e.c(e.dh.purchaseProduct));const i=ce();this.checkoutCallbacks[i]=t.onCheckoutFinished,e.p(e.T.PurchaseCheckoutMetadata,{checkoutAttemptID:i,orderMetadata:t.orderMetadata||{}}),await e.r({name:e.k9,queryParams:{checkoutAttemptId:i,...me(t.productInfo),...t.telemetryContext,...(t.environment && {environment:t.environment})},renderMode:e.P.Contents})}}function me(e){return t.p(e)?{...e,type:t.P.Default}:{[i.H.App]:e.app,[i.H.AppUser]:e.ownerID,[i.H.Version]:e.appVersion,"devvit-sku":e.sku,type:t.P.Devvit}}var fe,ve,be,we=function(e,t,i,a,r){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?r.call(e,i):r?r.value=i:t.set(e,i),i},ge=function(e,t,i,a){if("a"===i&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?a:"a"===i?a.call(e):a?a.value:t.get(e)};class Ee extends _{constructor(e,t="devvit-form-dialog",i){super(e),fe.set(this,void 0),ve.set(this,void 0),be.set(this,void 0),we(this,fe,t,"f"),we(this,ve,i,"f")}hostUpdated(){we(this,be,this.host.renderRoot.querySelector(ge(this,fe,"f")),"f")}onEvent(e){const{showForm:t}=e.detail.effect;t?.form&&(ge(this,ve,"f")?I(ge(this,ve,"f"),{form:t.form,onEvent:e.detail.onEvent,effectName:"devvit:formEffect"}):ge(this,be,"f")?.showForm(t.form,e.detail.onEvent))}}fe=new WeakMap,ve=new WeakMap,be=new WeakMap;var Te,ke=function(e,t,i,a,r){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?r.call(e,i):r?r.value=i:t.set(e,i),i},_e=function(e,t,i,a){if("a"===i&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?a:"a"===i?a.call(e):a?a.value:t.get(e)};class Ie extends _{constructor(e,t){super(e),Te.set(this,void 0),ke(this,Te,t,"f")}onEvent(t){const{showToast:i}=t.detail.effect;if(!i)return;if(!i.toast)return void console.warn("[toast] missing config");const r={message:i.toast.text,level:i.toast.appearance===a.b.SUCCESS?e.a5.success:e.a5.info};_e(this,Te,"f")?I(_e(this,Te,"f"),{...r,effectName:"devvit:toastEffect"}):this.host.dispatchEvent(e.c("faceplate-alert",r))}}Te=new WeakMap;var Se,ye,Ne,Re,De,Pe,Ce,Oe,Ae,Ue,Me,$e,Le,Ve,xe=function(e,t,i,a,r){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?r.call(e,i):r?r.value=i:t.set(e,i),i},ze=function(e,t,i,a){if("a"===i&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?a:"a"===i?a.call(e):a?a.value:t.get(e)};a.i();class je extends _{constructor(e,t,i){super(e),Se.add(this),this.hookId="",ye.set(this,void 0),Ne.set(this,(()=>{})),Re.set(this,void 0),De.set(this,void 0),Ce.set(this,(()=>{ze(this,Se,"m",Ae).call(this,!0)})),Oe.set(this,(()=>{ze(this,Se,"m",Ae).call(this,!1)})),this.onReceivedPostMessage=e=>{ze(this,Ne,"f").call(this,{scope:a.U.ALL,hook:this.hookId,webView:{postMessage:{jsonString:JSON.stringify(e),message:e}}})},Ue.set(this,(e=>{const t=ze(this,ye,"f")?.portalContainer.querySelector("devvit-blocks-web-view");t?.postMessage(e)})),Me.set(this,(()=>{this.hookId="",xe(this,Ne,(()=>{}),"f")})),xe(this,Re,t,"f"),xe(this,De,i??ze(this,Se,"m",Pe),"f")}hostUpdated(){xe(this,ye,ze(this,De,"f").call(this),"f"),ze(this,ye,"f")?.addEventListener("rpl-dialog:after-show",ze(this,Ce,"f")),ze(this,ye,"f")?.addEventListener("rpl-dialog:after-hide",ze(this,Oe,"f"))}hostDisconnected(){super.hostDisconnected(),ze(this,ye,"f")&&(ze(this,ye,"f").removeEventListener("rpl-dialog:after-show",ze(this,Ce,"f")),ze(this,ye,"f").removeEventListener("rpl-dialog:after-hide",ze(this,Oe,"f")),xe(this,ye,void 0,"f"))}onEvent(e){if("webView"in e.detail.effect)if(devvit?.debug.webView&&console.debug("[web view] WebViewEffectHandler.onEvent()",e.detail),e.detail.effect.webView?.fullscreen){const{fullscreen:t}=e.detail.effect.webView;t.show?(this.hookId=t.id,xe(this,Ne,e.detail.onEvent,"f"),devvit?.debug.webView&&console.debug(`[web view] Open fullscreen web view with url: ${t.url}`),ze(this,Re,"f").call(this,t.url)):ze(this,ye,"f")?.hide()}else e.detail.effect.webView?.postMessage?.app&&this.hookId===e.detail.effect.webView.postMessage.webViewId&&ze(this,Ue,"f").call(this,e.detail.effect.webView.postMessage.app)}}function He(e){switch(e){case 0:case"ENVIRONMENT_UNSPECIFIED":return $e.ENVIRONMENT_UNSPECIFIED;case 1:case"ENVIRONMENT_SANDBOX":return $e.ENVIRONMENT_SANDBOX;case 2:case"ENVIRONMENT_PRODUCTION":return $e.ENVIRONMENT_PRODUCTION;default:return $e.UNRECOGNIZED}}function Fe(e){switch(e){case $e.ENVIRONMENT_UNSPECIFIED:return 0;case $e.ENVIRONMENT_SANDBOX:return 1;case $e.ENVIRONMENT_PRODUCTION:return 2;case $e.UNRECOGNIZED:default:return-1}}function We(e){switch(e){case 0:case"CURRENCY_UNSPECIFIED":return Le.CURRENCY_UNSPECIFIED;case 200:case"GOLD":return Le.GOLD;default:return Le.UNRECOGNIZED}}function Ge(e){switch(e){case 0:case"ACCOUNTING_TYPE_UNSPECIFIED":return Ve.ACCOUNTING_TYPE_UNSPECIFIED;case 1:case"ACCOUNTING_TYPE_INSTANT":return Ve.ACCOUNTING_TYPE_INSTANT;case 2:case"ACCOUNTING_TYPE_DURABLE":return Ve.ACCOUNTING_TYPE_DURABLE;case 3:case"ACCOUNTING_TYPE_CONSUMABLE":return Ve.ACCOUNTING_TYPE_CONSUMABLE;case 4:case"ACCOUNTING_TYPE_VALID_FOR_1D":return Ve.ACCOUNTING_TYPE_VALID_FOR_1D;case 5:case"ACCOUNTING_TYPE_VALID_FOR_7D":return Ve.ACCOUNTING_TYPE_VALID_FOR_7D;case 6:case"ACCOUNTING_TYPE_VALID_FOR_30D":return Ve.ACCOUNTING_TYPE_VALID_FOR_30D;case 7:case"ACCOUNTING_TYPE_VALID_FOR_1Y":return Ve.ACCOUNTING_TYPE_VALID_FOR_1Y;default:return Ve.UNRECOGNIZED}}ye=new WeakMap,Ne=new WeakMap,Re=new WeakMap,De=new WeakMap,Ce=new WeakMap,Oe=new WeakMap,Ue=new WeakMap,Me=new WeakMap,Se=new WeakSet,Pe=function(){const e=this.host.renderRoot.querySelector("devvit-web-view-dialog-loader");return e?e.shadowRoot?.querySelector("rpl-dialog")??void 0:this.host.renderRoot.querySelector("rpl-dialog")??void 0},Ae=function(e){if(devvit?.debug.webView){const t=e?"visible":"hidden";console.debug(`[web view] onDialogVisibilityChange. Trigger event that web view is now ${t}`)}ze(this,Ne,"f").call(this,{scope:a.U.ALL,hook:this.hookId,webView:{fullScreen:{visibility:e?a.W.WEBVIEW_VISIBLE:a.W.WEBVIEW_HIDDEN}}}),e||ze(this,Me,"f").call(this)},function(e){e[e.ENVIRONMENT_UNSPECIFIED=0]="ENVIRONMENT_UNSPECIFIED",e[e.ENVIRONMENT_SANDBOX=1]="ENVIRONMENT_SANDBOX",e[e.ENVIRONMENT_PRODUCTION=2]="ENVIRONMENT_PRODUCTION",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}($e||($e={})),function(e){e[e.CURRENCY_UNSPECIFIED=0]="CURRENCY_UNSPECIFIED",e[e.GOLD=200]="GOLD",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Le||(Le={})),function(e){e[e.ACCOUNTING_TYPE_UNSPECIFIED=0]="ACCOUNTING_TYPE_UNSPECIFIED",e[e.ACCOUNTING_TYPE_INSTANT=1]="ACCOUNTING_TYPE_INSTANT",e[e.ACCOUNTING_TYPE_DURABLE=2]="ACCOUNTING_TYPE_DURABLE",e[e.ACCOUNTING_TYPE_CONSUMABLE=3]="ACCOUNTING_TYPE_CONSUMABLE",e[e.ACCOUNTING_TYPE_VALID_FOR_1D=4]="ACCOUNTING_TYPE_VALID_FOR_1D",e[e.ACCOUNTING_TYPE_VALID_FOR_7D=5]="ACCOUNTING_TYPE_VALID_FOR_7D",e[e.ACCOUNTING_TYPE_VALID_FOR_30D=6]="ACCOUNTING_TYPE_VALID_FOR_30D",e[e.ACCOUNTING_TYPE_VALID_FOR_1Y=7]="ACCOUNTING_TYPE_VALID_FOR_1Y",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Ve||(Ve={}));const Be={$type:"devvit.payments.v1alpha.Product",encode:(e,t=a._.Writer.create())=>(""!==e.sku&&t.uint32(8010).string(e.sku),""!==e.name&&t.uint32(26).string(e.name),void 0!==e.price&&Ke.encode(e.price,t.uint32(42).fork()).ldelim(),0!==e.environment&&t.uint32(160).int32(e.environment),""!==e.description&&t.uint32(170).string(e.description),0!==e.accountingType&&t.uint32(184).int32(e.accountingType),Object.entries(e.productMetadata).forEach((([e,i])=>{Je.encode({key:e,value:i},t.uint32(8018).fork()).ldelim()})),Object.entries(e.images).forEach((([e,i])=>{qe.encode({key:e,value:i},t.uint32(8026).fork()).ldelim()})),t),decode(e,t){const i=e instanceof a._.Reader?e:a._.Reader.create(e);let r=void 0===t?i.len:i.pos+t;const s={sku:"",name:"",price:void 0,environment:0,description:"",accountingType:0,productMetadata:{},images:{}};for(;i.pos<r;){const e=i.uint32();switch(e>>>3){case 1001:if(8010!==e)break;s.sku=i.string();continue;case 3:if(26!==e)break;s.name=i.string();continue;case 5:if(42!==e)break;s.price=Ke.decode(i,i.uint32());continue;case 20:if(160!==e)break;s.environment=i.int32();continue;case 21:if(170!==e)break;s.description=i.string();continue;case 23:if(184!==e)break;s.accountingType=i.int32();continue;case 1002:if(8018!==e)break;const t=Je.decode(i,i.uint32());void 0!==t.value&&(s.productMetadata[t.key]=t.value);continue;case 1003:if(8026!==e)break;const a=qe.decode(i,i.uint32());void 0!==a.value&&(s.images[a.key]=a.value);continue}if(4==(7&e)||0===e)break;i.skipType(7&e)}return s},fromJSON:e=>({sku:Ze(e.sku)?globalThis.String(e.sku):"",name:Ze(e.name)?globalThis.String(e.name):"",price:Ze(e.price)?Ke.fromJSON(e.price):void 0,environment:Ze(e.environment)?He(e.environment):0,description:Ze(e.description)?globalThis.String(e.description):"",accountingType:Ze(e.accountingType)?Ge(e.accountingType):0,productMetadata:Ye(e.productMetadata)?Object.entries(e.productMetadata).reduce(((e,[t,i])=>(e[t]=String(i),e)),{}):{},images:Ye(e.images)?Object.entries(e.images).reduce(((e,[t,i])=>(e[t]=String(i),e)),{}):{}}),toJSON(e){const t={};if(""!==e.sku&&(t.sku=e.sku),""!==e.name&&(t.name=e.name),void 0!==e.price&&(t.price=Ke.toJSON(e.price)),0!==e.environment&&(t.environment=Fe(e.environment)),""!==e.description&&(t.description=e.description),0!==e.accountingType&&(t.accountingType=function(e){switch(e){case Ve.ACCOUNTING_TYPE_UNSPECIFIED:return 0;case Ve.ACCOUNTING_TYPE_INSTANT:return 1;case Ve.ACCOUNTING_TYPE_DURABLE:return 2;case Ve.ACCOUNTING_TYPE_CONSUMABLE:return 3;case Ve.ACCOUNTING_TYPE_VALID_FOR_1D:return 4;case Ve.ACCOUNTING_TYPE_VALID_FOR_7D:return 5;case Ve.ACCOUNTING_TYPE_VALID_FOR_30D:return 6;case Ve.ACCOUNTING_TYPE_VALID_FOR_1Y:return 7;case Ve.UNRECOGNIZED:default:return-1}}(e.accountingType)),e.productMetadata){const i=Object.entries(e.productMetadata);i.length>0&&(t.productMetadata={},i.forEach((([e,i])=>{t.productMetadata[e]=i})))}if(e.images){const i=Object.entries(e.images);i.length>0&&(t.images={},i.forEach((([e,i])=>{t.images[e]=i})))}return t},create:e=>Be.fromPartial(e??{}),fromPartial(e){const t={sku:"",name:"",price:void 0,environment:0,description:"",accountingType:0,productMetadata:{},images:{}};return t.sku=e.sku??"",t.name=e.name??"",t.price=void 0!==e.price&&null!==e.price?Ke.fromPartial(e.price):void 0,t.environment=e.environment??0,t.description=e.description??"",t.accountingType=e.accountingType??0,t.productMetadata=Object.entries(e.productMetadata??{}).reduce(((e,[t,i])=>(void 0!==i&&(e[t]=globalThis.String(i)),e)),{}),t.images=Object.entries(e.images??{}).reduce(((e,[t,i])=>(void 0!==i&&(e[t]=globalThis.String(i)),e)),{}),t}};a.m.set(Be.$type,Be);const Je={$type:"devvit.payments.v1alpha.Product.ProductMetadataEntry",encode:(e,t=a._.Writer.create())=>(""!==e.key&&t.uint32(10).string(e.key),""!==e.value&&t.uint32(18).string(e.value),t),decode(e,t){const i=e instanceof a._.Reader?e:a._.Reader.create(e);let r=void 0===t?i.len:i.pos+t;const s={key:"",value:""};for(;i.pos<r;){const e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.key=i.string();continue;case 2:if(18!==e)break;s.value=i.string();continue}if(4==(7&e)||0===e)break;i.skipType(7&e)}return s},fromJSON:e=>({key:Ze(e.key)?globalThis.String(e.key):"",value:Ze(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.key&&(t.key=e.key),""!==e.value&&(t.value=e.value),t},create:e=>Je.fromPartial(e??{}),fromPartial(e){const t={key:"",value:""};return t.key=e.key??"",t.value=e.value??"",t}};a.m.set(Je.$type,Je);const qe={$type:"devvit.payments.v1alpha.Product.ImagesEntry",encode:(e,t=a._.Writer.create())=>(""!==e.key&&t.uint32(10).string(e.key),""!==e.value&&t.uint32(18).string(e.value),t),decode(e,t){const i=e instanceof a._.Reader?e:a._.Reader.create(e);let r=void 0===t?i.len:i.pos+t;const s={key:"",value:""};for(;i.pos<r;){const e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.key=i.string();continue;case 2:if(18!==e)break;s.value=i.string();continue}if(4==(7&e)||0===e)break;i.skipType(7&e)}return s},fromJSON:e=>({key:Ze(e.key)?globalThis.String(e.key):"",value:Ze(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.key&&(t.key=e.key),""!==e.value&&(t.value=e.value),t},create:e=>qe.fromPartial(e??{}),fromPartial(e){const t={key:"",value:""};return t.key=e.key??"",t.value=e.value??"",t}};a.m.set(qe.$type,qe);const Ke={$type:"devvit.payments.v1alpha.ProductPrice",encode:(e,t=a._.Writer.create())=>(0!==e.amount&&t.uint32(8).int32(e.amount),0!==e.currency&&t.uint32(16).int32(e.currency),t),decode(e,t){const i=e instanceof a._.Reader?e:a._.Reader.create(e);let r=void 0===t?i.len:i.pos+t;const s={amount:0,currency:0};for(;i.pos<r;){const e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;s.amount=i.int32();continue;case 2:if(16!==e)break;s.currency=i.int32();continue}if(4==(7&e)||0===e)break;i.skipType(7&e)}return s},fromJSON:e=>({amount:Ze(e.amount)?globalThis.Number(e.amount):0,currency:Ze(e.currency)?We(e.currency):0}),toJSON(e){const t={};return 0!==e.amount&&(t.amount=Math.round(e.amount)),0!==e.currency&&(t.currency=function(e){switch(e){case Le.CURRENCY_UNSPECIFIED:return 0;case Le.GOLD:return 200;case Le.UNRECOGNIZED:default:return-1}}(e.currency)),t},create:e=>Ke.fromPartial(e??{}),fromPartial(e){const t={amount:0,currency:0};return t.amount=e.amount??0,t.currency=e.currency??0,t}};function Ye(e){return"object"==typeof e&&null!==e}function Ze(e){return null!=e}var Xe;function Qe(e){switch(e){case 0:case"ORDER_STATUS_UNSPECIFIED":return Xe.ORDER_STATUS_UNSPECIFIED;case 1:case"ORDER_STATUS_NEW":return Xe.ORDER_STATUS_NEW;case 2:case"ORDER_STATUS_CREATED":return Xe.ORDER_STATUS_CREATED;case 3:case"ORDER_STATUS_PAID":return Xe.ORDER_STATUS_PAID;case 4:case"ORDER_STATUS_DELIVERED":return Xe.ORDER_STATUS_DELIVERED;case 5:case"ORDER_STATUS_CANCELED":return Xe.ORDER_STATUS_CANCELED;case 6:case"ORDER_STATUS_REVERTED":return Xe.ORDER_STATUS_REVERTED;default:return Xe.UNRECOGNIZED}}function et(e){switch(e){case Xe.ORDER_STATUS_UNSPECIFIED:return 0;case Xe.ORDER_STATUS_NEW:return 1;case Xe.ORDER_STATUS_CREATED:return 2;case Xe.ORDER_STATUS_PAID:return 3;case Xe.ORDER_STATUS_DELIVERED:return 4;case Xe.ORDER_STATUS_CANCELED:return 5;case Xe.ORDER_STATUS_REVERTED:return 6;case Xe.UNRECOGNIZED:default:return-1}}a.m.set(Ke.$type,Ke),function(e){e[e.ORDER_STATUS_UNSPECIFIED=0]="ORDER_STATUS_UNSPECIFIED",e[e.ORDER_STATUS_NEW=1]="ORDER_STATUS_NEW",e[e.ORDER_STATUS_CREATED=2]="ORDER_STATUS_CREATED",e[e.ORDER_STATUS_PAID=3]="ORDER_STATUS_PAID",e[e.ORDER_STATUS_DELIVERED=4]="ORDER_STATUS_DELIVERED",e[e.ORDER_STATUS_CANCELED=5]="ORDER_STATUS_CANCELED",e[e.ORDER_STATUS_REVERTED=6]="ORDER_STATUS_REVERTED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Xe||(Xe={}));const tt={$type:"devvit.payments.v1alpha.Order",encode(e,t=a._.Writer.create()){""!==e.id&&t.uint32(10).string(e.id),0!==e.status&&t.uint32(16).int32(e.status),void 0!==e.createdAt&&a.T.encode(at(e.createdAt),t.uint32(26).fork()).ldelim(),void 0!==e.updatedAt&&a.T.encode(at(e.updatedAt),t.uint32(34).fork()).ldelim();for(const i of e.products)Be.encode(i,t.uint32(42).fork()).ldelim();return 0!==e.environment&&t.uint32(64).int32(e.environment),Object.entries(e.metadata).forEach((([e,i])=>{it.encode({key:e,value:i},t.uint32(8010).fork()).ldelim()})),t},decode(e,t){const i=e instanceof a._.Reader?e:a._.Reader.create(e);let r=void 0===t?i.len:i.pos+t;const s={id:"",status:0,createdAt:void 0,updatedAt:void 0,products:[],environment:0,metadata:{}};for(;i.pos<r;){const e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.id=i.string();continue;case 2:if(16!==e)break;s.status=i.int32();continue;case 3:if(26!==e)break;s.createdAt=rt(a.T.decode(i,i.uint32()));continue;case 4:if(34!==e)break;s.updatedAt=rt(a.T.decode(i,i.uint32()));continue;case 5:if(42!==e)break;s.products.push(Be.decode(i,i.uint32()));continue;case 8:if(64!==e)break;s.environment=i.int32();continue;case 1001:if(8010!==e)break;const t=it.decode(i,i.uint32());void 0!==t.value&&(s.metadata[t.key]=t.value);continue}if(4==(7&e)||0===e)break;i.skipType(7&e)}return s},fromJSON(e){return{id:ot(e.id)?globalThis.String(e.id):"",status:ot(e.status)?Qe(e.status):0,createdAt:ot(e.createdAt)?st(e.createdAt):void 0,updatedAt:ot(e.updatedAt)?st(e.updatedAt):void 0,products:globalThis.Array.isArray(e?.products)?e.products.map((e=>Be.fromJSON(e))):[],environment:ot(e.environment)?He(e.environment):0,metadata:(t=e.metadata,"object"==typeof t&&null!==t?Object.entries(e.metadata).reduce(((e,[t,i])=>(e[t]=String(i),e)),{}):{})};var t},toJSON(e){const t={};if(""!==e.id&&(t.id=e.id),0!==e.status&&(t.status=et(e.status)),void 0!==e.createdAt&&(t.createdAt=e.createdAt.toISOString()),void 0!==e.updatedAt&&(t.updatedAt=e.updatedAt.toISOString()),e.products?.length&&(t.products=e.products.map((e=>Be.toJSON(e)))),0!==e.environment&&(t.environment=Fe(e.environment)),e.metadata){const i=Object.entries(e.metadata);i.length>0&&(t.metadata={},i.forEach((([e,i])=>{t.metadata[e]=i})))}return t},create:e=>tt.fromPartial(e??{}),fromPartial(e){const t={id:"",status:0,createdAt:void 0,updatedAt:void 0,products:[],environment:0,metadata:{}};return t.id=e.id??"",t.status=e.status??0,t.createdAt=e.createdAt??void 0,t.updatedAt=e.updatedAt??void 0,t.products=e.products?.map((e=>Be.fromPartial(e)))||[],t.environment=e.environment??0,t.metadata=Object.entries(e.metadata??{}).reduce(((e,[t,i])=>(void 0!==i&&(e[t]=globalThis.String(i)),e)),{}),t}};a.m.set(tt.$type,tt);const it={$type:"devvit.payments.v1alpha.Order.MetadataEntry",encode:(e,t=a._.Writer.create())=>(""!==e.key&&t.uint32(10).string(e.key),""!==e.value&&t.uint32(18).string(e.value),t),decode(e,t){const i=e instanceof a._.Reader?e:a._.Reader.create(e);let r=void 0===t?i.len:i.pos+t;const s={key:"",value:""};for(;i.pos<r;){const e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.key=i.string();continue;case 2:if(18!==e)break;s.value=i.string();continue}if(4==(7&e)||0===e)break;i.skipType(7&e)}return s},fromJSON:e=>({key:ot(e.key)?globalThis.String(e.key):"",value:ot(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.key&&(t.key=e.key),""!==e.value&&(t.value=e.value),t},create:e=>it.fromPartial(e??{}),fromPartial(e){const t={key:"",value:""};return t.key=e.key??"",t.value=e.value??"",t}};function at(e){return{seconds:Math.trunc(e.getTime()/1e3),nanos:e.getTime()%1e3*1e6}}function rt(e){let t=1e3*(e.seconds||0);return t+=(e.nanos||0)/1e6,new globalThis.Date(t)}function st(e){return e instanceof globalThis.Date?e:"string"==typeof e?new globalThis.Date(e):rt(a.T.fromJSON(e))}function ot(e){return null!=e}a.m.set(it.$type,it);const nt={$type:"devvit.actor.payments.v1alpha.FulfillOrderRequest",encode:(e,t=a._.Writer.create())=>(void 0!==e.order&&tt.encode(e.order,t.uint32(10).fork()).ldelim(),t),decode(e,t){const i=e instanceof a._.Reader?e:a._.Reader.create(e);let r=void 0===t?i.len:i.pos+t;const s={order:void 0};for(;i.pos<r;){const e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.order=tt.decode(i,i.uint32());continue}if(4==(7&e)||0===e)break;i.skipType(7&e)}return s},fromJSON:e=>({order:ut(e.order)?tt.fromJSON(e.order):void 0}),toJSON(e){const t={};return void 0!==e.order&&(t.order=tt.toJSON(e.order)),t},create:e=>nt.fromPartial(e??{}),fromPartial(e){const t={order:void 0};return t.order=void 0!==e.order&&null!==e.order?tt.fromPartial(e.order):void 0,t}};a.m.set(nt.$type,nt);const lt={$type:"devvit.actor.payments.v1alpha.RefundOrderRequest",encode:(e,t=a._.Writer.create())=>(void 0!==e.order&&tt.encode(e.order,t.uint32(10).fork()).ldelim(),t),decode(e,t){const i=e instanceof a._.Reader?e:a._.Reader.create(e);let r=void 0===t?i.len:i.pos+t;const s={order:void 0};for(;i.pos<r;){const e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.order=tt.decode(i,i.uint32());continue}if(4==(7&e)||0===e)break;i.skipType(7&e)}return s},fromJSON:e=>({order:ut(e.order)?tt.fromJSON(e.order):void 0}),toJSON(e){const t={};return void 0!==e.order&&(t.order=tt.toJSON(e.order)),t},create:e=>lt.fromPartial(e??{}),fromPartial(e){const t={order:void 0};return t.order=void 0!==e.order&&null!==e.order?tt.fromPartial(e.order):void 0,t}};a.m.set(lt.$type,lt);const dt={$type:"devvit.actor.payments.v1alpha.FulfillOrderResponse",encode:(e,t=a._.Writer.create())=>(void 0!==e.acknowledged&&t.uint32(8).bool(e.acknowledged),void 0!==e.rejectionReason&&t.uint32(18).string(e.rejectionReason),t),decode(e,t){const i=e instanceof a._.Reader?e:a._.Reader.create(e);let r=void 0===t?i.len:i.pos+t;const s={acknowledged:void 0,rejectionReason:void 0};for(;i.pos<r;){const e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;s.acknowledged=i.bool();continue;case 2:if(18!==e)break;s.rejectionReason=i.string();continue}if(4==(7&e)||0===e)break;i.skipType(7&e)}return s},fromJSON:e=>({acknowledged:ut(e.acknowledged)?globalThis.Boolean(e.acknowledged):void 0,rejectionReason:ut(e.rejectionReason)?globalThis.String(e.rejectionReason):void 0}),toJSON(e){const t={};return void 0!==e.acknowledged&&(t.acknowledged=e.acknowledged),void 0!==e.rejectionReason&&(t.rejectionReason=e.rejectionReason),t},create:e=>dt.fromPartial(e??{}),fromPartial(e){const t={acknowledged:void 0,rejectionReason:void 0};return t.acknowledged=e.acknowledged??void 0,t.rejectionReason=e.rejectionReason??void 0,t}};a.m.set(dt.$type,dt);const ct={$type:"devvit.actor.payments.v1alpha.RefundOrderResponse",encode:(e,t=a._.Writer.create())=>t,decode(e,t){const i=e instanceof a._.Reader?e:a._.Reader.create(e);let r=void 0===t?i.len:i.pos+t;const s={};for(;i.pos<r;){const e=i.uint32();if(4==(7&e)||0===e)break;i.skipType(7&e)}return s},fromJSON:e=>({}),toJSON:e=>({}),create:e=>ct.fromPartial(e??{}),fromPartial:e=>({})};function ut(e){return null!=e}a.m.set(ct.$type,ct);const pt={$type:"devvit.plugin.payments.v1alpha.GetProductsRequest",encode(e,t=a._.Writer.create()){for(const i of e.skus)t.uint32(10).string(i);return Object.entries(e.metadata).forEach((([e,i])=>{ht.encode({key:e,value:i},t.uint32(18).fork()).ldelim()})),t},decode(e,t){const i=e instanceof a._.Reader?e:a._.Reader.create(e);let r=void 0===t?i.len:i.pos+t;const s={skus:[],metadata:{}};for(;i.pos<r;){const e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.skus.push(i.string());continue;case 2:if(18!==e)break;const t=ht.decode(i,i.uint32());void 0!==t.value&&(s.metadata[t.key]=t.value);continue}if(4==(7&e)||0===e)break;i.skipType(7&e)}return s},fromJSON:e=>({skus:globalThis.Array.isArray(e?.skus)?e.skus.map((e=>globalThis.String(e))):[],metadata:It(e.metadata)?Object.entries(e.metadata).reduce(((e,[t,i])=>(e[t]=String(i),e)),{}):{}}),toJSON(e){const t={};if(e.skus?.length&&(t.skus=e.skus),e.metadata){const i=Object.entries(e.metadata);i.length>0&&(t.metadata={},i.forEach((([e,i])=>{t.metadata[e]=i})))}return t},create:e=>pt.fromPartial(e??{}),fromPartial(e){const t={skus:[],metadata:{}};return t.skus=e.skus?.map((e=>e))||[],t.metadata=Object.entries(e.metadata??{}).reduce(((e,[t,i])=>(void 0!==i&&(e[t]=globalThis.String(i)),e)),{}),t}};a.m.set(pt.$type,pt);const ht={$type:"devvit.plugin.payments.v1alpha.GetProductsRequest.MetadataEntry",encode:(e,t=a._.Writer.create())=>(""!==e.key&&t.uint32(10).string(e.key),""!==e.value&&t.uint32(18).string(e.value),t),decode(e,t){const i=e instanceof a._.Reader?e:a._.Reader.create(e);let r=void 0===t?i.len:i.pos+t;const s={key:"",value:""};for(;i.pos<r;){const e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.key=i.string();continue;case 2:if(18!==e)break;s.value=i.string();continue}if(4==(7&e)||0===e)break;i.skipType(7&e)}return s},fromJSON:e=>({key:St(e.key)?globalThis.String(e.key):"",value:St(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.key&&(t.key=e.key),""!==e.value&&(t.value=e.value),t},create:e=>ht.fromPartial(e??{}),fromPartial(e){const t={key:"",value:""};return t.key=e.key??"",t.value=e.value??"",t}};a.m.set(ht.$type,ht);const mt={$type:"devvit.plugin.payments.v1alpha.GetProductsResponse",encode(e,t=a._.Writer.create()){for(const i of e.products)Be.encode(i,t.uint32(10).fork()).ldelim();return t},decode(e,t){const i=e instanceof a._.Reader?e:a._.Reader.create(e);let r=void 0===t?i.len:i.pos+t;const s={products:[]};for(;i.pos<r;){const e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.products.push(Be.decode(i,i.uint32()));continue}if(4==(7&e)||0===e)break;i.skipType(7&e)}return s},fromJSON:e=>({products:globalThis.Array.isArray(e?.products)?e.products.map((e=>Be.fromJSON(e))):[]}),toJSON(e){const t={};return e.products?.length&&(t.products=e.products.map((e=>Be.toJSON(e)))),t},create:e=>mt.fromPartial(e??{}),fromPartial(e){const t={products:[]};return t.products=e.products?.map((e=>Be.fromPartial(e)))||[],t}};a.m.set(mt.$type,mt);const ft={$type:"devvit.plugin.payments.v1alpha.GetOrdersRequest",encode:(e,t=a._.Writer.create())=>(void 0!==e.start&&a.T.encode(Tt(e.start),t.uint32(10).fork()).ldelim(),void 0!==e.end&&a.T.encode(Tt(e.end),t.uint32(18).fork()).ldelim(),0!==e.limit&&t.uint32(24).int32(e.limit),""!==e.sku&&t.uint32(34).string(e.sku),""!==e.buyer&&t.uint32(42).string(e.buyer),0!==e.status&&t.uint32(48).int32(e.status),Object.entries(e.metadata).forEach((([e,i])=>{vt.encode({key:e,value:i},t.uint32(58).fork()).ldelim()})),""!==e.cursor&&t.uint32(66).string(e.cursor),t),decode(e,t){const i=e instanceof a._.Reader?e:a._.Reader.create(e);let r=void 0===t?i.len:i.pos+t;const s={start:void 0,end:void 0,limit:0,sku:"",buyer:"",status:0,metadata:{},cursor:""};for(;i.pos<r;){const e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.start=kt(a.T.decode(i,i.uint32()));continue;case 2:if(18!==e)break;s.end=kt(a.T.decode(i,i.uint32()));continue;case 3:if(24!==e)break;s.limit=i.int32();continue;case 4:if(34!==e)break;s.sku=i.string();continue;case 5:if(42!==e)break;s.buyer=i.string();continue;case 6:if(48!==e)break;s.status=i.int32();continue;case 7:if(58!==e)break;const t=vt.decode(i,i.uint32());void 0!==t.value&&(s.metadata[t.key]=t.value);continue;case 8:if(66!==e)break;s.cursor=i.string();continue}if(4==(7&e)||0===e)break;i.skipType(7&e)}return s},fromJSON:e=>({start:St(e.start)?_t(e.start):void 0,end:St(e.end)?_t(e.end):void 0,limit:St(e.limit)?globalThis.Number(e.limit):0,sku:St(e.sku)?globalThis.String(e.sku):"",buyer:St(e.buyer)?globalThis.String(e.buyer):"",status:St(e.status)?Qe(e.status):0,metadata:It(e.metadata)?Object.entries(e.metadata).reduce(((e,[t,i])=>(e[t]=String(i),e)),{}):{},cursor:St(e.cursor)?globalThis.String(e.cursor):""}),toJSON(e){const t={};if(void 0!==e.start&&(t.start=e.start.toISOString()),void 0!==e.end&&(t.end=e.end.toISOString()),0!==e.limit&&(t.limit=Math.round(e.limit)),""!==e.sku&&(t.sku=e.sku),""!==e.buyer&&(t.buyer=e.buyer),0!==e.status&&(t.status=et(e.status)),e.metadata){const i=Object.entries(e.metadata);i.length>0&&(t.metadata={},i.forEach((([e,i])=>{t.metadata[e]=i})))}return""!==e.cursor&&(t.cursor=e.cursor),t},create:e=>ft.fromPartial(e??{}),fromPartial(e){const t={start:void 0,end:void 0,limit:0,sku:"",buyer:"",status:0,metadata:{},cursor:""};return t.start=e.start??void 0,t.end=e.end??void 0,t.limit=e.limit??0,t.sku=e.sku??"",t.buyer=e.buyer??"",t.status=e.status??0,t.metadata=Object.entries(e.metadata??{}).reduce(((e,[t,i])=>(void 0!==i&&(e[t]=globalThis.String(i)),e)),{}),t.cursor=e.cursor??"",t}};a.m.set(ft.$type,ft);const vt={$type:"devvit.plugin.payments.v1alpha.GetOrdersRequest.MetadataEntry",encode:(e,t=a._.Writer.create())=>(""!==e.key&&t.uint32(10).string(e.key),""!==e.value&&t.uint32(18).string(e.value),t),decode(e,t){const i=e instanceof a._.Reader?e:a._.Reader.create(e);let r=void 0===t?i.len:i.pos+t;const s={key:"",value:""};for(;i.pos<r;){const e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.key=i.string();continue;case 2:if(18!==e)break;s.value=i.string();continue}if(4==(7&e)||0===e)break;i.skipType(7&e)}return s},fromJSON:e=>({key:St(e.key)?globalThis.String(e.key):"",value:St(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.key&&(t.key=e.key),""!==e.value&&(t.value=e.value),t},create:e=>vt.fromPartial(e??{}),fromPartial(e){const t={key:"",value:""};return t.key=e.key??"",t.value=e.value??"",t}};a.m.set(vt.$type,vt);const bt={$type:"devvit.plugin.payments.v1alpha.PageInfo",encode:(e,t=a._.Writer.create())=>(!1!==e.hasNextPage&&t.uint32(8).bool(e.hasNextPage),""!==e.endCursor&&t.uint32(18).string(e.endCursor),!1!==e.hasPreviousPage&&t.uint32(24).bool(e.hasPreviousPage),""!==e.startCursor&&t.uint32(34).string(e.startCursor),t),decode(e,t){const i=e instanceof a._.Reader?e:a._.Reader.create(e);let r=void 0===t?i.len:i.pos+t;const s={hasNextPage:!1,endCursor:"",hasPreviousPage:!1,startCursor:""};for(;i.pos<r;){const e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;s.hasNextPage=i.bool();continue;case 2:if(18!==e)break;s.endCursor=i.string();continue;case 3:if(24!==e)break;s.hasPreviousPage=i.bool();continue;case 4:if(34!==e)break;s.startCursor=i.string();continue}if(4==(7&e)||0===e)break;i.skipType(7&e)}return s},fromJSON:e=>({hasNextPage:!!St(e.hasNextPage)&&globalThis.Boolean(e.hasNextPage),endCursor:St(e.endCursor)?globalThis.String(e.endCursor):"",hasPreviousPage:!!St(e.hasPreviousPage)&&globalThis.Boolean(e.hasPreviousPage),startCursor:St(e.startCursor)?globalThis.String(e.startCursor):""}),toJSON(e){const t={};return!1!==e.hasNextPage&&(t.hasNextPage=e.hasNextPage),""!==e.endCursor&&(t.endCursor=e.endCursor),!1!==e.hasPreviousPage&&(t.hasPreviousPage=e.hasPreviousPage),""!==e.startCursor&&(t.startCursor=e.startCursor),t},create:e=>bt.fromPartial(e??{}),fromPartial(e){const t={hasNextPage:!1,endCursor:"",hasPreviousPage:!1,startCursor:""};return t.hasNextPage=e.hasNextPage??!1,t.endCursor=e.endCursor??"",t.hasPreviousPage=e.hasPreviousPage??!1,t.startCursor=e.startCursor??"",t}};a.m.set(bt.$type,bt);const wt={$type:"devvit.plugin.payments.v1alpha.GetOrdersResponse",encode(e,t=a._.Writer.create()){for(const i of e.orders)tt.encode(i,t.uint32(10).fork()).ldelim();return void 0!==e.pageInfo&&bt.encode(e.pageInfo,t.uint32(18).fork()).ldelim(),t},decode(e,t){const i=e instanceof a._.Reader?e:a._.Reader.create(e);let r=void 0===t?i.len:i.pos+t;const s={orders:[],pageInfo:void 0};for(;i.pos<r;){const e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.orders.push(tt.decode(i,i.uint32()));continue;case 2:if(18!==e)break;s.pageInfo=bt.decode(i,i.uint32());continue}if(4==(7&e)||0===e)break;i.skipType(7&e)}return s},fromJSON:e=>({orders:globalThis.Array.isArray(e?.orders)?e.orders.map((e=>tt.fromJSON(e))):[],pageInfo:St(e.pageInfo)?bt.fromJSON(e.pageInfo):void 0}),toJSON(e){const t={};return e.orders?.length&&(t.orders=e.orders.map((e=>tt.toJSON(e)))),void 0!==e.pageInfo&&(t.pageInfo=bt.toJSON(e.pageInfo)),t},create:e=>wt.fromPartial(e??{}),fromPartial(e){const t={orders:[],pageInfo:void 0};return t.orders=e.orders?.map((e=>tt.fromPartial(e)))||[],t.pageInfo=void 0!==e.pageInfo&&null!==e.pageInfo?bt.fromPartial(e.pageInfo):void 0,t}};a.m.set(wt.$type,wt);const gt={$type:"devvit.plugin.payments.v1alpha.AcknowledgeOrderDeliveryRequest",encode:(e,t=a._.Writer.create())=>(""!==e.orderId&&t.uint32(10).string(e.orderId),t),decode(e,t){const i=e instanceof a._.Reader?e:a._.Reader.create(e);let r=void 0===t?i.len:i.pos+t;const s={orderId:""};for(;i.pos<r;){const e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;s.orderId=i.string();continue}if(4==(7&e)||0===e)break;i.skipType(7&e)}return s},fromJSON:e=>({orderId:St(e.orderId)?globalThis.String(e.orderId):""}),toJSON(e){const t={};return""!==e.orderId&&(t.orderId=e.orderId),t},create:e=>gt.fromPartial(e??{}),fromPartial(e){const t={orderId:""};return t.orderId=e.orderId??"",t}};a.m.set(gt.$type,gt);const Et={$type:"devvit.plugin.payments.v1alpha.AcknowledgeOrderDeliveryResponse",encode:(e,t=a._.Writer.create())=>t,decode(e,t){const i=e instanceof a._.Reader?e:a._.Reader.create(e);let r=void 0===t?i.len:i.pos+t;const s={};for(;i.pos<r;){const e=i.uint32();if(4==(7&e)||0===e)break;i.skipType(7&e)}return s},fromJSON:e=>({}),toJSON:e=>({}),create:e=>Et.fromPartial(e??{}),fromPartial:e=>({})};function Tt(e){return{seconds:Math.trunc(e.getTime()/1e3),nanos:e.getTime()%1e3*1e6}}function kt(e){let t=1e3*(e.seconds||0);return t+=(e.nanos||0)/1e6,new globalThis.Date(t)}function _t(e){return e instanceof globalThis.Date?e:"string"==typeof e?new globalThis.Date(e):kt(a.T.fromJSON(e))}function It(e){return"object"==typeof e&&null!==e}function St(e){return null!=e}a.m.set(Et.$type,Et);class yt extends _{constructor(){super(...arguments),this.metadataKeys=[i.H.App,i.H.AppUser,i.H.Version]}onEvent(e){const{createOrder:t}=e.detail.effect;if(!t)return;if(0===t.skus.length)return void console.warn("[handler] missing products");const r=t.metadata||{},s=e.detail.metadata?.[i.H.Installation]?.values?.[0];if(!s)return void console.warn("[handler] missing installation ID");if(r[i.H.Installation]=s,devvit?.debug.payments){const e=JSON.stringify(t.skus),i=JSON.stringify(t.metadata);console.debug(`[handler] launching order flow for: ${e} (metadata: ${i})`)}const o={};this.metadataKeys.forEach((t=>{const i=e.detail.metadata?.[t]?.values?.[0];i&&(o[t]=i)})),this.onOrder(t.skus,r,o,((i,r,s,o)=>{e.detail.onEvent({scope:a.U.ALL,orderResult:{status:i,orderId:r,errorCode:s,errorMessage:o,order:t},hook:t.id})}))}}class Nt extends yt{constructor(e,t){super(e),this.metadataKeys=[i.H.App,i.H.AppUser,i.H.Version,i.H.Subreddit,i.H.Post,i.H.User,i.H.Installation],this.purchaseController=t}onOrder(e,r,s,o){this.purchaseController.beginCheckout({onCheckoutFinished:(e,i,r)=>{o(function(e){switch(e){case t.C.Succeeded:return a.O.STATUS_SUCCESS;case t.C.Error:return a.O.STATUS_ERROR;case t.C.Cancelled:return a.O.STATUS_CANCELLED}}(e),i||"",void 0,r)},orderMetadata:r,productInfo:{sku:e[0],app:s[i.H.App],appVersion:s[i.H.Version],ownerID:s[i.H.AppUser]},telemetryContext:{[i.H.Installation]:s[i.H.Installation],postId:s[i.H.Post],subredditId:s[i.H.Subreddit],userId:s[i.H.User]}})}}const Rt=e=>{if("image/webp"===e)return".jpeg";const t=e?e.split("/"):"image/jpg";return t.length>1?`.${t[1]}`:".jpg"};async function Dt(t,i){return async function(t,i,a,r){const s="There was an error uploading the file";try{const{mediaId:o}=await a(t);if(!o)throw new Error(s);const n=await r({operation:e.O.SubmitMedia,variables:{mediaID:o,redditID:`devvit_app_${i}`}});if(!n.data.submitMedia?.ok)throw new Error(s);const l=((e,t)=>"https://i.redd.it/"+e+Rt(t))(o,t.type);return Promise.resolve({mediaId:o,url:l})}catch(e){const t=e instanceof Error?e.message:s;return Promise.resolve({error:t})}}(t,i,s.u,e.Y);}var Pt,Ct,Ot=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},At=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ut=function(e,t,i,a){if("a"===i&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?a:"a"===i?a.call(e):a?a.value:t.get(e)};let Mt=class extends r.s{constructor(){super(...arguments),this.url="",Pt.set(this,(()=>{this.$dialog?.hide()})),Ct.set(this,(()=>{window.open(this.url,"_blank"),this.$dialog?.hide()}))}static get styles(){return[a.c]}show(e){this.url=e,this.$dialog?.showModal()}render(){const t=r.x`<rpl-modal-card class="max-h-[596px] sm:min-w-[480px] max-w-full"> <div slot="title"> ${a.d("Continue to external link?")} </div> <div slot="close-button"> ${e.o({appearance:"secondary",leadingIcon:e.al({size:r.I.Small}),size:e.q.Small,attributes:{onclick:Ut(this,Pt,"f")}})} </div> <div class="flex flex-col gap-sm w-[32rem] max-w-full"> <span>${this.url}</span> <p> ${a.d("This link leads to an external site. We cannot guarantee the security on the external site, nor verify its contents.")} </p> <div class="flex flex-row justify-end gap-sm"> ${e.o({appearance:"secondary",size:e.q.Medium,children:a.d("Cancel"),attributes:{onclick:Ut(this,Pt,"f")}})} ${e.o({appearance:"primary",size:e.q.Medium,children:a.d("Continue"),attributes:{onclick:Ut(this,Ct,"f")}})} </div> </div> </rpl-modal-card>`;return r.x` <rpl-dialog id="devvit-navigate-to-dialog" dialog-id="devvit-navigate-to-dialog" .litTemplateChildren="${t}"> </rpl-dialog> `}};function $t(e){const t=e.match(/form\.hook\.(.+)\.0/);if(t?.[1])return t[1]}Pt=new WeakMap,Ct=new WeakMap,Ot([e.n({type:String}),At("design:type",String)],Mt.prototype,"url",void 0),Ot([e.a2("rpl-dialog",!0),At("design:type",Function)],Mt.prototype,"$dialog",void 0),Mt=Ot([e.e("devvit-navigate-offsite-dialog")],Mt);const Lt=t=>t?e.ka`<faceplate-form-helper-text class="px-md" placeholder="${t}"></faceplate-form-helper-text>`:e.ka``,Vt=(t,i)=>e.ka`<label for="${t.fieldId}" class="normal-case ${""}">${t.label}${(t=>!0===t.required?e.ka`<span class="text-danger-content">*</span>`:e.ka``)(t)}</label>`;var xt,zt,jt,Ht,Ft,Wt,Gt,Bt,Jt,qt,Kt,Yt=function(e,t,i,a,r){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?r.call(e,i):r?r.value=i:t.set(e,i),i},Zt=function(e,t,i,a){if("a"===i&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?a:"a"===i?a.call(e):a?a.value:t.get(e)};!function(e){e.IDLE="IDLE",e.IN_WINDOW="IN_WINDOW",e.IN_FRAME="IN_FRAME"}(Kt||(Kt={}));class Xt{constructor(e,t){xt.add(this),zt.set(this,null),jt.set(this,void 0),Ht.set(this,void 0),this.dragState=Kt.IDLE,Wt.set(this,(e=>{e.preventDefault(),e.stopPropagation(),this.dragState=Kt.IN_FRAME,Zt(this,Ht,"f").requestUpdate()})),Gt.set(this,(e=>{if(e.preventDefault(),e.dataTransfer){const t=Qt(e.dataTransfer);Zt(this,jt,"f").call(this,t)}this.dragState=Kt.IDLE,Zt(this,Ht,"f").requestUpdate()})),Bt.set(this,(e=>{e.preventDefault(),this.dragState=Kt.IN_WINDOW,Zt(this,Ht,"f").requestUpdate()})),Jt.set(this,(e=>{e.preventDefault(),e.relatedTarget&&e.relatedTarget!==document.body||(this.dragState=Kt.IDLE,Zt(this,Ht,"f").requestUpdate())})),qt.set(this,(e=>{e.preventDefault()})),Yt(this,jt,t,"f"),Yt(this,Ht,e,"f"),e.addController(this),Yt(this,Wt,Zt(this,Wt,"f").bind(this),"f"),Yt(this,Gt,Zt(this,Gt,"f").bind(this),"f"),Yt(this,Bt,Zt(this,Bt,"f").bind(this),"f"),Yt(this,Jt,Zt(this,Jt,"f").bind(this),"f"),Yt(this,qt,Zt(this,qt,"f").bind(this),"f")}hostDisconnected(){Zt(this,xt,"m",Ft).call(this)}initEventListeners(e){Yt(this,zt,e,"f"),this.dragState=Kt.IDLE,Zt(this,Ht,"f").requestUpdate(),Zt(this,zt,"f").addEventListener("dragover",Zt(this,Wt,"f")),Zt(this,zt,"f").addEventListener("drop",Zt(this,Gt,"f")),window.addEventListener("dragover",Zt(this,Bt,"f")),window.addEventListener("dragleave",Zt(this,Jt,"f")),window.addEventListener("drop",Zt(this,Jt,"f")),window.addEventListener("dragover",Zt(this,qt,"f"))}}zt=new WeakMap,jt=new WeakMap,Ht=new WeakMap,Wt=new WeakMap,Gt=new WeakMap,Bt=new WeakMap,Jt=new WeakMap,qt=new WeakMap,xt=new WeakSet,Ft=function(){Zt(this,zt,"f")&&(Zt(this,zt,"f").removeEventListener("dragover",Zt(this,Wt,"f")),Zt(this,zt,"f").removeEventListener("drop",Zt(this,Gt,"f"))),window.removeEventListener("dragover",Zt(this,Bt,"f")),window.removeEventListener("dragleave",Zt(this,Jt,"f")),window.removeEventListener("drop",Zt(this,Jt,"f")),window.removeEventListener("dragover",Zt(this,qt,"f")),this.dragState=Kt.IDLE,Zt(this,Ht,"f").requestUpdate()};const Qt=e=>e.items?Array.from(e.items).map((e=>"file"===e.kind?e.getAsFile():null)).filter(Boolean):e.files?Array.from(e.files):[],ei=20971520,ti=41943040,ii=1073741824;const ai=["image/png","image/gif","image/jpeg","image/webp"],ri=["video/mp4","video/quicktime"];function si(e){const t=e.type;return ai.includes(t)?function(e){const t=e.type;return"image/gif"===t&&e.size>ti?{valid:!1,error:a.d(a.e`Upload failed, GIF size should be less than ${Math.floor(40)}MB.`),reason:"IMAGE_SIZE_LIMIT_EXCEEDED_ERROR"}:t.includes("image/")&&"image/gif"!==t&&e.size>ei?{valid:!1,error:a.d(a.e`Upload failed, Image size should be less than ${Math.floor(20)}MB.`),reason:"IMAGE_SIZE_LIMIT_EXCEEDED_ERROR"}:t.includes("video/")&&e.size>ii?{valid:!1,error:a.d(a.e`Upload failed, Video size should be less than ${Math.floor(1)}GB.`),reason:"VIDEO_SIZE_LIMIT_EXCEEDED_ERROR"}:{valid:!0,error:null}}(e):{valid:!1,error:a.d("Sorry, we accept only files (.png, .jpeg, .gif, .webp).")}}var oi,ni,li,di,ci,ui,pi,hi,mi,fi,vi,bi,wi,gi,Ei,Ti,ki,_i=function(e,t,i,a,r){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?r.call(e,i):r?r.value=i:t.set(e,i),i},Ii=function(e,t,i,a){if("a"===i&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?a:"a"===i?a.call(e):a?a.value:t.get(e)};function Si(e){return e.value?.url||""}!function(e){e.loading="loading",e.success="success"}(Ti||(Ti={})),function(e){e.image="image"}(ki||(ki={}));class yi{constructor(e,t){oi.add(this),this.media=[],ni.set(this,void 0),li.set(this,void 0),_i(this,ni,e,"f"),_i(this,li,t?.setValidation??(()=>{}),"f")}getValue(){const e=this.media.filter((e=>e.status===Ti.success));return 0===e.length?"":1===e.length?Si(e[0]):JSON.stringify(e.map(Si))}setValue(e){const t=JSON.parse(e);this.media=t}async handleMedia(e){try{const t=this.media.length,i=Ii(this,oi,"m",wi).call(this,e);if(i.length>0){Ii(this,li,"f").call(this,Ri);const e=[];for(const t of i)e.push(Ii(this,oi,"m",pi).call(this,t));this.media=this.media.concat(e),Ii(this,ni,"f").requestUpdate("mediaLength",t);const a=await Promise.all(e.map((e=>e.mediaResponse)));a.every((e=>!e?.error&&e?.url))?Ii(this,li,"f").call(this,""):Ii(this,li,"f").call(this,Ni),Ii(this,oi,"m",ui).call(this,a,t),Ii(this,ni,"f").requestUpdate()}}catch(e){if(!(e instanceof Error))return console.error(e),void Ii(this,oi,"m",Ei).call(this,a.d("Something went wrong. Please try again later"));Ii(this,oi,"m",Ei).call(this,e.message)}}getPostType(){return ki.image}hasLoadingMedia(){return this.media.some((e=>e.status===Ti.loading))}removeMedia(e){this.media.splice(e,1)}}ni=new WeakMap,li=new WeakMap,oi=new WeakSet,di=function(e){const t=new RegExp(`^${e}-(?<id>\\d+)$`);return`${e}-${1+this.media.reduce(((e,i)=>{const a=i.id.match(t);return a?Math.max(e,parseInt(a.groups.id,10)):e}),-1)}`},ci=function(){const e=new Event("change",{bubbles:!0});Ii(this,ni,"f").dispatchEvent(e)},ui=function(e,t){let i=!1;const a=[];for(const[r,s]of e.entries()){const e=t+r,{url:o,mediaId:n,error:l=null}=s??{},d=this.media[e];if(o&&n){const e={mediaId:n,url:o};d.id=n,d.value=e,d.status=Ti.success,i=!0}else Ii(this,oi,"m",bi).call(this,l),a.push(e)}a.length>0&&(this.media=this.media.filter(((e,t)=>!a.includes(t)))),i?Ii(this,oi,"m",ci).call(this):Ii(this,ni,"f").requestUpdate("mediaLength",this.media.length-1)},pi=function(e){const t=a.d("Unable to upload image"),i=Ii(this,oi,"m",fi).call(this,e),r=si(e);return r.valid?i.mediaResponse=Ii(this,oi,"m",hi).call(this,e):i.mediaResponse=Promise.resolve({error:r.error??t}),i},hi=async function(t){const i=e.c("devvit-image-upload",{blob:t,uploadRequest:null});Ii(this,ni,"f").dispatchEvent(i);const a=await i.detail.uploadRequest;return a||Promise.resolve({error:"Image upload failed"})},mi=function(e){const t=URL.createObjectURL(e);return{id:Ii(this,oi,"m",di).call(this,e.name),file:e,src:t,status:Ti.loading}},fi=function(e){return{...Ii(this,oi,"m",mi).call(this,e),type:"still"}},vi=function(e){return!!e&&ri.includes(e.type)},bi=function(t){Ii(this,ni,"f").dispatchEvent(e.c("faceplate-alert",{level:4,message:t??Ii(this,oi,"m",gi).call(this)}))},wi=function(e){let t=e;const i=e.some((e=>Ii(this,oi,"m",vi).call(this,e))),r=e.length>1,s=this.media.length>0;if(r||s){const e=a.d("Only one file can be used for the image input");return Ii(this,oi,"m",bi).call(this,e),[]}if(i&&(s||r)){const i=a.d("Image input can only contain images");Ii(this,oi,"m",bi).call(this,i),t=e.filter((e=>!Ii(this,oi,"m",vi).call(this,e)))}return t},gi=function(){return a.d("There was an error uploading the file")},Ei=function(e){const t=e||Ii(this,oi,"m",gi).call(this);Ii(this,li,"f").call(this,t)};const Ni="Media upload failed",Ri="Image upload is in progress";function Di(t){return r.x` <div class="flex relative justify-center align-center w-full h-full items-center flex-col"> ${"video"===t.type?function(t){const{src:i,posterSrc:a,file:s}=t;return r.x` <div class="max-h-[max(23vw,250px)] w-full"> <shreddit-player autoplay-pref ui="desktop" src="${i}" class="w-full h-full" poster="${e.ad(a)}"> <source src="${i}" type="${s.type}"> </shreddit-player> </div> `}(t):function(e){const{src:t}=e;return r.x` <div class="max-h-[min(20vw,150px)]"> <img src="${t}" class="w-full h-full" alt=""> <img src="${t}" class="absolute top-0 left-0 w-full h-full object-cover object-center opacity-30 -z-10" style="filter:blur(24px)" alt=""> </div> `}(t)} </div> `}function Pi(t){return r.x`<div class="absolute top-xs right-xs">${function(t){return e.o({size:e.q.Small,shape:"pill",appearance:"media",attributes:{type:"button",disabled:t,className:"remove-media remove action invisible group-hover:visible"},leadingIcon:u.d({size:r.I.Small}),screenReaderContent:""})}(t)}</div> `}function Ci(e){return"loading"===e.status?function(e){return r.x` <div class="loading-state w-full h-full flex flex-col flex-1"> <div class="flex flex-col flex-1 justify-center items-center bg-neutral-background-weak"> <faceplate-progress value="85" class="animate-spin" style="--loader-size:1rem" aria-label="${a.d("Uploading media")}"></faceplate-progress> </div> <div class="border-neutral-border border-solid border-0 border-t-sm py-xs px-sm flex flex-col items-start"> <p class="selected-file-name m-0 text-12 line-clamp-1">${e?.file?.name}</p> <p class="m-0 text-12">${a.d("Uploading...")}</p> </div> </div> `}(e):Di(e)}function Oi(t){const i=t.hasLoadingMedia();return r.x` <div class="w-full relative flex rounded-dx-md overflow-hidden"> <faceplate-carousel autoplay="off" nav-placement="${c.N.INSIDE}" pagination-placement="${c.P.OFF}" advance-animation="true"> <span slot="prevButton"> ${e.o({appearance:"media",size:e.q.Small,leadingIcon:p.c({size:r.I.Small}),attributes:{type:"button",id:"media-carousel-prev"}})} </span> <ul> ${t.media.map((e=>r.x`<li class="m-0 text-center rounded-dx-md"> ${Ci(e)} </li>`))} </ul> <span slot="nextButton"> ${e.o({appearance:"media",size:e.q.Small,leadingIcon:h.c({size:r.I.Small}),attributes:{type:"button",id:"media-carousel-next"}})} </span> </faceplate-carousel> ${r.x` <div class="absolute top-xs left-xs"> <div class="flex gap-md"></div> </div> `} ${Pi(i)} </div> `}var Ai,Ui,Mi,$i,Li,Vi,xi=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},zi=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ji=function(e,t,i,a){if("a"===i&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?a:"a"===i?a.call(e):a?a.value:t.get(e)};class Hi extends l.I{constructor(){super(...arguments),Ai.add(this),Ui.set(this,new Xt(this,(e=>{this.mediaController.handleMedia(e)}))),this.mediaController=new yi(this,{setValidation:e=>{e!==Ni||!this.field||this.field.required?ji(this,Ai,"m",$i).call(this,e):ji(this,Ai,"m",$i).call(this,"")}}),this.handleRemoveClick=()=>{this.mediaController.media=[],this.mediaController.media.length||ji(this,Ai,"m",Li).call(this),this.requestUpdate()},Vi.set(this,(async e=>{const t=e.target.closest("button.action");t&&(t.classList.contains("remove")?this.handleRemoveClick():t.classList.contains("upload-media")&&this._input?.click())}))}static get styles(){return[a.c,super.styles]}firstUpdated(e){super.firstUpdated(e),ji(this,Ui,"f").initEventListeners(this.fileInputInnerWrapper)}get value(){return this.mediaController.getValue()}set value(e){this.mediaController.setValue(e)}formDisabledCallback(e){e?this.setCustomValidity(""):!e&&0===this.value?.length&&this.field?.required&&(ji(this,Ai,"m",Li).call(this),this.reportValidity())}render(){const t=ai;let i="border-neutral-border "+(this.mediaController.media.length?"border-solid":"border-dashed");ji(this,Ui,"f").dragState===Kt.IN_WINDOW?i="bg-neutral-background-weak border-alienblue-600 border-dashed":ji(this,Ui,"f").dragState===Kt.IN_FRAME&&(i="bg-neutral-background-weak border-alienblue-600 border-solid");const s=r.x` <input class="file-input" hidden type="file" @input="${ji(this,Ai,"m",Mi)}" accept="${t.join(",")}"> `;return r.x` ${s} <div id="fileInputInnerWrapper" class="flex w-full border-sm rounded-dx-md overflow-hidden group min-h-[min(20vw,150px)] ${i}" @click="${ji(this,Vi,"f")}" @keypress="${ji(this,Vi,"f")}"> ${this.mediaController.media.length?Oi(this.mediaController):function({allowImages:t,allowVideos:i,inputDragState:s}){let o;return o=t&&i?a.d("Drag and Drop images or videos or"):t?a.d("Drag and Drop images or"):a.d("Drag and Drop videos or"),s===Kt.IN_FRAME&&(o=a.d("Drop here to upload")),r.x` <div class="w-full flex items-center justify-center"> <div id="inputInfo" class="flex flex-row gap-xs items-center"> ${o} ${e.o({size:e.q.Small,shape:"pill",appearance:"secondary",attributes:{type:"button",className:"upload-media action",id:"device-upload-button"},leadingIcon:d.u({size:r.I.Small}),screenReaderContent:""})} </div> </div> `}({allowImages:!0,allowVideos:!1,inputDragState:ji(this,Ui,"f").dragState})} </div> `}}Ui=new WeakMap,Vi=new WeakMap,Ai=new WeakSet,Mi=function(e){if(!(e.target instanceof HTMLInputElement))return;const t=e.target.files;t?.length&&(this.mediaController.handleMedia(Array.from(t)),e.target.value="")},$i=function(e){this.setCustomValidity(e),this.reportValidity()},Li=function(){ji(this,Ai,"m",$i).call(this,a.d("Please add an image"))},xi([e.a2("#fileInputInnerWrapper"),zi("design:type",HTMLDivElement)],Hi.prototype,"fileInputInnerWrapper",void 0),xi([e.n({type:yi}),zi("design:type",yi)],Hi.prototype,"mediaController",void 0),xi([e.n({attribute:!1}),zi("design:type",Object)],Hi.prototype,"field",void 0),xi([e.a2("input.file-input"),zi("design:type",HTMLInputElement)],Hi.prototype,"_input",void 0),customElements.define("devvit-form-image-field",Hi);const Fi=t=>e.ka` ${n.cp(t.fieldType,[[a.F.STRING,()=>(t=>{const{minLength:i,maxLength:a,placeholder:r}=t.fieldConfig?.stringConfig??{};return e.ka` <faceplate-text-input id="${t.fieldId}" name="${t.fieldId}" class="py-xs border-0" type="text" value="${e.gb(t.defaultValue?.stringValue)}" placeholder="${e.gb(r)}" helper-text-placeholder="${e.gb(t.helpText)}" minlength="${e.gb(i)}" maxlength="${e.gb(a)}" ?disabled="${t.disabled}" ?required="${t.required}"> <span slot="label">${t.label}</span> </faceplate-text-input> `})(t)],[a.F.IMAGE,()=>(t=>e.ka` <div> <devvit-form-image-field class="flex mt-xs" name="${t.fieldId}" .field="${t}"></devvit-form-image-field> <div class="text-12 text-neutral-content-weak mt-xs px-md"> <span>${a.d("Formats: JPG, PNG, GIF, WEBP")}</span> </div> ${Lt(t.helpText)} </div>`)(t)],[a.F.PARAGRAPH,()=>(t=>{const{lineHeight:i,maxCharacters:a,placeholder:r}=t.fieldConfig?.paragraphConfig??{};return e.ka` <faceplate-textarea-input id="${t.fieldId}" name="${t.fieldId}" class="py-xs border-0" value="${e.gb(t.defaultValue?.stringValue)}" placeholder="${e.gb(r)}" rows="${e.gb(i)}" size="expanded" maxlength="${e.gb(a)}" ?disabled="${t.disabled}" ?required="${t.required}" helper-text-placeholder="${e.gb(t.helpText)}"> <span slot="label">${t.label}</span> </faceplate-textarea-input> `})(t)],[a.F.NUMBER,()=>(t=>{const{min:i,max:a,step:r}=t.fieldConfig?.numberConfig??{};return e.ka` <faceplate-text-input id="${t.fieldId}" name="${t.fieldId}" class="py-xs border-0" type="number" value="${t.defaultValue?.numberValue??0}" min="${e.gb(i)}" max="${e.gb(a)}" step="${e.gb(r)}" ?required="${t.required}" ?disabled="${t.disabled}" helper-text-placeholder="${e.gb(t.helpText)}"> <span slot="label">${t.label}</span> </faceplate-text-input> `})(t)],[a.F.BOOLEAN,()=>(t=>e.ka` <div class="py-xs border-0"> <faceplate-switch-input id="${t.fieldId}" name="${t.fieldId}" class="border-0" ?required="${t.required}" ?checked="${t.defaultValue?.boolValue}" ?disabled="${t.disabled}"> ${t.label} </faceplate-switch-input> ${Lt(t.helpText)} </div> `)(t)],[a.F.SELECTION,()=>(t=>{const i=t.defaultValue?.selectionValue?.values??[],a=t.fieldConfig?.selectionConfig?.choices.map((t=>e.ka`<faceplate-option ?selected="${i.includes(t.value)}" value="${t.value}" display-text="${t.label}"></faceplate-option>`));return e.ka`<faceplate-select-text-input id="${t.fieldId}" name="${t.fieldId}" class="py-xs border-0" label="${t.label}" ?required="${t.required}" ?multiple="${t.fieldConfig?.selectionConfig?.multiSelect}" autocomplete="list" helper-text-placeholder="${e.gb(t.helpText)}" style="--faceplate-select-menu-max-height:250px"> <span slot="clearButton">${m.F.clearButton()}</span> ${a}</faceplate-select-text-input>`})(t)],[a.F.GROUP,()=>((t,i)=>e.ka` <div class="flex flex-col py-xs border-0 gap-y-xs"> ${Vt(t)} <div class="flex flex-col border border-solid border-tone-4 rounded-sm px-xs"> ${i(t.fieldConfig?.groupConfig?.fields??[])} </div> </div> `)(t,Wi)]])} `,Wi=t=>e.ka`${e.kb(t,(e=>Fi(e)))}`;var Gi,Bi,Ji,qi,Ki,Yi,Zi,Xi,Qi,ea,ta,ia=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},aa=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ra=function(e,t,i,a){if("a"===i&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?a:"a"===i?a.call(e):a?a.value:t.get(e)},sa=function(e,t,i,a,r){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?r.call(e,i):r?r.value=i:t.set(e,i),i};let oa=class extends r.s{constructor(){super(...arguments),Gi.set(this,(()=>{})),Bi.set(this,{}),Ji.set(this,(e=>e.reduce(((e,t)=>t.fieldType===a.F.GROUP?{...e,...ra(this,Ji,"f").call(this,t.fieldConfig?.groupConfig?.fields??[])}:(e[t.fieldId]=t,e)),{}))),qi.set(this,(()=>{const e={};if(!this.$form)return e;for(const t of this.$form.elementsIterator()){const{name:i,value:r}=t,{fieldType:s}=ra(this,Bi,"f")[i],o={fieldType:s,stringValue:"",numberValue:0,boolValue:!1,selectionValue:{values:[]}};switch(s){case a.F.STRING:case a.F.PARAGRAPH:case a.F.IMAGE:if(null===r||""===r.trim())continue;o.stringValue=r;break;case a.F.NUMBER:o.numberValue=Number(r||0);break;case a.F.BOOLEAN:o.boolValue="true"===r||"on"===r;break;case a.F.SELECTION:{const e=t.selectedOptions.map((e=>e.value));if(0===e.length)continue;o.selectionValue={values:e};break}}e[i]=o}return e})),Ki.set(this,(async()=>{const e=this.$form?.querySelectorAll('[faceplate-validity="invalid"]');if(!e||e.length>0)return;if(!this.form?.id)throw new Error("Cannot submit form due to missing form id. If you are using 'useForm' please make sure that it is not called conditionally inside of your component.");const t={hook:$t(this.form.id),formSubmitted:{formId:this.form.id,results:ra(this,qi,"f").call(this)}};await ra(this,Zi,"f").call(this,!1),ra(this,Gi,"f").call(this,t)})),Yi.set(this,(e=>{"Enter"!==e.key||e.target.tagName.includes("TEXTAREA")||ra(this,Ki,"f").call(this)})),Zi.set(this,(async e=>{if(e&&this.form?.id){const e={hook:$t(this.form.id),formCancelled:{formId:this.form.id}};ra(this,Gi,"f").call(this,e)}await(this.$dialog?.hide())})),Xi.set(this,(()=>{this.form=void 0,sa(this,Bi,{},"f")})),Qi.set(this,(()=>r.x`<div slot="title"> ${e.dS(this.form?.title)} </div>`)),ea.set(this,(()=>r.x`<span>${this.form?.shortDescription}</span>`)),ta.set(this,(()=>r.x` <div class="flex justify-end"> ${e.o({appearance:"secondary",size:e.q.Medium,children:this.form?.cancelLabel??e.dS("Cancel"),attributes:{onclick:()=>ra(this,Zi,"f").call(this,!0)}})} <div class="w-xs"></div> ${e.o({appearance:"primary",size:e.q.Medium,children:this.form?.acceptLabel??e.dS("OK"),attributes:{type:"submit",onclick:ra(this,Ki,"f")}})} </div> `))}static get styles(){return[a.c]}async showForm(e,t){this.$dialog&&(this.$form=this.$dialog.portalContainer.querySelector("faceplate-form"),this.form=e,sa(this,Bi,ra(this,Ji,"f").call(this,e.fields),"f"),sa(this,Gi,t,"f"),await(this.$dialog?.showModal()))}render(){const t=r.x`<rpl-modal-card class="max-h-[596px] w-[95vw] max-w-xl"> ${o.n(this.form?.title,ra(this,Qi,"f"))} <div slot="close-button"> ${e.o({appearance:"secondary",leadingIcon:e.al({size:r.I.Small}),size:e.q.Small,attributes:{onclick:()=>ra(this,Zi,"f").call(this,!0)}})} </div> <div class="flex flex-col gap-y-sm" @keyup="${ra(this,Yi,"f")}"> ${o.n(this.form?.shortDescription,ra(this,ea,"f"))} <faceplate-form @faceplate-submit="${e=>e.preventDefault()}" class="flex flex-col gap-y-sm"> ${Wi(this.form?.fields??[])} ${ra(this,ta,"f").call(this)} </faceplate-form> </div> </rpl-modal-card>`;return r.x` <rpl-dialog id="devvit-form-dialog" dialog-id="devvit-form-dialog" @rpl-dialog:request-close="${()=>ra(this,Zi,"f").call(this,!0)}" @rpl-dialog:after-hide="${ra(this,Xi,"f")}" .litTemplateChildren="${t}" auto-close> </rpl-dialog> `}};var na;Gi=new WeakMap,Bi=new WeakMap,Ji=new WeakMap,qi=new WeakMap,Ki=new WeakMap,Yi=new WeakMap,Zi=new WeakMap,Xi=new WeakMap,Qi=new WeakMap,ea=new WeakMap,ta=new WeakMap,ia([e.n({attribute:!1}),aa("design:type",Object)],oa.prototype,"form",void 0),ia([e.a2("rpl-dialog",!0),aa("design:type",e.iv)],oa.prototype,"$dialog",void 0),oa=ia([e.e("devvit-form-dialog")],oa),function(e){e.Mobile="Mobile",e.Desktop="Desktop",e.Fullscreen="Fullscreen"}(na||(na={}));const la=375;let da=class extends r.s{constructor(){super(...arguments),this.isFullscreen=!1,this.showUiSimulator=!1,this.previewSizes=[],this.selectedSize=na.Mobile,this.isCoachmarkDismissed=!1}handleSizeChange(e){const t=new CustomEvent("size-changed",{detail:e,bubbles:!0,composed:!0});this.dispatchEvent(t)}handleDropdownClick(){const e=new CustomEvent("dropdown-click",{bubbles:!0,composed:!0});this.dispatchEvent(e)}render(){let t="";switch(this.selectedSize){case na.Mobile:t="Mobile";break;case na.Desktop:t="Desktop";break;case na.Fullscreen:t="Fullscreen"}const i=this.showUiSimulator?r.x`<rpl-dropdown data-testid="ui-simulator-dropdown-menu" placement="bottom"> <div class="relative inline-block"> <rpl-badge class="absolute flex items-center justify-center w-4 h-4 end-0 -top-1 ${this.isCoachmarkDismissed?"hidden":""}" appearance="alert"></rpl-badge> ${f.d({appearance:"secondary",size:e.q.Small,children:t,attributes:{onclick:()=>this.handleDropdownClick()}})} </div> <rpl-menu slot="content"> ${this.previewSizes.map((e=>r.x`<rpl-menu-item size="small" @click="${t=>{t.stopPropagation(),this.handleSizeChange(e)}}" ?selected="${this.selectedSize===e}" value="${e}">${e}</rpl-menu-item>`))} </rpl-menu> </rpl-dropdown>`:r.A,a=!this.showUiSimulator&&this.onExpandCollapse?e.o({appearance:"secondary",shape:"pill",leadingIcon:this.isFullscreen?v.c({size:r.I.Small}):b.e({size:r.I.Small}),size:e.q.Small,attributes:{"data-test-id":"expand-collapse-button","aria-label":"Toggle fullscreen web view",onclick:this.onExpandCollapse}}):r.A;return r.x` <div class="flex items-center justify-between gap-xs"> ${i} ${a} </div> `}};da.styles=[e.t],e._([e.n({type:Boolean,attribute:"is-fullscreen"})],da.prototype,"isFullscreen",void 0),e._([e.n({attribute:!1})],da.prototype,"onExpandCollapse",void 0),e._([e.n({type:Boolean,attribute:"show-ui-simulator"})],da.prototype,"showUiSimulator",void 0),e._([e.n({type:Array})],da.prototype,"previewSizes",void 0),e._([e.n({type:String})],da.prototype,"selectedSize",void 0),e._([e.n({type:Boolean,attribute:"is-coachmark-dismissed"})],da.prototype,"isCoachmarkDismissed",void 0),da=e._([e.e("devvit-web-view-preview-size-controls")],da);let ca=class extends r.s{constructor(){super(...arguments),this.handleCoachmarkDismiss=()=>{}}render(){return r.x` <rpl-coachmark-card aria-live="polite" class="flex flex-col p-0 rounded-2 w-[225px]" appearance="inverted"> <div class="flex flex-col items-start p-0 gap-xs"> <span class="font-bold text-14">${"Preview across devices"}</span> <span class="font-normal text-12">${"Design responsively. Test your app in mobile and desktop views."}</span> <span class="font-normal text-12">${"This mode is only visible to you, the app owner."}</span> <a href="${"https://developers.reddit.com/docs/next/guides/tools/ui_simulator"}" target="_blank" rel="noopener noreferrer" class="text-12 font-normal"> ${"Learn more"} </a> </div> <div class="flex flex-col items-end mt-md"> ${e.o({children:"Got it",appearance:"secondary",shape:"pill",size:e.q.Small,attributes:{"data-test-id":"dismiss-button","aria-label":"Got it",onclick:()=>this.handleCoachmarkDismiss()}})} </div> </rpl-coachmark-card> `;}};ca.styles=[e.t],e._([e.n({attribute:!1})],ca.prototype,"handleCoachmarkDismiss",void 0),ca=e._([e.e("devvit-ui-simulator-coachmark-card")],ca);let ua=class extends r.s{constructor(){super(...arguments),this.isDarkModeEnabled=!1}render(){return r.x` ${e.o({appearance:"secondary",shape:"pill",leadingIcon:this.isDarkModeEnabled?w.n({size:r.I.Small}):w.d({size:r.I.Small}),size:e.q.Small,attributes:{"data-test-id":"dark-mode-toggle","aria-label":this.isDarkModeEnabled?"Switch to light mode":"Switch to dark mode",onclick:()=>{this.onToggle?.(!this.isDarkModeEnabled)}}})} `;}};ua.styles=[e.t],e._([e.n({type:Boolean,attribute:"is-dark-mode-enabled"})],ua.prototype,"isDarkModeEnabled",void 0),e._([e.n({attribute:!1})],ua.prototype,"onToggle",void 0),ua=e._([e.e("devvit-preview-dark-mode-toggle")],ua);const pa="devvit-preview-coachmark-dismissed";let ha=class extends r.s{constructor(){super(...arguments),this.isFullscreen=!1,this.onClose=()=>{},this.showUiSimulator=!1,this.previewSizes=[],this.selectedSize=na.Mobile,this.isDarkModeEnabled=!1,this._isCoachmarkDismissed=!1,this.webViewSubredditDetails={showSubredditJoinButton:!1,subredditId:"",subredditName:""},this._handleCoachmarkDismiss=()=>{this._isCoachmarkDismissed=!0,e.a8.isAvailable()&&e.a8.setItem(pa,"true")}}connectedCallback(){super.connectedCallback(),e.a8.isAvailable()&&(this._isCoachmarkDismissed="true"===e.a8.getItem(pa))}render(){const t=!this._isCoachmarkDismissed&&this.showUiSimulator;return r.x` <div class="flex justify-between items-center gap-xs"> ${this.showUiSimulator?r.x` <devvit-preview-dark-mode-toggle ?is-dark-mode-enabled="${this.isDarkModeEnabled}" .onToggle="${e=>{this.dispatchEvent(new CustomEvent("dark-mode-toggled",{detail:e}))}}"></devvit-preview-dark-mode-toggle> `:""} ${this.webViewSubredditDetails.showSubredditJoinButton?r.x` <shreddit-join-button subreddit-id="${this.webViewSubredditDetails.subredditId}" name="${this.webViewSubredditDetails.subredditName}" buttonsize="small" button-classes="px-xs" subscribe-label="${"Join"}" unsubscribe-label="${"Joined"}" with-tracking tracking-source="devplatform" tracking-action="click" tracking-subscribe-noun="web_view_subscribe" tracking-unsubscribe-noun="web_view_unsubscribe"></shreddit-join-button> `:""} <rpl-coachmark ?open="${t}" appearance="inverted"> <devvit-web-view-preview-size-controls ?is-fullscreen="${this.isFullscreen}" .onExpandCollapse="${this.onExpandCollapse}" ?show-ui-simulator="${this.showUiSimulator}" .previewSizes="${this.previewSizes}" .selectedSize="${this.selectedSize}" @dropdown-click="${this._handleCoachmarkDismiss}" ?is-coachmark-dismissed="${this._isCoachmarkDismissed}"> </devvit-web-view-preview-size-controls> ${t?r.x`<devvit-ui-simulator-coachmark-card slot="content" .handleCoachmarkDismiss="${this._handleCoachmarkDismiss}"></devvit-ui-simulator-coachmark-card>`:r.A} </rpl-coachmark> ${e.o({appearance:"secondary",shape:"pill",leadingIcon:e.al({size:r.I.Small}),size:e.q.Small,attributes:{"data-test-id":"close-button","aria-label":"Close fullscreen web view",onclick:this.onClose}})} </div> `;}};ha.styles=[e.t],e._([e.n({type:Boolean,attribute:"is-fullscreen"})],ha.prototype,"isFullscreen",void 0),e._([e.n({attribute:!1})],ha.prototype,"onExpandCollapse",void 0),e._([e.n({attribute:!1})],ha.prototype,"onClose",void 0),e._([e.n({type:Boolean,attribute:"show-ui-simulator"})],ha.prototype,"showUiSimulator",void 0),e._([e.n({type:Array})],ha.prototype,"previewSizes",void 0),e._([e.n({type:String})],ha.prototype,"selectedSize",void 0),e._([e.n({type:Boolean,attribute:"is-dark-mode-enabled"})],ha.prototype,"isDarkModeEnabled",void 0),e._([e.h()],ha.prototype,"_isCoachmarkDismissed",void 0),e._([e.n({type:Object})],ha.prototype,"webViewSubredditDetails",void 0),ha=e._([e.e("devvit-fullscreen-web-view-controls")],ha);let ma=class extends r.s{constructor(){super(...arguments),this.isDesktopViewport=!1,this.isDarkModeEnabled=!1,this.webViewUrl="",this.webViewPostTitle="",this.appSlug="",this.installationId="",this.showUiSimulator=!1,this.webViewSubredditDetails={showSubredditJoinButton:!1,subredditId:"",subredditName:""},this.onCloseWebView=[],this._selectedWebViewPreviewSize=na.Mobile,this._focusWebViewIframe=()=>{const e=this._portalContainer,t=e?.querySelector("devvit-blocks-web-view"),i=t?.shadowRoot?.querySelector("iframe");i?.focus()},this._measureCssVarPx=e=>{const t=document.createElement("div");t.style.position="absolute",t.style.visibility="hidden",t.style.setProperty("width",`var(${e})`),document.body.appendChild(t);const i=t.getBoundingClientRect().width;return document.body.removeChild(t),Number.isFinite(i)&&i>0?Math.round(i):null},this._computeDesktopWidthPx=()=>{const e=this._measureCssVarPx("--size-2xl")??0,t=Math.max(0,window.innerWidth-e);return Math.min(724,t)},this._applyWidthVarToPortal=e=>{const t=this._portalContainer;t&&(e?t.style.setProperty("--wv-modal-width",e):t.style.removeProperty("--wv-modal-width"))},this._setWebViewPreviewSize=e=>{switch(this._selectedWebViewPreviewSize=e,e){case na.Mobile:this._applyWidthVarToPortal("375px"),this.setAttribute("data-preview-size","mobile");break;case na.Desktop:{const e=this._computeDesktopWidthPx();this._applyWidthVarToPortal(`${e}px`),this.setAttribute("data-preview-size","desktop");break}case na.Fullscreen:this._applyWidthVarToPortal(null),this.setAttribute("data-preview-size","fullscreen")}this._focusWebViewIframe()},this._handleExpandCollapse=()=>{const e=this._selectedWebViewPreviewSize===na.Fullscreen?na.Desktop:na.Fullscreen;this._setWebViewPreviewSize(e)},this._updateWebViewColorScheme=()=>{const e=document.getElementById("devvit-web-view-dialog");e&&this.showUiSimulator&&(e.style.colorScheme=this.isDarkModeEnabled?"dark":"light")}}firstUpdated(e){super.firstUpdated(e),this._initializeDialogSize()}_initializeDialogSize(){this.isDesktopViewport?this.showUiSimulator?this._setWebViewPreviewSize(na.Mobile):this._setWebViewPreviewSize(na.Desktop):this._setWebViewPreviewSize(na.Fullscreen)}willUpdate(e){if((e.has("webViewUrl")||e.has("appSlug")||e.has("installationId"))&&this.webViewUrl&&this.appSlug&&this.installationId)switch(this._webViewDialog?.showModal(),this._selectedWebViewPreviewSize){case na.Mobile:this._applyWidthVarToPortal("375px");break;case na.Desktop:this._applyWidthVarToPortal("min(724px, calc(100vw - var(--size-2xl)))");break;case na.Fullscreen:this._applyWidthVarToPortal(null)}e.has("webViewPostTitle")&&!this.webViewPostTitle&&this._webViewDialog?.hide(),e.has("isDarkModeEnabled")&&this._updateWebViewColorScheme()}updated(e){super.updated(e),e.has("showUiSimulator")&&this._initializeDialogSize(),e.has("isDarkModeEnabled")&&this._updateWebViewColorScheme()}get _portalContainer(){return this._webViewDialog?.portalContainer??document.getElementById("devvit-web-view-dialog")}render(){const e=this._selectedWebViewPreviewSize===na.Fullscreen?"w-screen h-screen rounded-none":"w-[var(--wv-modal-width)] h-[644px] relative";let t="";if(this.showUiSimulator)switch(this._selectedWebViewPreviewSize){case na.Mobile:t="max-w-[160px]";break;case na.Desktop:t="max-w-[500px]";break;case na.Fullscreen:t="";break;default:this._selectedWebViewPreviewSize}const i=this.webViewUrl&&this.webViewPostTitle?r.x`<rpl-modal-card class="${e}"> <div slot="title" class="truncate overflow-hidden xs:max-w-[calc(100%-30px)]"> <div class="flex flex-col gap-0"> <p class="text-[16px] mt-[4px] font-bold text-ellipsis truncate mb-[-4px] ${t}"> ${`${this.webViewPostTitle}`} </p> ${this.showUiSimulator?r.x`<span id="ui-simulator-subtitle" class="text-[12px] neutral-content-weak font-normal"> ${"UI simulator"} </span>`:r.A} </div> </div> <div slot="close-button"> <devvit-fullscreen-web-view-controls .onExpandCollapse="${this.isDesktopViewport?this._handleExpandCollapse:void 0}" .onClose="${()=>{this._webViewDialog?.hide()}}" .previewSizes="${Object.values(na)}" .selectedSize="${this._selectedWebViewPreviewSize}" @size-changed="${e=>{this._setWebViewPreviewSize(e.detail)}}" @dark-mode-toggled="${e=>{this.isDarkModeEnabled=e.detail}}" ?is-fullscreen="${this._selectedWebViewPreviewSize===na.Fullscreen}" ?show-ui-simulator="${this.showUiSimulator}" ?is-dark-mode-enabled="${this.isDarkModeEnabled}" .webViewSubredditDetails="${this.webViewSubredditDetails}"></devvit-fullscreen-web-view-controls> </div> <devvit-blocks-web-view src="${this.webViewUrl}" data-block-type="web-view" class="box-border col-start-1 row-start-1 shrink grow absolute inset-0 mt-[60px]" ?autoFocus="${!0}" focusable .context="${this.context}" @devvit-web-view-click="${e=>this.trackWebViewEvent?.("click","webview",void 0,e.detail?.definition)}" @devvit-web-view-loaded="${e=>{this.trackWebViewTTI?.(e.detail.timeStart,e.detail.timeEnd,"fullscreen")}}" @devvit-web-view-immersive-mode="${this.onExpandEffect}" .onReceivedPostMessage="${this.webViewEffectHandler?.onReceivedPostMessage}"></devvit-blocks-web-view> </rpl-modal-card>`:r.A;return r.x` <rpl-dialog id="devvit-web-view-dialog" dialog-id="devvit-web-view-dialog" @rpl-dialog:after-show="${()=>{const e=this._selectedWebViewPreviewSize===na.Mobile?"375px":this._selectedWebViewPreviewSize===na.Desktop?`${this._computeDesktopWidthPx()}px`:null;this._applyWidthVarToPortal(e)}}" @rpl-dialog:after-hide="${()=>{this.isDesktopViewport?this.showUiSimulator?this._selectedWebViewPreviewSize=na.Mobile:this._selectedWebViewPreviewSize=na.Desktop:this._selectedWebViewPreviewSize=na.Fullscreen;for(const e of this.onCloseWebView??[])e();this.onFullscreenUrlChange?.(""),this.clearRealtimeHandler?.();const e=this._portalContainer;e&&this.showUiSimulator&&e.style.removeProperty("color-scheme"),e&&e.style.removeProperty("--wv-modal-width")}}" .litTemplateChildren="${i}"> </rpl-dialog> `}};ma.styles=[r.a`:host{display:block;--wv-modal-width:min(${724}px, calc(100vw - var(--size-2xl)))}@media (max-width:${724}px){:host{--wv-modal-width:min(${540}px, calc(100vw - var(--size-2xl)))}}:host([data-preview-size=mobile]){--wv-modal-width:${la}}`,e.t],e._([e.a2("rpl-dialog")],ma.prototype,"_webViewDialog",void 0),e._([e.n({type:Boolean,attribute:"is-desktop-viewport"})],ma.prototype,"isDesktopViewport",void 0),e._([e.n({type:Boolean,attribute:"is-dark-mode-enabled"})],ma.prototype,"isDarkModeEnabled",void 0),e._([e.n({type:String,attribute:!1})],ma.prototype,"webViewUrl",void 0),e._([e.n({type:String,attribute:!1})],ma.prototype,"webViewPostTitle",void 0),e._([e.n({type:String,attribute:!1})],ma.prototype,"appSlug",void 0),e._([e.n({type:String,attribute:!1})],ma.prototype,"installationId",void 0),e._([e.n({type:Boolean,attribute:"show-ui-simulator"})],ma.prototype,"showUiSimulator",void 0),e._([e.n({type:Object,attribute:!1})],ma.prototype,"webViewSubredditDetails",void 0),e._([e.n({type:Object,attribute:!1})],ma.prototype,"onFullscreenUrlChange",void 0),e._([e.n({type:Array,attribute:!1})],ma.prototype,"onCloseWebView",void 0),e._([e.n({type:Object,attribute:!1})],ma.prototype,"trackWebViewEvent",void 0),e._([e.n({type:Object,attribute:!1})],ma.prototype,"trackWebViewTTI",void 0),e._([e.n({type:Object,attribute:!1})],ma.prototype,"clearRealtimeHandler",void 0),e._([e.n({type:Object,attribute:!1})],ma.prototype,"webViewEffectHandler",void 0),e._([e.n({type:Object,attribute:!1})],ma.prototype,"context",void 0),e._([e.n({type:Object,attribute:!1})],ma.prototype,"onExpandEffect",void 0),e._([e.h()],ma.prototype,"_selectedWebViewPreviewSize",void 0),ma=e._([e.e("devvit-web-view-dialog-loader")],ma);let fa=class extends r.s{constructor(){super(...arguments),this.loid="unknown",this.isDesktopViewport=!1,this.isDarkModeEnabled=!1,this._webViewUrl="",this._webViewPostTitle="",this._appSlug="",this._installationId="",this._showUiSimulator=!1,this._webViewSubredditDetails={showSubredditJoinButton:!1,subredditId:"",subredditName:""},this._stagedSafetyReport={},this._realtimeEffectHandler=void 0,this._webViewEffectHandler=void 0,this._navigateToEffectHandler=void 0,this._eventsController=new e.E(this),this._purchaseController=new he(this),this._onCloseWebView=[],this._trackWebViewEvent=null,this._trackWebViewTTI=null,this._fireBeforeRouteEvent=()=>{this._webViewPostTitle="",this._formDialog?.$dialog?.hide(),this._navigationDialog?.$dialog?.hide()},this.stageSafetyReport=e=>{this._stagedSafetyReport=e.detail},this.setFullscreenWebViewProperties=e=>{this._webViewPostTitle=e.detail.postTitle,this._webViewUrl=e.detail.webViewUrl??"",this._appSlug=e.detail.appSlug,this._installationId=e.detail.installationId,this._showUiSimulator=e.detail.showUiSimulator&&this.isDesktopViewport,this._webViewSubredditDetails=e.detail.subreddit,this._context=e.detail.context,this._onCloseWebView=e.detail.onCloseWebView??[],this._trackWebViewEvent=e.detail.trackDevvitPostV2Event,this._trackWebViewTTI=e.detail.trackWebViewTTI,this._clearRealtimeHandler(),this._appSlug&&this._installationId&&(this._realtimeEffectHandler=new V(this,this._appSlug,this._installationId),this.addController(this._realtimeEffectHandler),this._realtimeEffectHandler.enable()),this._navigateToEffectHandler?.setAdsMetadata(e.detail.adsMetadata),this._realtimeEffectHandler?.enable()},this.submitSafetyReport=async()=>{const{postId:t,encodedData:i}=this._stagedSafetyReport;await async function(t){try{const{encodedData:i}=t;if(!i)return null;const{data:a,errors:r}=await e.Y({operation:e.O.CreateCustomPostSnapshot,variables:{input:t}});if(a.createCustomPostSnapshot?.errors?.[0])throw new Error(a.createCustomPostSnapshot?.errors?.[0].message);if(!a?.createCustomPostSnapshot?.ok||r?.[0])throw new Error("Something went wrong creating the snapshot");const{ok:s}=a.createCustomPostSnapshot;return s}catch(e){return window.Sentry?.captureException?.(e),null}}({postId:t,encodedData:i})},this.onFullscreenUrlChange=async e=>{this._webViewUrl=e,""===e&&(this._webViewPostTitle="",await this.updateComplete,this._resetFullscreenWebViewPropertiesEventCallbacks(),this._clearRealtimeHandler())},this.uploadImage=t=>{const{id:i}=e.kc(this.loid);t.detail.uploadRequest=Dt(t.detail.blob,i)},this._onExpandEffect=e=>{e.detail.immersiveMode===J.IMMERSIVE_MODE?e.detail.entryUrl&&this.onFullscreenUrlChange(e.detail.entryUrl):this.onFullscreenUrlChange("")},this.clearRealtimeHandler=()=>{this._clearRealtimeHandler()}}_resetFullscreenWebViewPropertiesEventCallbacks(){this._onCloseWebView=[],this._trackWebViewEvent=null,this._trackWebViewTTI=null}connectedCallback(){super.connectedCallback(),a.i(),new Ie(this),new Ee(this),new Nt(this,this._purchaseController),new x(this),this._navigateToEffectHandler=new B(this),this._webViewEffectHandler=new je(this,this.onFullscreenUrlChange),this._eventsController.define("stage-devplatform-snapshot",this.stageSafetyReport),this._eventsController.define("submit-report-modal",this.submitSafetyReport),this._eventsController.define("set-fullscreen-web-view-properties",this.setFullscreenWebViewProperties),window.addEventListener("beforeRoute",this._fireBeforeRouteEvent)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("beforeRoute",this._fireBeforeRouteEvent),this._clearRealtimeHandler()}firstUpdated(){this._navigateToEffectHandler&&this._navigationDialog&&this._navigateToEffectHandler.setDialog(this._navigationDialog)}render(){return r.x` <div @devvit-image-upload="${this.uploadImage}"> <slot></slot> <devvit-form-dialog></devvit-form-dialog> <devvit-web-view-dialog-loader ?is-desktop-viewport="${this.isDesktopViewport}" ?is-dark-mode-enabled="${this.isDarkModeEnabled}" .webViewUrl="${this._webViewUrl}" .webViewPostTitle="${this._webViewPostTitle}" .appSlug="${this._appSlug}" .installationId="${this._installationId}" ?show-ui-simulator="${this._showUiSimulator}" .webViewSubredditDetails="${this._webViewSubredditDetails}" .onFullscreenUrlChange="${this.onFullscreenUrlChange}" .onCloseWebView="${this._onCloseWebView||void 0}" .trackWebViewEvent="${this._trackWebViewEvent||void 0}" .context="${this._context}" @devvit-web-view-loaded="${e=>{this._trackWebViewTTI?.(e.detail.timeStart,e.detail.timeEnd,"fullscreen")}}" .onExpandEffect="${this._onExpandEffect}" .clearRealtimeHandler="${this.clearRealtimeHandler}" .webViewEffectHandler="${this._webViewEffectHandler}"></devvit-web-view-dialog-loader> <devvit-navigate-offsite-dialog></devvit-navigate-offsite-dialog> </div> `}_clearRealtimeHandler(){this._realtimeEffectHandler&&(this._realtimeEffectHandler.hostDisconnected(),this.removeController(this._realtimeEffectHandler),this._realtimeEffectHandler=void 0)}};return fa.styles=[r.a`:host{display:block}`,e.t],e._([e.n({type:String})],fa.prototype,"loid",void 0),e._([e.n({type:Boolean,attribute:"is-desktop-viewport"})],fa.prototype,"isDesktopViewport",void 0),e._([e.n({type:Boolean,attribute:"is-dark-mode-enabled"})],fa.prototype,"isDarkModeEnabled",void 0),e._([e.a2("devvit-form-dialog")],fa.prototype,"_formDialog",void 0),e._([e.a2("devvit-navigate-offsite-dialog")],fa.prototype,"_navigationDialog",void 0),e._([e.h()],fa.prototype,"_webViewUrl",void 0),e._([e.h()],fa.prototype,"_webViewPostTitle",void 0),e._([e.h()],fa.prototype,"_appSlug",void 0),e._([e.h()],fa.prototype,"_installationId",void 0),e._([e.h()],fa.prototype,"_showUiSimulator",void 0),e._([e.h()],fa.prototype,"_webViewSubredditDetails",void 0),fa=e._([e.e("devvit-wrapper")],fa),{D:V,get W(){return J}}}));
SML.dm("BskNjLbli-",[],(async()=>{var _,E,e,t,T,S;return function(_){_.OPTIONS="options",_.SUBREDDIT_RULES="subreddit_rules",_.SUPPORTING_EVIDENCE="supporting_evidence",_.SUBMIT="submit",_.URL="url",_.FLOW="flow",_.FLOW_SUBMIT="flow_submit"}(_||(_={})),function(_){_.ADDITIONAL_CONTENT="ADDITIONAL_CONTENT",_.FREE_TEXT="FREE_TEXT",_.USERNAMES="USERNAMES",_.BAN_EVASION_USERS="BAN_EVASION_USERS"}(E||(E={})),function(_){_.REPORT_REASONS="REPORT_REASONS",_.USER_DETAILS="USER_DETAILS",_.BAN_EVASION="BAN_EVASION_USERS",_.SUCCESS="SUCCESS",_.CTL_STEP_ONE="CTL_STEP_ONE",_.CTL_STEP_TWO="CTL_STEP_TWO"}(e||(e={})),function(_){_.Post="post",_.Comment="comment",_.User="user",_.PrivateMessage="PrivateMessage",_.ModmailMessage="ModmailMessage",_.Username="username"}(t||(t={})),function(_){_.MOD_CONTENT="mod_content",_.USER_CONTENT="user_content",_.REPORT_PAGE="report_page"}(T||(T={})),function(_){_.ADD_CONTENT="add_content",_.FREE_TEXT="free_text",_.CUSTOM_RESPONSE="custom_response",_.REPORT_REASON="report_reason",_.REPORT_SUBREASON="report_subreason",_.OUTBOUND_LINK="outbound_link",_.REPORT_SUBMIT="report_submit",_.REPORT_FLOW_DONE="report_flow_done",_.NEXT_BUTTON="next_button",_.BACK_ARROW="back_arrow",_.X_OUT="x_out",_.BLOCK_USER_TOGGLE="block_user_toggle",_.REDDITCARES_BUTTON="redditcares_button",_.USER="another_user",_.CONTENT="reddit_content",_.BAN_EVASION="ban_evasion",_.SUBMIT_ANOTHER="submit_another_report"}(S||(S={})),{get F(){return S},get N(){return _},get R(){return e},get S(){return E},get V(){return t},get a(){return T}}}));

SML.di("./CBbxnHsw2W.js",import.meta.url,"CBbxnHsw2W");SML.di("./DflF56Kkuz.js",import.meta.url,"DflF56Kkuz");SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./56Dbwv-SJ6.js",import.meta.url,"56Dbwv-SJ6");SML.di("./B-zFJtiar6.js",import.meta.url,"B-zFJtiar6");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./B0pL5bhFHV.js",import.meta.url,"B0pL5bhFHV");SML.di("./BtqmVQuPYp.js",import.meta.url,"BtqmVQuPYp");SML.di("./DFgwjk6Rt3.js",import.meta.url,"DFgwjk6Rt3");SML.di("./BskNjLbli-.js",import.meta.url,"BskNjLbli-");
SML.dm("C2shG7KbRT",["Dw4vb8Yfbm","B-zFJtiar6","5r73EsgItq","CBbxnHsw2W","DflF56Kkuz","56Dbwv-SJ6","B0pL5bhFHV","BtqmVQuPYp","DFgwjk6Rt3","BskNjLbli-"],(async(t,e,o)=>{let i=class extends o.s{get rplDialogSheet(){return this.querySelector("rpl-dialog-sheet")}get featureRoot(){return document.querySelector("#report-flow-content-modal rpl-modal-card")}constructor(){super(),this.pubsub=new t.u(this),this.isModmailEnabled=!1,this._activateFeature=async e=>t.r(e),this.initReportFlow=async({thingId:o,authorName:i,authorId:r,flowType:s,conversationId:a,triggerElement:l,permalink:p,onCloseCallback:n})=>{this.triggerElement=l,this.onCloseCallback=n;const E=o.startsWith("ad_"),_=s===t.v.UserDetails,h=s===t.v.Modmail&&!this.isModmailEnabled;E||_||h?await this._activateFeature({name:t.gQ,routeParams:{thing_id:o,author_name:i||e.c9(),is_desktop:this.isDesktop?"is-desktop":"is-not-desktop",author_id:r,flow_type:s??t.v.InlineContent},queryParams:{permalink:p??""},renderMode:t.P.Contents}):(await(this.rplDialogSheet?.showModal()),await this._activateFeature({name:t.gP,renderMode:t.P.Contents,root:this.featureRoot,queryParams:{is_desktop:!!this.isDesktop,thing_id:o,flow_type:s??t.v.InlineContent,permalink:p??"",...a?{conversation_id:a}:{}}}))},this.closeFlexibleReportFlow=async()=>{await(this.rplDialogSheet?.hide()),this.triggerElement&&this.triggerElement.focus()},this.closeReportFlow=async()=>{await(this.reportFlow?.updateComplete),this.triggerElement&&this.triggerElement.focus()},this.hideReportedAd=async()=>{await(this.reportFlow?.updateComplete),this.onCloseCallback?.()},this.addEventListener("report-flow-close",this.closeReportFlow),this.addEventListener("submit-report-modal",this.hideReportedAd)}connectedCallback(){super.connectedCallback(),this.pubsub.subscribe(t.T.ReportFlowInit,this.initReportFlow,!1),this.pubsub.subscribe(t.T.ReportFlowClose,this.closeFlexibleReportFlow,!1)}render(){return o.x`<slot></slot>`}};t._([t.n({type:Boolean,attribute:"is-desktop"})],i.prototype,"isDesktop",void 0),t._([t.n({type:Boolean,attribute:"modmail-enabled"})],i.prototype,"isModmailEnabled",void 0),t._([t.a2("report-flow")],i.prototype,"reportFlow",void 0),i=t._([t.e("report-flow-provider")],i)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./jWC3N3n7Al.js",import.meta.url,"jWC3N3n7Al");SML.di("./D_6DXw1u0k.js",import.meta.url,"D_6DXw1u0k");SML.di("./Bk8sRXhdir.js",import.meta.url,"Bk8sRXhdir");SML.di("./D-ibjVaztZ.js",import.meta.url,"D-ibjVaztZ");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./CIOo61duNV.js",import.meta.url,"CIOo61duNV");SML.di("./CQMf561ZyA.js",import.meta.url,"CQMf561ZyA");SML.di("./M-CiwvFL1u.js",import.meta.url,"M-CiwvFL1u");SML.di("./cg7FPmv2fT.js",import.meta.url,"cg7FPmv2fT");SML.di("./CBbxnHsw2W.js",import.meta.url,"CBbxnHsw2W");SML.di("./B0p6XlbwHt.js",import.meta.url,"B0p6XlbwHt");SML.di("./DfOK659qrU.js",import.meta.url,"DfOK659qrU");SML.di("./DSh0Ye202d.js",import.meta.url,"DSh0Ye202d");
SML.dm("CRJVLkmEl4",["Dw4vb8Yfbm","jWC3N3n7Al","D-ibjVaztZ","5r73EsgItq","cg7FPmv2fT","D_6DXw1u0k","Bk8sRXhdir","CIOo61duNV","CQMf561ZyA","M-CiwvFL1u","CBbxnHsw2W","B0p6XlbwHt","DfOK659qrU","DSh0Ye202d"],(async(e,t,i,a,r)=>{var s,n;!function(e){e.isSubmitError="isSubmitError",e.isRateLimitError="isRateLimitError",e.isBlockingError="isBlockingError",e.isReportBlockingSuccess="isReportBlockingSuccess",e.isReportUnblockingSuccess="isReportUnblockingSuccess"}(s||(s={})),function(e){e.Post="post",e.Comment="comment",e.User="user",e.PrivateMessage="private_message"}(n||(n={}));class o{constructor(t){this.gqlOperationByType={[n.Post]:e.O.ReportPost,[n.Comment]:e.O.ReportComment,[n.User]:e.O.ReportUserDetails,[n.PrivateMessage]:e.O.ReportPrivateMessage},this.inputKeyByType={[n.Post]:"postId",[n.Comment]:"commentId",[n.User]:"redditorId",[n.PrivateMessage]:"messageId"},this.getItemType=e=>{if(e.includes("t4_"))return n.PrivateMessage;if(e.includes("t3_"))return n.Post;if(e.includes("t2_"))return n.User;if(e.includes("t1_"))return n.Comment;throw new Error("Unsupported item type provided")},this.onReportSubmit=async e=>{const{actionData:t,hiddenInputValues:i}=e;if(!t)return;const a=i.thingId,r=this.getItemType(a),s=this.reportPayloadGenerator(i,t),n=await this.getReportOperationResponse(r,a,s);if(!n||n.errors&&n.errors.length)return!1;const o="reportPost"in n.data&&n.data?.reportPost?.ok,l="reportComment"in n.data&&n.data?.reportComment?.ok,d="reportUserDetails"in n.data&&n.data?.reportUserDetails?.ok,u="reportPrivateMessage"in n.data&&n.data?.reportPrivateMessage?.ok;return o||l||d||u},this.onCTLReportSubmit=async(e,t)=>{const i=this.getItemType(e),a=await this.getReportOperationResponse(i,e,{fromHelpDesk:!1,siteRule:"SELF_HARM",...(t ? {userDetailType:t} : {})});if(!a||a.errors&&a.errors.length)return!1;const r="reportPost"in a.data&&a.data?.reportPost?.ok,s="reportComment"in a.data&&a.data?.reportComment?.ok,n="reportUserDetails"in a.data&&a.data?.reportUserDetails?.ok;return!!(r||s||n)||null},this.reportPayloadGenerator=(e,t)=>{const{ruleType:i,ruleId:a,freeText:r,additionalContent:s}=t,o=e[a.ref],l=this.getItemType(e.thingId),d={fromHelpDesk:!1,...(this.isEmbed ? {hostAppName:"R2"} : {})};if("site"===i?d.siteRule=o:"subreddit"===i&&"other"===o?d.customRule=e["customRule.value"]:d.subredditRule=e["subredditRule.value"],l===n.User&&(d.userDetailType=e["userDetail.value"]),r&&r.ref&&(d.freeText=e["freeText.value"]),s&&s.ref){const t=e[s.ref];t&&(d.reportedItems=t.split(",").map((e=>({itemId:e}))))}return d},this.getReportOperationResponse=async(e,t,i)=>{const a=this.inputKeyByType[e];if(!a)throw new Error("Unsupported item type provided");const r={[a]:t,...i};return await this.reportRequest(e,r)},this.reportRequest=async(t,i)=>{const a=this.gqlOperationByType[t];if(!a)throw new Error("Unsupported item type provided");try{return await e.Y({operation:a,variables:{input:i}})}catch(e){return}},this.isEmbed=t}}let l=class extends a.s{constructor(){super(...arguments),this.isEmbed=!1,this.permalink="",this.countryCode="",this.buttonText="Next",this.isDisabled=!0,this.href="",this.onButtonClick=t=>{t.stopImmediatePropagation();const i=this.config.action,a=i?this.helpers?.getAction(i):null;if(i&&a){const t=this.helpers?.performAction(a);if("screenId"===t?.key){const i=e.c("shreddit-slotter-set-slot-name",{slotName:t.value}),a=this.helpers?.getHiddenInputValue("screenSequence"),r=a.split(" ");r.push(t.value),this.helpers?.setHiddenInputValue("screenSequence",r.toString()),this.getRootNode().host.dispatchEvent(i)}else t?.formSubmit?(this.dispatchEvent(e.c("submit-report-modal",{thingId:this.helpers?.getHiddenInputValue("thingId")})),this.handleSubmission(t.data)):t?.href?("DSA"===this.helpers?.getHiddenInputValue("categoryOrRule.value")&&this.countryCode?window.open(r.c("https://support.reddithelp.com/hc/requests/new?ticket_form_id=19623931614484",this.countryCode,this.permalink)):window.open(t.href),this.dispatchEvent(e.c("close-report-modal",{buttonAction:i.actionType}))):t?.formClose?this.dispatchEvent(e.c("close-report-modal",{buttonAction:i.actionType})):t?.openCtlFlow&&this.dispatchEvent(e.c("open-ctl-modal"))}},this.toggleLoadingIndicator=()=>{const e=this.shadowRoot?.querySelector("faceplate-progress"),t=this.shadowRoot?.querySelector("span.report-button-content");e?.classList.toggle("hidden"),t?.classList.toggle("opacity-0")},this.handleSubmission=async t=>{this.toggleLoadingIndicator();const i=this.helpers?.getAllHiddenInputValues();if(t&&i){(await (this.gqlHelpers?.onReportSubmit({actionData:t,hiddenInputValues:i})))?(this.helpers?.setHiddenInputValue("formSubmitted","true"),this.formEl?.querySelector("shreddit-slotter")?.dispatchEvent(e.c("shreddit-slotter-set-slot-name",{slotName:"formSubmitted"}))):this.dispatchEvent(e.c("faceplate-alert",{level:e.a5.error,cause:"uncategorized",message:"An error occurred while submitting your report. Wait a bit, and try again."}))}},this.initTemplatedUrlListener=()=>{const{action:e}=this.config;if(e&&"openTemplatedUrl"===e.actionType){const t=e.args;if(t){const i=t?.placeholders;i?.forEach((i=>{const a=t[i]?.ref;a&&this.formEl?.querySelector(`input[type=hidden][name="${a}"]`)?.addEventListener("change",(()=>{const t=this.helpers?.performAction(e);t?.href&&(this.href=t.href)}))}))}}},this.initEventListeners=()=>{const{text:e,disabled:t}=this.config;if(!this.helpers?.isString(e)){const t=this.helpers?.getTextDataRef(e);t&&this.formEl?.querySelector(`input[type=hidden][name="${t}"]`)?.addEventListener("change",(()=>{this.buttonText=this.helpers?.getText(this.config.text)??this.buttonText}))}if(t){const e=this.helpers?.getDisabledRef(t);e&&e.length&&e.forEach((e=>this.formEl?.querySelector(`input[type=hidden][name="${e}"]`)?.addEventListener("change",(async()=>{this.isDisabled=(this.config.disabled&&this.helpers?.getDisabledCondition(this.config.disabled))??this.isDisabled,await this.updateComplete,this.getRootNode()?.host?.getRootNode()?.host?.getModal().focusManager.refresh()}))))}else this.isDisabled=!1;this.initTemplatedUrlListener()}}firstUpdated(){this.initEventListeners()}connectedCallback(){super.connectedCallback();const e=this.getRootNode().host.closest("report-form");this.formEl=e,this.helpers=new t.R(e),this.gqlHelpers=new o(this.isEmbed),this.buttonText=this.helpers?.getText(this.config.text)??this.buttonText,this.config.disabled?this.isDisabled=this.helpers?.getDisabledCondition(this.config.disabled)??this.isDisabled:this.isDisabled=!1}render(){const t=this.href?{href:this.href,target:"_blank",rel:"noopener noreferrer"}:{};return a.x` ${e.o({appearance:"primary",attributes:{disabled:this.isDisabled,onclick:this.onButtonClick,className:"w-full s:w-auto relative",...t},children:a.x` <faceplate-progress value="20" class="animate-spin loading-icon hidden absolute start-0 end-0 m-auto w-[16px]" style="--loader-size:1rem"></faceplate-progress> <span class="report-button-content">${this.buttonText}</span>`})} `}};l.styles=[e.t],e._([e.n({type:Object})],l.prototype,"config",void 0),e._([e.n({type:Boolean,attribute:"is-embed"})],l.prototype,"isEmbed",void 0),e._([e.n({type:String,attribute:"permalink"})],l.prototype,"permalink",void 0),e._([e.n({type:String,attribute:"country-code"})],l.prototype,"countryCode",void 0),e._([e.h()],l.prototype,"buttonText",void 0),e._([e.h()],l.prototype,"isDisabled",void 0),e._([e.h()],l.prototype,"href",void 0),l=e._([e.e("report-action")],l);const d=[{hiddenInputRef:"value",inputAttribute:"value"},{hiddenInputRef:"nextAction",inputAttribute:"data-nextaction"},{hiddenInputRef:"label",inputAttribute:"data-label"},{hiddenInputRef:"description",inputAttribute:"data-description"}];let u=class extends a.s{firstUpdated(){this.updateComplete.then((()=>{this.dispatchEvent(e.c("report-form-rendered"))}))}constructor(){super(),this.reasonSelectionCache={},this.getSlotter=()=>this.querySelector("shreddit-slotter")?.shadowRoot,this.getSelectedReason=()=>this.getSlotter()?.querySelector("[data-buttonbar] button.button-activated"),this.getHiddenInput=e=>this.querySelector("form")?.querySelector(`input[type=hidden][name="${e}"]`),this.getFormElementById=e=>this.getSlotter()?.querySelector(`#${e}`),this.setHiddenInputValue=(e,t)=>{const i=this.getHiddenInput(e);i?.setAttribute("value",t??""),i?.dispatchEvent(new Event("change"))},this.getPreviousValue=e=>{if(e===t.S){const i=this.getHiddenInput(t.C)?.getAttribute("value")??"",a=this.reasonSelectionCache[i];this.setHiddenInputValue(e,a)}return this.getHiddenInput(e)?.getAttribute("value")},this.populateValue=async({fieldName:e,el:t,elType:i})=>{if(e){const a=this.getPreviousValue(e);if(a||""===a)switch(i){case"button":t.getAttribute("value")===a&&this.toggleReportReason(t);break;case"textDisplay":t.textContent=a,await this.updateComplete,this.helpers?.bottomScrollIntoViewIfNeeded(this.getSelectedReason());break;case"radioInput":t.getAttribute("value")===a&&t.setAttribute("checked","true");break;default:t.setAttribute("value",a)}}},this.toggleReportReason=e=>{const t=this.getSelectedReason();t&&(t.classList.remove("button-activated"),t.ariaChecked=null,t.removeAttribute("aria-describedby")),e.classList.add("button-activated"),e.ariaChecked="true",e.setAttribute("aria-describedby","report-footer-content-body")},this.updateHiddenInputsFromReportReason=e=>{const t=e.getAttribute("data-ref");d.forEach((({hiddenInputRef:i,inputAttribute:a})=>{this.setHiddenInputValue(`${t}.${i}`,e.getAttribute(a))}))},this.updateReasonSelectionCache=e=>{const i=this.getHiddenInput(t.C)?.getAttribute("value")??"";this.reasonSelectionCache={...this.reasonSelectionCache,[i]:e}},this.addReportReasonListeners=()=>{const e=this.getSlotter()?.querySelectorAll("[data-buttonbar] button");e?.length&&e.forEach((e=>{const t=e.getAttribute("data-ref");this.populateValue({fieldName:`${t}.value`,el:e,elType:"button"}),e.addEventListener("click",(e=>{e.stopImmediatePropagation(),e.currentTarget instanceof Element&&(this.toggleReportReason(e.currentTarget),this.updateHiddenInputsFromReportReason(e.currentTarget))}))}))},this.createTextWithLinkElement=e=>e.map((e=>"Link"===e.type?a.x`${i.a({children:e.text,attributes:{href:e.linkTo,target:"_blank",rel:"noopener noreferrer"}})} `:a.x`<span>${e.text}</span>`)),this.showCurrentDynamicLinkElements=(e,t)=>{const i=JSON.parse(e);this.createTextWithLinkElement(i).forEach((e=>{const i=document.createElement("div");a.B(e,i),t.appendChild(i.firstElementChild)}))},this.addFooterListener=(e,t)=>{const i=this.getFormElementById(e),a=i?.getAttribute(t);i&&a&&(this.populateValue({fieldName:i.getAttribute(t),el:i,elType:"textDisplay"}),this.getHiddenInput(a)?.addEventListener("change",(async e=>{e.currentTarget instanceof Element&&(this.setFooterContent(i,e.currentTarget),await this.updateComplete,this.helpers?.bottomScrollIntoViewIfNeeded(this.getSelectedReason()))})))},this.setFooterContent=(e,t)=>{e.firstChild&&(e.innerHTML="");const i=t.getAttribute("value");i?.includes("PlainText")?this.showCurrentDynamicLinkElements(i,e):e.textContent=t.getAttribute("value")??""},this.addReasonFooterContentListeners=()=>{this.addFooterListener("report-footer-content-title","data-title-ref"),this.addFooterListener("report-footer-content-body","data-text-ref")},this.addRadioListeners=()=>{const e=this.getSlotter()?.querySelectorAll("faceplate-radio-input");e?.length&&e?.forEach((e=>{this.populateValue({fieldName:`${e.getAttribute("name")}.value`,el:e,elType:"radioInput"}),e.addEventListener("input",(e=>{if(e.currentTarget instanceof Element){const t=e.currentTarget.getAttribute("name"),i=e.currentTarget.getAttribute("value");this.setHiddenInputValue(`${t}.value`,i),this.updateReasonSelectionCache(i??"")}}))}))},this.showTextInput=e=>{e.classList.remove("hidden"),this.querySelector("shreddit-slotter")?.shadowRoot?.querySelector('faceplate-radio-input[name="subredditRule"][value="other"]')?.scrollIntoView()},this.addTextInputListeners=()=>{const e=this.getSlotter()?.querySelectorAll("faceplate-textarea-input");e?.length&&e.forEach((e=>{const t=e.getAttribute("data-visibility-ref"),i=e.getAttribute("data-visibility-check");this.populateValue({fieldName:e.name,el:e,elType:"textInput"});if(t&&i){const a=this.getHiddenInput(t);a?.getAttribute("value")===i&&this.showTextInput(e),a?.addEventListener("change",(t=>{t.currentTarget.getAttribute("value")===i?this.showTextInput(e):e.classList.contains("hidden")||e.classList.add("hidden")}))}e.shadowRoot?.querySelector("textarea")?.addEventListener("keyup",(e=>{const t=e.currentTarget.getAttribute("name"),i=e.currentTarget.value;t&&i&&this.setHiddenInputValue(t,i)}))}))},this.addUserBlockingSwitchListener=()=>{const t=this.getSlotter()?.querySelector("faceplate-switch-input");t&&t.addEventListener("click",(()=>{const i=t.checked;this.dispatchEvent(e.c("report-flow-blocking",{checked:i}))}))},this.addInteractionListeners=()=>{this.addReportReasonListeners(),this.addReasonFooterContentListeners(),this.addRadioListeners(),this.addTextInputListeners(),this.addUserBlockingSwitchListener()},this.addStepChangeListener=()=>{const e=this.querySelector("shreddit-slotter");e?.addEventListener("shreddit-slotter-set-slot-name",(async()=>{await e.updateComplete,this.addInteractionListeners()}))},this.initEventListeners=e=>{"report/view/reportform"===e.SAN&&(this.addInteractionListeners(),this.addStepChangeListener())},this.helpers=new t.R(this),this.addEventListener("faceplate-track",this.initEventListeners)}render(){return a.x` <slot></slot>`}};u.styles=[a.a`:host{display:block;width:100%}`,e.t],e._([e.n({type:String,attribute:"author-id"})],u.prototype,"authorId",void 0),u=e._([e.e("report-form")],u);let h=class extends a.s{static get styles(){return[a.a`:host>faceplate-banner{display:flex;flex-direction:column;gap:var(--spacer-md);align-items:center;position:fixed;left:50%;transform:translateX(-50%);padding:0 1rem;bottom:var(--rem16);width:calc(100% - 2rem)}`,e.t]}disconnectedCallback(){super.disconnectedCallback()}connectedCallback(){super.connectedCallback(),this.showError&&(this.dispatchAlert({}),this.dispatchCloseReportFlowEvent()),this.isEmbed&&this.thingId?.startsWith("t3_")&&this.stageCustomPostSnapshot()}async stageCustomPostSnapshot(){if(!this.devvitInitialRender)return;const e=this.closest("devvit-wrapper");e&&e.dispatchEvent(new CustomEvent("stage-devplatform-snapshot",{detail:{postId:this.thingId,encodedData:this.devvitInitialRender},bubbles:!0,composed:!0}))}constructor(){super(),this.isEmbed=!1,this.thingId="",this.isOpen=!1,this.showError=!1,this.authorId="",this.authorName="",this.partialSrc="/svc/shreddit/report-flow/",this.getModal=()=>this.isDesktop?this.querySelector("faceplate-modal"):this.querySelector("faceplate-bottom-sheet"),this.initModalCloseListener=()=>{this.getModal()?.querySelector("#report-modal-close")?.addEventListener("click",this.onCloseModal)},this.dispatchCloseReportFlowEvent=()=>{this.dispatchEvent(e.c("report-flow-close"))},this.closeFramedModal=()=>{this.isEmbed&&parent.postMessage(JSON.stringify({type:"close.framedmodal"}),"*")},this.onCloseModal=e=>{if(e){const{buttonAction:t}=e.detail;this.isUserBlockedSwitchChecked&&"formClose"===t&&this.handleUserBlocking()}this.getModal()?.close(),this.dispatchCloseReportFlowEvent(),this.closeFramedModal()},this.addBaseSlotterListener=()=>{const e=this.getModal()?.querySelector("shreddit-slotter");e?.addEventListener("shreddit-slotter-set-slot-name",(async()=>{await e.updateComplete,this.getModal()?.focusManager.refresh(),this.getModal()?.focusManager.focusFirst()}))},this.initFlowSlotterListener=()=>{this.addEventListener("shreddit-slotter-set-slot-name",(()=>{this.renderBackButton(),this.updateModalTitle()}))},this.initModal=()=>{this.initFlowSlotterListener(),this.getModal()?.showModal(),this.initModalCloseListener(),this.initEscapeListener(),this.initModalBackButtonListener(),this.addBaseSlotterListener(),this.isEmbed&&parent.postMessage(JSON.stringify({type:"loaded.framedmodal"}),"*")},this.getInputValue=e=>this.getModal()?.querySelector("report-form")?.querySelector(`form input[type=hidden][name="${e}"]`)?.getAttribute("value"),this.setInputValue=(e,t)=>this.getModal()?.querySelector("report-form")?.querySelector(`form input[type=hidden][name="${e}"]`)?.setAttribute("value",t),this.onBackButtonClick=()=>{const t=this.getInputValue("screenSequence").split(","),i=t.slice(0,t.length);i.pop(),this.setInputValue("screenSequence",i.toString());const a=e.c("shreddit-slotter-set-slot-name",{slotName:i[i.length-1]});this.querySelector("shreddit-slotter").dispatchEvent(a)},this.renderBackButton=()=>{const e=this.getModal()?.querySelector("#report-modal-back");if(e){const t=this.getInputValue("formSubmitted");this.getInputValue("screenSequence").split(",").length>1&&"false"===t?(e?.classList.remove("hidden"),e.disabled=!1):(e?.classList.add("hidden"),e.disabled=!0)}},this.updateModalTitle=async()=>{await this.updateComplete;"true"===this.getInputValue("formSubmitted")&&(this.getModal()?.querySelector(".header-title")?.classList.add("hidden"),this.getModal()?.querySelector(".report-success-title")?.classList.remove("hidden"))},this.initModalBackButtonListener=()=>{this.getModal()?.querySelector("#report-modal-back")?.addEventListener("click",this.onBackButtonClick)},this.initEscapeListener=()=>{document.addEventListener("keydown",(e=>{if("Escape"===e.key){const e=this.getModal(),t=this.getCTLModal();""===e?.getAttribute("open")&&this.onCloseModal(),""===t?.getAttribute("open")&&this.onCloseCTLModal()}}))},this.handleUserBlocking=async()=>{try{await e.Y({operation:e.O.UpdateRedditorBlockState,variables:{input:{redditorId:this.authorId,blockState:e.cI.Blocked}}}),this.dispatchAlert({level:e.a5.success,message:`u/${this.authorName} is now blocked.`})}catch(t){this.dispatchAlert({level:e.a5.error,message:"An error has occured. Please try again later"})}},this.dispatchAlert=({level:t=e.a5.error,message:i="Reporting is currently unavailable. Try reloading the page or waiting a few minutes, before trying again."})=>{this.dispatchEvent(e.c("faceplate-alert",{level:t,message:i}))},this.onCloseCTLModal=()=>{this.getCTLModal()?.close(),this.dispatchCloseReportFlowEvent(),this.closeFramedModal()},this.addCTLSlotterListener=()=>{const e=this.getCTLModal()?.querySelector("shreddit-slotter");e?.addEventListener("shreddit-slotter-set-slot-name",(async()=>{await e.updateComplete,this.getCTLModal()?.focusManager.refresh(),this.getCTLModal()?.focusManager.focusFirst();const t=this.getCTLModal()?.querySelector("shreddit-slotter")?.shadowRoot?.querySelector("#ctl-ok-button");t?.addEventListener("click",this.onCloseCTLModal)}))},this.getCTLModal=()=>this.querySelector("#ctl-modal"),this.initCTLModalCloseListener=()=>{this.getCTLModal()?.querySelector("#ctl-modal-close")?.addEventListener("click",this.onCloseCTLModal)},this.initCTLModal=async()=>{this.getModal()?.close(),this.getCTLModal()?.showModal(),this.initCTLModalCloseListener()},this.showThankYou=()=>{const t=e.c("shreddit-slotter-set-slot-name",{slotName:"thankyou"});this.getCTLModal()?.querySelector("shreddit-slotter")?.dispatchEvent(t)},this.submitCTLReport=async()=>{const t=this.helpers?.getHiddenInputValue("userDetail.value");(await (this.gqlHelpers?.onCTLReportSubmit(this.thingId, t)))?this.showThankYou():this.dispatchAlert({level:e.a5.error,message:"An error occurred while submitting your report. Wait a bit, and try again."})},this.initCTLListeners=e=>{if("report/view/ctl"===e.SAN){const e=this.getCTLModal()?.querySelector("shreddit-slotter")?.shadowRoot?.querySelector("#ctl-yes-button");e?.addEventListener("click",this.submitCTLReport),this.getCTLModal()?.focusManager.refresh(),this.getCTLModal()?.focusManager.focusFirst(),this.addCTLSlotterListener()}},this.gqlHelpers=new o(this.isEmbed);const i=this.querySelector("report-form");i&&(this.helpers=new t.R(i)),this.addEventListener("report-form-rendered",this.initModal),this.addEventListener("faceplate-track",this.initCTLListeners),this.addEventListener("close-report-modal",this.onCloseModal),this.addEventListener("open-ctl-modal",this.initCTLModal),this.addEventListener("report-flow-blocking",(e=>{const{checked:t}=e.detail;this.isUserBlockedSwitchChecked=t}))}render(){return a.x`<slot></slot>`}};e._([e.n({type:Boolean,attribute:"is-desktop"})],h.prototype,"isDesktop",void 0),e._([e.n({type:Boolean,attribute:"is-embed"})],h.prototype,"isEmbed",void 0),e._([e.n({type:String,attribute:"thing-id"})],h.prototype,"thingId",void 0),e._([e.n({type:Boolean,attribute:"is-open"})],h.prototype,"isOpen",void 0),e._([e.n({type:Boolean,attribute:"show-error"})],h.prototype,"showError",void 0),e._([e.n({type:String,attribute:"author-id"})],h.prototype,"authorId",void 0),e._([e.n({type:String,attribute:"author-name"})],h.prototype,"authorName",void 0),e._([e.n({type:String,attribute:"devvit-initial-render"})],h.prototype,"devvitInitialRender",void 0),h=e._([e.e("report-flow")],h)}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./BOhFIvFWxC.js",import.meta.url,"BOhFIvFWxC");SML.di("./BskNjLbli-.js",import.meta.url,"BskNjLbli-");SML.di("./jWC3N3n7Al.js",import.meta.url,"jWC3N3n7Al");SML.di("./xrDbp1ee_h.js",import.meta.url,"xrDbp1ee_h");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./DgFeZwOkXZ.js",import.meta.url,"DgFeZwOkXZ");SML.di("./DvtJ_U6Duj.js",import.meta.url,"DvtJ_U6Duj");SML.di("./Dr-661gpDM.js",import.meta.url,"Dr-661gpDM");SML.di("./B-zFJtiar6.js",import.meta.url,"B-zFJtiar6");SML.di("./D2GdwS8jc7.js",import.meta.url,"D2GdwS8jc7");SML.di("./BhZAdnVq89.js",import.meta.url,"BhZAdnVq89");SML.di("./FQGvCwaizg.js",import.meta.url,"FQGvCwaizg");SML.di("./DOqOHj9jA9.js",import.meta.url,"DOqOHj9jA9");SML.di("./DoSzdRrY_z.js",import.meta.url,"DoSzdRrY_z");
SML.dm("Cuj-thyvib",["Dw4vb8Yfbm","BOhFIvFWxC","BskNjLbli-","jWC3N3n7Al","xrDbp1ee_h","5r73EsgItq","DgFeZwOkXZ","DvtJ_U6Duj","Dr-661gpDM","B-zFJtiar6","D2GdwS8jc7","BhZAdnVq89","FQGvCwaizg","DOqOHj9jA9","DoSzdRrY_z"],(async(t,e,i,s,n,a)=>{const l="additionalContent";var o;!function(t){t.ADDITION="addition",t.REMOVAL="removal"}(o||(o={}));let r=class extends a.s{get uncheckedInputs(){return this.querySelectorAll("faceplate-checkbox-input:not([checked])")}get allInputs(){return this.querySelectorAll("faceplate-checkbox-input")}get tabpanel(){return this.querySelector("faceplate-tabpanel")}get badges(){return this.querySelectorAll("temporary-tabgroup span[rpl] span")}get additionalContentInput(){return document.querySelector("#additional-content")}connectedCallback(){super.connectedCallback(),this.initEventListeners();const t=this.getRootNode().host?.closest("report-form");t&&(this.helpers=new s.R(t)),this.badges&&this.badges.forEach((t=>{const e=t.closest("span.gap-xs");e?.classList.remove("gap-xs"),t.classList.add("hidden")})),this.populateValues()}disconnectedCallback(){super.disconnectedCallback()}firstUpdated(){this.updateComplete.then((()=>{(this.isFlexibleReporting||this.isSmartEscalations)&&this.updateFormState()}))}constructor(){super(),this.selectLimit=2,this.isFlexibleReporting=!1,this.isSmartEscalations=!1,this.initEventListeners=()=>{const t=this.allInputs;t?.forEach((t=>{t.addEventListener("input",this.handleClick)}));const e=this.querySelectorAll("temporary-tabgroup button");e?.forEach((t=>{t.addEventListener("click",this.resetPanelScroll)}));const i=this.querySelectorAll(".empty-state-button");i?.forEach((t=>{t.addEventListener("click",this.toggleEmptyState)}))},this.resetPanelScroll=async()=>{await this.updateComplete,this.tabpanel?.scrollTo(0,0)},this.normalizeValueArray=t=>{const e=Array.from(this.allInputs,(t=>t.getAttribute("data-value"))),i=t?.split(",");return i?.filter((t=>e.includes(t)))},this.populateValues=()=>{const t=this.isFlexibleReporting||this.isSmartEscalations?this.additionalContentInput?.getAttribute("value"):this.helpers?.getHiddenInputValue(l);if(!t)return;const e=this.isSmartEscalations?this.normalizeValueArray(t).slice(0,this.selectLimit):t?.split(",");this.isSmartEscalations&&this.additionalContentInput?.setAttribute("value",e.slice(0,this.selectLimit).toString()),this.populateCheckboxSelections(e),this.populateBadgeCounts(e)},this.populateCheckboxSelections=t=>{const e=t.length===this.selectLimit;this.allInputs.forEach((i=>{const s=i.getAttribute("data-value")??"";t?.includes(s)?i.checked=!0:e&&(i.disabled=!0)}))},this.populateBadgeCounts=t=>{const e=t.reduce(((t,e)=>n.h(e)?{...t,posts:t.posts+1}:e.startsWith("t1_")?{...t,comments:t.comments+1}:t),{posts:0,comments:0}),i=this.badges[0],s=this.badges[1];e.posts>0&&(i.parentElement?.parentElement?.parentElement?.classList.add("gap-xs"),i.classList.remove("hidden"),i.textContent=e.posts.toString()),e.comments>0&&(s.parentElement?.parentElement?.parentElement?.classList.add("gap-xs"),s.classList.remove("hidden"),s.textContent=e.comments.toString())},this.toggleEmptyState=t=>{const e=this.tabpanel,i=t.currentTarget,s=i.getAttribute("slot")?.split("-")[1];e?.setAttribute("pageindex",`${s}`)},this.disableAllUnchecked=()=>{this.uncheckedInputs.forEach((t=>{t.disabled=!0}))},this.enableAllUnchecked=()=>{this.uncheckedInputs.forEach((t=>{t.removeAttribute("disabled")}))},this.modifyList=(t,e)=>{if(!t)return{modificationType:o.ADDITION,newList:[e]};const i=t.split(",");return i.includes(e)?{modificationType:o.REMOVAL,newList:i.filter((t=>t!==e))}:{modificationType:o.ADDITION,newList:[...i,e]}},this.updateBadgeCounts=t=>{const e=this.querySelector("temporary-tabgroup [faceplate-tab-selected]"),i=e?.querySelector("span[rpl] span");if(!i)return;const s=Number(i.textContent),n=i.parentElement?.parentElement?.parentElement;t===o.ADDITION&&(n?.classList.add("gap-xs"),i.classList.remove("hidden"),i.textContent=`${s+1}`),t===o.REMOVAL&&(s-1==0&&(n?.classList.remove("gap-xs"),i.classList.add("hidden")),i.textContent=""+(s-1))},this.handleClick=async t=>{t.preventDefault(),t.stopPropagation();const e=t.currentTarget,i=e?.getAttribute("data-value")??"",s=this.isFlexibleReporting||this.isSmartEscalations,n=s?this.additionalContentInput?.getAttribute("value")??"":this.helpers?.getHiddenInputValue(l)??"";if(!i)return;const{modificationType:a,newList:o}=this.modifyList(n,i);this.updateBadgeCounts(a),s?this.additionalContentInput?.setAttribute("value",o.toString()):this.helpers?.setHiddenInputValue(l,o.toString()),await this.updateComplete,s&&this.updateFormState(),o.length===this.selectLimit?this.disableAllUnchecked():n.split(",").length===this.selectLimit&&this.enableAllUnchecked()},this.updateFormState=()=>{if(this.isSmartEscalations)this.dispatchEvent(t.c("update-smart-escalations-form-state",{stepName:i.S.ADDITIONAL_CONTENT,value:this.additionalContentInput?.getAttribute("value")??"",nextStep:i.S.FREE_TEXT}));else{const e=Array.from(this.uncheckedInputs,(t=>t.getAttribute("data-value")));this.dispatchEvent(t.c("report-tracking",{reportFlow:{flowOptionSelected:i.F.ADD_CONTENT,flowContent:this.additionalContentInput?.getAttribute("value")??"",flowOptionAvailable:e.toString()}})),this.dispatchEvent(t.c("update-report-form",{fieldName:i.S.ADDITIONAL_CONTENT,value:this.additionalContentInput?.getAttribute("value")??"",nextAction:{type:this.nextActionType,step:this.nextStep},button:{isDisabled:!1}}))}}}render(){return a.x`<slot></slot>`}};t._([t.n({type:Number,attribute:"select-limit"})],r.prototype,"selectLimit",void 0),t._([t.n({type:Boolean,attribute:"is-flexible-reporting"})],r.prototype,"isFlexibleReporting",void 0),t._([t.n({type:String,attribute:"data-nextaction"})],r.prototype,"nextActionType",void 0),t._([t.n({type:String,attribute:"data-next-step"})],r.prototype,"nextStep",void 0),t._([t.n({type:Boolean,attribute:"is-smart-escalations"})],r.prototype,"isSmartEscalations",void 0),r=t._([t.e("multi-content-wrapper")],r);let p=class extends e.F{connectedCallback(){super.connectedCallback(),this._events._events.delete("click"),this._events.define("click",(t=>{const e=t.composedPath();for(let t=0;t<e.length;t++){const i=e[t];if(i instanceof HTMLSpanElement){const t=this.getPageIndexFromSpanWrapper(i);if(0!==t){this.pageIndex=t;break}}}}))}};p=t._([t.e("temporary-tabgroup")],p)}));
SML.di("./BoAYvvJc2n.js",import.meta.url,"BoAYvvJc2n");SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./BwcMg3lXAs.js",import.meta.url,"BwcMg3lXAs");SML.di("./QMGysYRnFy.js",import.meta.url,"QMGysYRnFy");SML.di("./BskNjLbli-.js",import.meta.url,"BskNjLbli-");SML.di("./DSh0Ye202d.js",import.meta.url,"DSh0Ye202d");SML.di("./CpZ44pmnxI.js",import.meta.url,"CpZ44pmnxI");SML.di("./CBbxnHsw2W.js",import.meta.url,"CBbxnHsw2W");SML.di("./CQMf561ZyA.js",import.meta.url,"CQMf561ZyA");SML.di("./CIOo61duNV.js",import.meta.url,"CIOo61duNV");SML.di("./M-CiwvFL1u.js",import.meta.url,"M-CiwvFL1u");SML.di("./DFgwjk6Rt3.js",import.meta.url,"DFgwjk6Rt3");SML.di("./cg7FPmv2fT.js",import.meta.url,"cg7FPmv2fT");SML.di("./DMVINMWPkT.js",import.meta.url,"DMVINMWPkT");SML.di("./BwcUp7XlaC.js",import.meta.url,"BwcUp7XlaC");
SML.dm("D7shy156CF",["Dw4vb8Yfbm","5r73EsgItq","BwcMg3lXAs","BskNjLbli-","DSh0Ye202d","DFgwjk6Rt3","cg7FPmv2fT","DMVINMWPkT","QMGysYRnFy","CpZ44pmnxI","CBbxnHsw2W","CQMf561ZyA","CIOo61duNV","M-CiwvFL1u","BwcUp7XlaC"],(async(e,t,i,a,n,s,r,o)=>{var d;let l=d=class extends t.s{constructor(){super(...arguments),this.savedUsernames=[],this.repopulateScreen=()=>{const t=this.reportFormManager?.banEvasionSubredditNode,i=this.reportFormManager?.formValues?.[d.subredditFieldName],a=this.reportFormManager?.savedUsernames,n=this.reportFormManager?.banEvasionSubredditId;t&&(i||n)&&(this.subredditNode=t,this.reportFormManager.nextAction=d.nextAction,this.updateButtonState()),a&&a.length>0&&(this.savedUsernames=a,this.usernameEntryField&&(this.usernameEntryField.inputFields=[...a],this.usernameEntryField.dispatchEvent(e.c("saved-usernames-update",{usernames:a})))),this.updateButtonState()},this.clearSubredditSelection=()=>{this.dispatchEvent(e.c("update-report-form",{fieldName:d.subredditFieldName,value:""})),this.dispatchEvent(e.c("update-report-form",{fieldName:"redditorUsernames",value:""})),this.dispatchEvent(e.c("update-report-form",{fieldName:"redditorUsernames",value:""})),this.dispatchEvent(e.c("update-ban-evasion-nodes",{subredditNode:null,savedUsernames:[]})),this.subredditNode=void 0,this.savedUsernames=[],this.updateButtonState()},this.initializeUsernameEntryField=()=>{this.usernameEntryField?.classList.remove("hidden"),this.usernameEntryField&&(this.usernameEntryField.addEventListener("username-update",(t=>{const i=t,{usernames:a}=i.detail;this.dispatchEvent(e.c("update-report-form",{fieldName:"redditorUsernames",value:a.join(",")})),this.updateButtonState()})),this.usernameEntryField.addEventListener("saved-usernames-update",(t=>{const i=t,{usernames:a}=i.detail;this.savedUsernames=a,this.updateBanEvasionSummary(),this.updateButtonState(),this.dispatchEvent(e.c("update-report-form",{fieldName:"redditorUsernames",value:a.join(",")}))})),this.usernameEntryField.addEventListener("saved-usernames-update",(e=>{const t=e,{usernames:i}=t.detail;this.savedUsernames=i,this.updateBanEvasionSummary()})))},this.updateBanEvasionSummary=()=>{this.dispatchEvent(e.c("update-ban-evasion-nodes",{savedUsernames:this.savedUsernames}))}}get subredditInput(){return this.querySelector("shreddit-community-search")}get usernameEntryField(){return this.querySelector("username-input-list")}get reportFormManager(){const e=document.querySelector("report-page-manager");return e?e?.querySelector("shreddit-slotter")?.shadowRoot?.querySelector("report-form-manager"):document.querySelector("report-form-manager")}isFormValid(){const e=!!this.subredditNode,t=this.savedUsernames.length>0;return e&&t}updateButtonState(){const e=this.isFormValid();this.reportFormManager?.updateButton(!e,!0)}firstUpdated(){this.updateComplete.then((()=>{this.repopulateScreen(),this.subredditInput?.addEventListener("change",(t=>{const i=t.target,a=i?.shadowRoot?.querySelector("li[rpl-selected] div span")?.cloneNode(!0);a.querySelector("faceplate-number").innerHTML="";const n=a.querySelector("img")?.getAttribute("src")||i.communityIcon,s=i.communityId;this.subredditNode=a,this.dispatchEvent(e.c("update-report-form",{fieldName:d.subredditFieldName,value:s,nextAction:d.nextAction})),this.dispatchEvent(e.c("update-ban-evasion-nodes",{subredditNode:this.subredditNode,subredditIcon:n,subredditId:this.subredditInput?.communityId})),this.usernameEntryField&&this.usernameEntryField.reset(),this.updateButtonState()})),this.usernameEntryField&&(this.initializeUsernameEntryField(),this.updateBanEvasionSummary())}))}render(){return t.x` ${this.subredditNode?t.x` <div class="mb-md"> <div class="flex items-center gap-2"> <div class="flex-1"> <div class="rounded-md flex items-center px-md py-0 min-h-14 relative pr-2 bg-neutral-background-selected" style="height:56px"> <div class="flex items-center h-full py-0 w-full"> <span class="text-14 text-neutral-content font-normal leading-5">${this.subredditNode}</span> </div> </div> </div> <div class="flex-shrink-0 px-4"> ${e.o({appearance:"plain",attributes:{onclick:()=>this.clearSubredditSelection(),"aria-label":"Clear selected community"},leadingIcon:i.c({size:t.I.Small})})} </div> </div> </div> <hr class="border-solid border-0 border-t-sm border-t-neutral-border-weak w-full mb-md mt-0"> <slot name="additional-usernames"></slot> `:t.x`<slot name="subreddit-selector"></slot>`} `;}};l.styles=[e.t],l.subredditFieldName="subredditId",l.usersFieldName="redditorUsernames",l.nextAction={type:a.N.SUPPORTING_EVIDENCE,step:a.S.FREE_TEXT},e._([e.h()],l.prototype,"subredditNode",void 0),e._([e.h()],l.prototype,"userNodes",void 0),e._([e.h()],l.prototype,"savedUsernames",void 0),l=d=e._([e.e("ban-evasion-step-new")],l);let u=class extends t.s{constructor(){super(...arguments),this.updateFormState=(t,i=!1)=>{const a=t.getAttribute("name")??"",n=this.textarea?.value??"",s=t.getAttribute("data-nextaction")??void 0,r=t.getAttribute("data-next-step")??"",o=!!i;this.dispatchEvent(e.c("update-report-form",{fieldName:a,value:n,nextAction:{type:s,step:r},button:{isDisabled:o}}))},this.dispatchReportEvent=()=>{this.dispatchEvent(e.c("report-tracking",{reportFlow:{flowOptionSelected:a.F.FREE_TEXT,flowContent:this.textarea?.value??""}}))},this.addFreeTextListener=()=>{const e=this.textarea;e&&(e.addEventListener("input",(e=>{e.stopImmediatePropagation(),this.updateFormState(e.currentTarget),this.dispatchReportEvent()})),e.addEventListener("keyup",(()=>{0===e.value.length&&"FREE_TEXT"!==e.getAttribute("name")&&this.updateFormState(e,!0)})))},this.repopulateBanEvasionFreeText=async()=>{if(await this.updateComplete,this.textarea?.getAttribute("name")!==a.S.FREE_TEXT)return;let e;if(this.reportFormManager)e=this.reportFormManager.formValues?.[a.S.FREE_TEXT];else{const t=this.reportPageManager?.reportPageFormValues?.BAN_EVASION;e=t?.[a.S.FREE_TEXT]}e&&(this.textarea.value=e,this.updateFormState(this.textarea))},this.repopulateFreeTextFromContext=async()=>{if(await this.updateComplete,"FREE_TEXT"===this.textarea?.getAttribute("name")){let e;if(this.reportFormManager)e=this.reportFormManager.formValues?.[a.S.FREE_TEXT];else if(this.reportPageManager){const t=this.reportPageManager.reportType;if(t){const i=this.reportPageManager.reportPageFormValues?.[t];e=i?.[a.S.FREE_TEXT]}}e&&(this.textarea.value=e),this.updateFormState(this.textarea)}}}get textarea(){return this.querySelector("faceplate-textarea-input")}get reportFormManager(){return document.querySelector("report-form-manager")}get reportPageManager(){return document.querySelector("report-page-manager")}firstUpdated(){this.updateComplete.then((()=>{this.repopulateFreeTextFromContext(),this.addFreeTextListener()}))}render(){return t.x` <slot></slot>`}};u=e._([e.e("free-textbox")],u);const h=e=>{const t=e?.parentElement;if(t&&e){t.clientHeight-(e.offsetTop+e.clientHeight)<0&&e.scrollIntoView()}};class p extends t.s{constructor(){super(...arguments),this.updateFormState=(t,i)=>{const a=t.getAttribute("name")??"",n=t.getAttribute("value")??"",s=t.getAttribute("data-ref")??"",r=t.getAttribute("data-nextaction")??void 0,o=t.getAttribute("data-next-step")??"",d=t.getAttribute("data-supporting-evidence")?.split(",")??void 0,l=!(!i||this.textarea?.value.length);this.dispatchReportEvent({fieldName:a,value:n,url:s}),this.dispatchEvent(e.c("update-report-form",{fieldName:a,value:n,nextAction:{type:r,url:s,step:o},supportingEvidence:d,button:{isDisabled:l}}))},this.dispatchReportEvent=t=>{const{fieldName:i,value:a,url:n}=t,s=this.determineFlowOptionSelected(i,a);this.dispatchEvent(e.c("report-tracking",{reportFlow:{flowOptionSelected:s,flowOutboundLink:n}}))},this.determineFlowOptionSelected=(e,t)=>"SUBREDDIT"===e&&"customResponse"===t?a.F.CUSTOM_RESPONSE:e===a.R.REPORT_REASONS?a.F.REPORT_REASON:a.F.REPORT_SUBREASON}get textarea(){return this.querySelector("faceplate-textarea-input")}}let c=class extends p{constructor(){super(...arguments),this.addPolicyOptionListeners=()=>{const e=this.querySelectorAll("faceplate-radio-input");e?.length&&e.forEach((e=>{e.addEventListener("input",(e=>{e.stopImmediatePropagation();const t=e.currentTarget;this.updateFormState(t)}))}))},this.handleSlotChange=()=>{this.addPolicyOptionListeners()}}render(){return t.x`<slot @slotchange="${this.handleSlotChange}"></slot>`}};c=e._([e.e("user-detail-options")],c);let m=class extends p{constructor(){super(...arguments),this.pubsub=new e.u(this),this.isStandalone=!1,this.getFormElementById=e=>this.querySelector(`#${e}`),this.updateSelection=e=>{const t=this.selectedReason;this.isStandalone||(t&&(t.classList.remove("button-activated"),t.ariaChecked=null),e.classList.add("button-activated"),e.ariaChecked="true"),t?.removeAttribute("aria-describedby"),e.setAttribute("aria-describedby","report-footer-content-body")},this.updatePolicyOptionsUI=t=>{const i=t.getAttribute("data-description"),a=t.innerText;a&&this.titleElement&&(this.titleElement.textContent=a),i&&this.descriptionElement&&(this.descriptionElement.textContent=i),this.isStandalone&&this.pubsub.publish(e.T.ReportPageSummaryUpdate,{reportReasonTitle:a,reportReasonDesc:i})},this.addPolicyOptionListeners=()=>{const e=this.reasonOptions;e?.length&&e.forEach((e=>{e.addEventListener("click",(e=>{e.stopImmediatePropagation(),this.updatePolicyOptionsUI(e.currentTarget),this.updateSelection(e.currentTarget),this.isStandalone||h(e.currentTarget),this.updateFormState(e.currentTarget)}))}))},this.handleSlotChange=()=>{this.addPolicyOptionListeners()}}get selectedReason(){return this.isStandalone?this.querySelector("[data-buttonbar] faceplate-radio-input[aria-describedby]"):this.querySelector("[data-buttonbar] button.button-activated")}get reasonOptions(){return this.isStandalone?this.querySelectorAll("[data-buttonbar] faceplate-radio-input"):this.querySelectorAll("[data-buttonbar] button")}get titleElement(){return this.getFormElementById("report-footer-content-title")}get descriptionElement(){return this.getFormElementById("report-footer-content-body")}render(){return t.x`<slot @slotchange="${this.handleSlotChange}"></slot>`}};e._([e.n({type:Boolean,attribute:"is-standalone"})],m.prototype,"isStandalone",void 0),m=e._([e.e("policy-options")],m);let g=class extends p{constructor(){super(...arguments),this.addPolicyOptionListeners=()=>{const e=this.querySelectorAll("faceplate-radio-input");e?.length&&e.forEach((e=>{e.addEventListener("input",(e=>{e.stopImmediatePropagation();const t=e.currentTarget,i=t.hasAttribute("value")&&"customResponse"===t.getAttribute("value");i?(this.textarea?.classList.remove("hidden"),this.textarea?.scrollIntoView()):this.textarea?.classList.add("hidden"),this.updateFormState(t,i)}))}))},this.handleSlotChange=()=>{this.addPolicyOptionListeners()}}get textarea(){return this.querySelector("faceplate-textarea-input")}render(){return t.x`<slot @slotchange="${this.handleSlotChange}"></slot>`}};var b,v,E;g=e._([e.e("followup-policy-options")],g),function(e){e.POST="post",e.COMMENT="comment",e.MESSAGE="message",e.VIDEO_PAGE="video_page"}(b||(b={})),function(e){e.USER="USER",e.CONTENT="CONTENT",e.BAN_EVASION="BAN_EVASION"}(v||(v={})),function(e){e.ReportFlow="report_flow"}(E||(E={}));const S=({report_flow:t,user_target_status:i,thingId:a})=>{let n=!1,s=!1,r=!1;return void 0!==a&&"string"==typeof a&&(n=a.startsWith("t3_"),s=a.startsWith("t2_1"),r=a.startsWith("t1_")),s&&(i={...i,target_user_id:a}),e.b({source:E.ReportFlow,action:e.an.Click,noun:E.ReportFlow},{report_flow:t,user_target_status:i,...(a&&n && {post:{id:a}}),...(a&&r && {comment:{id:a}})});};var k;const N=t.s;let R=k=class extends N{get slotter(){return this.querySelector("shreddit-slotter")?.shadowRoot}get actionButton(){return this.slotter?.querySelector("#report-action-button")}get actionLinkButton(){return this.slotter?.querySelector("#report-action-link-button")}get backButton(){const e=this.closest("#report-flow-modal-card")?this.closest("#report-flow-modal-card"):this.closest("#mobile-report-flow-bottom-sheet");return this.isStandalone?this.slotter?.querySelector("#report-action-button-back"):e?.querySelector("#report-modal-back")}get closeButton(){const e=this.closest("#report-flow-modal-card")?this.closest("#report-flow-modal-card"):this.closest("#mobile-report-flow-bottom-sheet");return e?.querySelector("#report-modal-close")}get contentLoader(){return this.isStandalone?this.reportPageManager?.querySelector("shreddit-slotter")?.shadowRoot?.querySelector("#report-flow-content-loader"):document.querySelector("#report-flow-content-loader")}get contentWrapper(){return this.isStandalone?this.reportPageManager?.querySelector("shreddit-slotter")?.shadowRoot?.querySelector("#report-flow-content-wrapper"):document.querySelector("#report-flow-content-wrapper")}get standAloneReportTitle(){return this.querySelector("#stand-alone-title")}get reportPageManager(){return document.querySelector("report-page-manager")}get nextStepIsSuccess(){return this.nextAction?.type===a.N.SUBMIT||this.nextAction?.type===a.N.FLOW_SUBMIT}get isBanEvasionReport(){return this.standAloneReportType===v.BAN_EVASION}get initSubredditNode(){return this.querySelector("#ssr-subreddit-node")}initializeBanEvasionFormValues(){this.formValues={...this.formValues,REPORT_REASONS:"BAN_EVASION"},this.nextAction={type:a.N.SUPPORTING_EVIDENCE,step:a.S.FREE_TEXT}}intializeBlankFormValues(){this.formValues={},this.nextAction={type:a.N.OPTIONS}}firstUpdated(){this.updateComplete.then((()=>{this.savedUsernames=this.authorName?[this.authorName]:[];const t=this.initSubredditNode?.querySelector("li[rpl] div span")?.cloneNode(!0);t&&(t.querySelector("faceplate-number").innerHTML="");const i=t?.querySelector("img")?.getAttribute("src");if(this.banEvasionSubredditNode=t,this.banEvasionSubredditIcon=i??"",this.banEvasionSubredditId=this.subredditId,this.contentLoader?.classList.add("hidden"),this.contentWrapper?.classList.remove("hidden"),!this.isStandalone)return;if(this.isBanEvasionReport?this.initializeBanEvasionFormValues():this.intializeBlankFormValues(),this.reportPageManager&&Object.keys(this.reportPageManager?.reportPageFormValues).length){const e=this.reportPageManager.reportPageFormValues[this.standAloneReportType??""];this.formValues=e||{}}this.reportPageManager&&this.isBanEvasionReport&&this.reportPageManager.banEvasionNodesCache&&this.restoreBanEvasionStateFromCache();const a=this.screenSequence[0];this.isStandalone&&!this.isBanEvasionReport&&this.dispatchEvent(e.c("report-page-update-state-values",{lastRFScreen:a})),this.renderBackButton(),this.repopulateReportForm(a),this.applyStandAloneTitle(),this.isBanEvasionReport?(this.updateButton(!0,!0),this.updateBanEvasionSummary()):this.pubsub.publish(e.T.ReportPageSummaryUpdate,{thingId:this.thingId,authorAvatar:this.authorAvatar,authorId:this.authorId,authorName:this.authorName,hideSummary:!1})}))}constructor(){super(),this.pubsub=new e.u(this),this.conversationId="",this.isUserBlocked=!1,this.isModerator=!1,this.isStandalone=!1,this.permalink="",this.countryCode="",this.formValues={},this.supportingEvidence=[],this.savedUsernames=[],this.nextAction={type:a.N.OPTIONS},this.requestClientGQL=e.Y,this.changeStep=t=>{const i=e.c("shreddit-slotter-set-slot-name",{slotName:t});this.slotter?.dispatchEvent(i),this.renderBackButton(),this.isStandalone&&this.applyStandAloneTitle()},this.getFlowType=()=>this.reportPageManager?a.a.REPORT_PAGE:this.isModerator?a.a.MOD_CONTENT:a.a.USER_CONTENT,this.reportTracking=t=>{const{reportFlow:{flowOptionSelected:i,flowContent:a,flowOptionAvailable:n,flowOutboundLink:s},userTargetStatus:r}=t.detail,o={report_flow:{flow_type:this.getFlowType(),flow_option_selected:i??"",flow_content:a??"",flow_option_available:n??"",flow_outbound_link:s??""},user_target_status:{target_user_is_blocked_by_user:r?.targetUserisBlockedByUser??this.isUserBlocked},thingId:this.thingId};e.i(this,S(o))},this.displayBanEvasionError=t=>{const i=t||"To report someone for ban evasion, you must be a mod of the community they've been banned from.";this.dispatchEvent(e.c("faceplate-alert",{level:e.a5.error,cause:"uncategorized",message:i})),this.screenSequence=[...this.screenSequence.slice(0,this.screenSequence.indexOf("BAN_EVASION_USERS")+1)],this.changeStep(a.R.BAN_EVASION)},this.performNextAction=()=>{switch(this.nextAction?.type){case a.N.OPTIONS:case a.N.SUBREDDIT_RULES:this.nextAction.step&&this.changeStep(this.nextAction.step);break;case a.N.FLOW:this.isStandalone&&this.nextAction.step?this.changeStep(this.nextAction.step):(this.closeReportFlow(),this.pubsub.publish(e.T.CTLReportInit,{authorName:this.authorName,thingId:this.thingId??"",userDetailType:this.formValues.USER_DETAILS}));break;case a.N.FLOW_SUBMIT:case a.N.SUBMIT:this.nextAction.step&&this.submitReport(this.nextAction.step);break;case a.N.URL:this.reportTracking({detail:{reportFlow:{flowOptionSelected:a.F.OUTBOUND_LINK}}}),"DSA"===this.formValues.REPORT_REASONS&&this.nextAction.url&&this.countryCode?window.open(r.c(this.nextAction.url,this.countryCode,this.permalink,this.isStandalone)):window.open(this.nextAction.url),this.isStandalone||this.closeReportFlow();break;case a.N.SUPPORTING_EVIDENCE:this.nextAction.step&&this.changeStep(this.nextAction.step)}this.nextAction=void 0},this.submitReport=async t=>{this.toggleButtonLoadingIndicator();const i=s.a(this.thingId);try{const n=s.b({itemType:i,formValues:this.formValues,thingId:this.thingId,isStandalone:this.isStandalone,conversationId:this.conversationId}),r=await this.reportRequest(i,n);if(!r||r.errors&&r.errors.length||!s.c(r)){if(r?.errors[0]?.message.includes("reportRedditor NotAuthorizedError"))throw new Error(k.banEvasionError);if(r?.errors[0]?.message.includes("reportRedditor Internal error"))throw new Error(k.invalidUsernameError);throw new Error("Unsuccessful report response")}this.reportTracking({detail:{reportFlow:{flowOptionSelected:a.F.REPORT_SUBMIT}}}),this.dispatchEvent(e.c("submit-report-modal",{thingId:this.thingId})),this.changeStep(t)}catch(e){if(e.message===k.banEvasionError)return this.displayBanEvasionError();if(e.message===k.invalidUsernameError)return this.displayBanEvasionError("One or more of the inputted usernames is invalid.");this.dispatchReportErrorAlert()}},this.toggleButtonLoadingIndicator=()=>{this.actionButton?.querySelector("faceplate-progress")?.classList.toggle("hidden"),this.actionButton?.querySelector("span.report-button-content")?.classList.toggle("opacity-0")},this.reportRequest=async(e,t)=>{const i=s.d(e,this.isStandalone);if(!i)throw new Error("No corresponding gql operation for the item type provided");try{return await this.requestClientGQL({operation:i,variables:{input:t}})}catch(e){throw new Error("Error calling the gql report operation")}},this.dispatchReportErrorAlert=()=>{this.dispatchEvent(e.c("faceplate-alert",{level:e.a5.error,cause:"uncategorized",message:"An error occurred while submitting your report. Wait a bit, and try again."})),this.toggleButtonLoadingIndicator()},this.getBlockingTracking=t=>{const i=this.isUserBlockingSwitchChecked&&this.isStandalone,a=t?.level===e.a5.success;return{includeBlockingStatus:i||!!t,blockingStatus:!!i||a}},this.handleFormDone=async e=>{if(e){const{buttonAction:t}=e.detail;if(t===a.F.REPORT_FLOW_DONE||t===a.F.SUBMIT_ANOTHER){const e=await this.handleReportFlowUserBlocking(),{includeBlockingStatus:i,blockingStatus:a}=this.getBlockingTracking(e),n={reportFlow:{flowOptionSelected:t},...(i ? {userTargetStatus:{targetUserisBlockedByUser:a}} : {})};this.reportTracking({detail:n})}}},this.closeReportFlow=async t=>{await this.handleFormDone(t),this.pubsub.publish(e.T.ReportFlowClose)},this.updateBlockingSwitch=e=>{this.isUserBlockingSwitchChecked=e.detail.isChecked},this.handleReportFlowUserBlocking=async()=>{if(this.isUserBlockingSwitchChecked&&!this.isStandalone){const{level:t,message:i}=await n.h(!1,this.authorId,this.authorName);return this.dispatchEvent(e.c("faceplate-alert",{level:t,message:i})),{level:t,message:i}}},this.updateStepHistory=e=>{e&&(this.screenSequence=[...this.screenSequence,e])},this.onButtonClick=e=>{e.stopImmediatePropagation(),this.nextStepIsSuccess||this.updateStepHistory(this.nextAction?.step),this.performNextAction(),this.repopulateReportForm(this.screenSequence[this.screenSequence.length-1]),this.reportTracking({detail:{reportFlow:{flowOptionSelected:a.F.NEXT_BUTTON}}})},this.getButtonLabel=()=>this.nextAction?.type===a.N.SUBMIT?"Submit":"Next",this.updateButton=(e,t=!0)=>{if(this.nextAction?.url&&this.actionLinkButton)this.actionLinkButton.classList.remove("hidden"),this.actionLinkButton.href=this.nextAction.url,this.actionLinkButton?.addEventListener("click",this.onButtonClick),this.actionButton?.classList.add("hidden");else if(this.actionButton){this.actionButton?.addEventListener("click",this.onButtonClick);const i=this.actionButton.querySelector("span.report-button-content");i&&t&&(i.textContent=this.getButtonLabel()),void 0!==e&&(this.actionButton.disabled=e),this.actionLinkButton?.classList.add("hidden"),this.actionButton?.classList.remove("hidden")}},this.updateFormValues=(e,t)=>{this.formValues={...this.formValues,[e]:t}},this.updateBanEvasionNodes=e=>{const{subredditNode:t,subredditIcon:i,subredditId:a,userNodes:n,savedUsernames:s}=e.detail;void 0!==t&&(this.banEvasionSubredditNode=t),void 0!==i&&(this.banEvasionSubredditIcon=i),void 0!==a&&(this.banEvasionSubredditId=a,this.updateFormValues("subredditId",a)),void 0!==n&&(this.banEvasionAdditionalUserNodes=n),void 0!==s&&(this.savedUsernames=s,s.length>0&&this.updateFormValues("redditorUsernames",s.join(","))),this.cacheCurrentState(),this.updateBanEvasionSummary()},this.cacheCurrentState=()=>{const e=document.querySelector("report-page-manager");if(e){const t={banEvasionSubredditNode:this.banEvasionSubredditNode,banEvasionAdditionalUserNodes:this.banEvasionAdditionalUserNodes,banEvasionSubredditIcon:this.banEvasionSubredditIcon};e.banEvasionNodesCache=t,e.reportPageFormValues={...e.reportPageFormValues,[v.BAN_EVASION]:{...this.formValues}}}},this.updateBanEvasionSummary=()=>{if(!this.isStandalone&&!this.isBanEvasionReport)return;let t,i,a;if(this.banEvasionSubredditNode){const e=this.banEvasionSubredditNode;t=e.textContent?.trim()?.split(/\s+/)[0],i=this.banEvasionSubredditIcon,a=this.banEvasionSubredditId}else t=void 0,i=void 0,a=void 0;const n=this.banEvasionAdditionalUserNodes?.length||0;this.pubsub.publish(e.T.BanEvasionSummaryUpdate,{subredditName:t,subredditIcon:i,subredditId:a,userCount:n,savedUsernames:this.savedUsernames,hideSummary:!1})},this.repopulateBanEvasionForm=e=>{this.updateComplete.then((()=>{const t=this.querySelector("ban-evasion-step-new");t&&e===a.S.BAN_EVASION_USERS&&(t.repopulateScreen?.(),this.updateComplete.then((()=>{this.nextAction&&this.updateButton(!0,!0)})))}))},this.restoreBanEvasionStateFromCache=()=>{const e=document.querySelector("report-page-manager");if(!e?.banEvasionNodesCache)return;const t=e.banEvasionNodesCache;Object.assign(this,{banEvasionSubredditNode:t.banEvasionSubredditNode,banEvasionAdditionalUserNodes:t.banEvasionAdditionalUserNodes,banEvasionSubredditIcon:t.banEvasionSubredditIcon});const i=e.reportPageFormValues[v.BAN_EVASION];i&&(this.formValues={...this.formValues,...i},i.redditorUsernames&&(this.savedUsernames=i.redditorUsernames.split(",")),i.subredditId&&(this.banEvasionSubredditId=i.subredditId)),this.updateBanEvasionSummary()},this.updateReportForm=e=>{const{fieldName:t,value:i,nextAction:a,supportingEvidence:n,button:s}=e.detail;a&&(this.nextAction=a),n&&(this.supportingEvidence=n),this.updateFormValues(t,i),this.updateButton(s?.isDisabled,s?.updateButtonText),this.isBanEvasionReport&&this.cacheCurrentState()},this.hideTitle=()=>{this.standAloneReportTitle?.classList.add("hidden")},this.applyStandaloneSummaryValues=(t,i)=>{const n=t?.getAttribute("data-description");if(i!==a.R.REPORT_REASONS||t&&n){if(this.isStandalone&&n){const i=t?.innerText;this.pubsub.publish(e.T.ReportPageSummaryUpdate,{reportReasonTitle:i,reportReasonDesc:n})}}else this.pubsub.publish(e.T.ReportPageSummaryUpdate,{clearReportReason:!0,hideSummary:!1})},this.applyStandAloneTitle=()=>{if(!this.standAloneReportTitle)return;const e="Report content",t="Report account(s)",i="Crisis report",n=this.isBanEvasionReport?t:this.standAloneReportType===v.CONTENT?e:t;this.screenSequence[this.screenSequence.length-1]===a.R.CTL_STEP_ONE?this.standAloneReportTitle.textContent=i:this.standAloneReportTitle.textContent=n},this.renderBackButton=async()=>{if(await this.updateComplete,!this.backButton)return;this.backButton?.addEventListener("click",this.navigateBack);const e=this.querySelector("shreddit-slotter")?.getAttribute("slot-name");this.screenSequence.length>1&&"SUCCESS"!==e||this.isStandalone?(this.backButton.classList.remove("hidden"),this.backButton.disabled=!1):(this.backButton.classList.add("hidden"),this.backButton.disabled=!0)},this.navigateBack=()=>{const t=this.screenSequence,i=t.slice(0,t.length);i.pop(),this.screenSequence=i;const n=i[i.length-1];this.isStandalone&&this.backButton?.classList.contains("first-rf-screen")&&(this.dispatchEvent(e.c("report-page-update-state-values",{formValues:this.formValues,banEvasionNodes:{banEvasionSubredditNode:this.banEvasionSubredditNode,banEvasionAdditionalUserNodes:this.banEvasionAdditionalUserNodes}})),this.pubsub.publish(e.T.ReportPageSummaryUpdate,{hideSummary:!0}),this.pubsub.publish(e.T.BanEvasionSummaryUpdate,{hideSummary:!0})),this.changeStep(n),this.repopulateReportForm(n),this.reportTracking({detail:{reportFlow:{flowOptionSelected:a.F.BACK_ARROW}}})},this.getStepValue=e=>this.formValues[e],this.repopulateReportForm=async e=>{if(await this.updateComplete,!e)return;const t=this.getStepValue(e);if(!t)return void this.applyStandaloneSummaryValues(null,e);const i=this.slotter?.querySelectorAll("[data-buttonbar] button"),a=this.slotter?.querySelectorAll("faceplate-radio-input"),n=this.slotter?.querySelector("faceplate-textarea-input");if(i?.length&&this.applyButtonBarButtonValue(t),a?.length&&this.applyRadioButtonValue(t),n){const i={step:e,stepValue:t,textarea:n};this.applyTextAreaValue(i)}},this.applyTextAreaValue=async({step:e,stepValue:t,textarea:i})=>{if("SUBREDDIT"===e){if(!this.formValues.customResponse?.length&&"customResponse"===t){const t={detail:{fieldName:e,value:"",button:{isDisabled:!0}}};this.updateReportForm(t)}"customResponse"===t&&(i.classList.remove("hidden"),await i.updateComplete,i.scrollIntoView()),i.setAttribute("value",this.formValues.customResponse??"")}"FREE_TEXT"===e&&i.setAttribute("value",t)},this.applyButtonBarButtonValue=e=>{const t=this.slotter?.querySelector(`[data-buttonbar] button[value="${e}"]`);if(!t)return;t.classList.add("button-activated"),t.ariaChecked="true",t.setAttribute("aria-describedby","report-footer-content-body");const i=t.getAttribute("data-description"),a=t.innerText;a&&(this.slotter.querySelector("#report-footer-content-title").textContent=a),i&&(this.slotter.querySelector("#report-footer-content-body").textContent=i),this.applyActionButtonValue(t),this.isStandalone||this.updateComplete.then((()=>h(t)))},this.applyRadioButtonValue=e=>{const t=this.slotter?.querySelector(`faceplate-radio-input[value="${e}"]`);t&&(t.setAttribute("checked","true"),this.applyActionButtonValue(t),this.isStandalone&&this.applyStandaloneSummaryValues(t,e))},this.applyActionButtonValue=e=>{const t=e.getAttribute("name")??"",i=e.getAttribute("value")??"",a=e.getAttribute("data-ref")??"",n=e.getAttribute("data-nextaction")??void 0,s=e.getAttribute("data-next-step")??"",r=e.getAttribute("data-supporting-evidence")?.split(","),o={detail:{fieldName:t,value:i,nextAction:{type:n,url:a,step:s},supportingEvidence:r,button:{isDisabled:!1}}};this.updateReportForm(o)};const t=this.querySelector("shreddit-slotter")?.getAttribute("slot-name");this.screenSequence=t?[t]:[],this.addEventListener("update-report-form",this.updateReportForm),this.addEventListener("close-report-form",this.closeReportFlow),this.addEventListener("handle-form-done",this.handleFormDone),this.addEventListener("report-tracking",this.reportTracking),this.addEventListener("update-blocking-switch",this.updateBlockingSwitch),this.addEventListener("update-ban-evasion-nodes",this.updateBanEvasionNodes),this.addEventListener("hide-page-title-success-screen",this.hideTitle),this.closeButton?.addEventListener("click",(()=>{this.reportTracking({detail:{reportFlow:{flowOptionSelected:a.F.X_OUT}}})}))}render(){return t.x` <slot></slot>`}};R.styles=[e.t],R.banEvasionError="Ban Evasion: Not Authorized",R.invalidUsernameError="Ban Evasion: Invalid Username",e._([e.n({type:String,attribute:"author-id"})],R.prototype,"authorId",void 0),e._([e.n({type:String,attribute:"author-name"})],R.prototype,"authorName",void 0),e._([e.n({type:String,attribute:"author-avatar"})],R.prototype,"authorAvatar",void 0),e._([e.n({type:String,attribute:"thing-id"})],R.prototype,"thingId",void 0),e._([e.n({type:String,attribute:"subreddit-id"})],R.prototype,"subredditId",void 0),e._([e.n({type:String,attribute:"conversation-id"})],R.prototype,"conversationId",void 0),e._([e.n({type:Boolean,attribute:"is-user-blocked"})],R.prototype,"isUserBlocked",void 0),e._([e.n({type:Boolean,attribute:"is-moderator"})],R.prototype,"isModerator",void 0),e._([e.n({type:Boolean,attribute:"is-standalone"})],R.prototype,"isStandalone",void 0),e._([e.n({type:String,attribute:"standalone-report-type"})],R.prototype,"standAloneReportType",void 0),e._([e.n({type:String,attribute:"permalink"})],R.prototype,"permalink",void 0),e._([e.n({type:String,attribute:"country-code"})],R.prototype,"countryCode",void 0),e._([e.h()],R.prototype,"formValues",void 0),R=k=e._([e.e("report-form-manager")],R);let T=class extends t.s{constructor(){super(...arguments),this.pubsub=new e.u(this),this.addDoneListener=()=>{this.doneButton?.addEventListener("click",(()=>{this.dispatchEvent(e.c("close-report-form",{buttonAction:a.F.REPORT_FLOW_DONE}))}))},this.addSubmitAnotherListener=()=>{this.submitAnotherButton?.addEventListener("click",(()=>{this.dispatchEvent(e.c("handle-form-done",{buttonAction:a.F.SUBMIT_ANOTHER}))}))},this.hideElements=()=>{this.dispatchEvent(e.c("hide-page-title-success-screen")),this.pubsub.publish(e.T.ReportPageSummaryUpdate,{hideSummary:!0}),this.pubsub.publish(e.T.BanEvasionSummaryUpdate,{hideSummary:!0})}}get doneButton(){const e=this.querySelector("#report-action-link-button");return!e||e?.className.includes("hidden")?this.querySelector("#report-action-button"):e}get submitAnotherButton(){return this.querySelector("#report-submit-another-link-button")}firstUpdated(){this.hideElements(),this.updateComplete.then((()=>{this.addDoneListener(),this.addSubmitAnotherListener()}))}};T=e._([e.e("base-success-step")],T);let I=class extends T{constructor(){super(...arguments),this.toggleButtonLoadingIndicator=()=>{this.blockingModule?.querySelector("faceplate-progress")?.classList.toggle("hidden"),this.blockingModule?.querySelector("span.report-button-content")?.classList.toggle("opacity-0")},this.dispatchReportEvent=t=>{this.dispatchEvent(e.c("report-tracking",{reportFlow:{flowOptionSelected:t}}))},this.dispatchBlockEvents=t=>{this.dispatchEvent(e.c("update-blocking-switch",{isChecked:t})),this.dispatchReportEvent(a.F.BLOCK_USER_TOGGLE)},this.addUserBlockingSwitchListener=()=>{this.userBlockingSwitch?.addEventListener("click",(()=>{this.dispatchBlockEvents(this.userBlockingSwitch?.checked??!1)}))},this.addUserBlockingButtonListeners=()=>{this.blockingModule?.addEventListener("click",(()=>{this.toggleButtonLoadingIndicator()})),this.blockingModule?.addEventListener("blocked-state-update-error",(()=>{this.toggleButtonLoadingIndicator()})),this.blockingModule?.addEventListener("blocked-state-updated",(()=>{this.dispatchBlockEvents(!0),this.toggleButtonLoadingIndicator(),this.userBlockingButton?.setAttribute("disabled",""),this.userBlockingButton.innerText="Blocked"}))}}get userBlockingSwitch(){return this.querySelector("faceplate-switch-input")}get blockingModule(){return this.querySelector("user-blocking")}get userBlockingButton(){return this.blockingModule?.querySelector("#block-user-button")}firstUpdated(){super.firstUpdated(),this.updateComplete.then((()=>{this.addUserBlockingSwitchListener(),this.addUserBlockingButtonListeners()}))}render(){return t.x` <slot></slot>`}};I=e._([e.e("success-screen")],I);let y=class extends t.s{constructor(){super(...arguments),this.updateFormState=()=>{const t=this.getAttribute("name")??"",i=this.getAttribute("value")??"",a=this.getAttribute("data-nextaction")??void 0,n=this.getAttribute("data-next-step")??"";this.dispatchEvent(e.c("update-report-form",{fieldName:t,value:i,nextAction:{type:a,step:n},button:{updateButtonText:!1,isDisabled:!1}}))},this.dispatchReportEvent=t=>{this.dispatchEvent(e.c("report-tracking",{reportFlow:{flowOptionSelected:a.F.OUTBOUND_LINK,flowOutboundLink:t}}))}}get yesButton(){return this.querySelector("#report-action-button")}get crisisTextLineLink(){return this.querySelector('a[id="crisis-text-line-link"]')}get ctlOptionsLink(){return this.querySelector('a[id="ctl-options-link"]')}firstUpdated(){this.updateFormState(),this.ctlOptionsLink?.addEventListener("click",(()=>this.dispatchReportEvent(this.ctlOptionsLink?.href??""))),this.crisisTextLineLink?.addEventListener("click",(()=>this.dispatchReportEvent(this.crisisTextLineLink?.href??"")))}render(){return t.x` <slot></slot>`}};y=e._([e.e("ctl-step-one")],y);let f=class extends T{constructor(){super(...arguments),this.dispatchReportEvent=t=>{this.dispatchEvent(e.c("report-tracking",{reportFlow:{flowOptionSelected:a.F.OUTBOUND_LINK,flowOutboundLink:t}}))}}get listItemOne(){return this.querySelector('a[id="ctl-success-list-item-one"]')}get listItemTwo(){return this.querySelector('a[id="ctl-success-list-item-two"]')}firstUpdated(){super.firstUpdated(),this.listItemOne?.addEventListener("click",(()=>this.dispatchReportEvent(this.listItemOne?.href??""))),this.listItemTwo?.addEventListener("click",(()=>this.dispatchReportEvent(this.listItemTwo?.href??"")))}render(){return t.x` <slot></slot>`}};var A;f=e._([e.e("ctl-step-two")],f);let L=A=class extends t.s{constructor(){super(...arguments),this.selectedRedditorUsernames=[],this.showInput=!0,this.inputFields=[""],this.savedUsernames=[],this.handleShowInput=()=>{this.addNewInputField()},this.addNewInputField=()=>{this.inputFields.length<A.MAX_USERS&&(this.inputFields=[...this.inputFields,""],this.updateSelectedRedditors())},this.updateSelectedRedditors=()=>{this.selectedRedditorUsernames=this.inputFields.filter((e=>""!==e.trim())).map((e=>e.trim())),this.dispatchEvent(e.c("username-update",{usernames:this.selectedRedditorUsernames}))},this.handleAddAccountsClick=()=>{this.addNewInputField()},this.handleInputFieldBlur=t=>{this.savedUsernames=this.inputFields.filter((e=>""!==e.trim())).map((e=>e.trim())),this.dispatchEvent(e.c("saved-usernames-update",{usernames:this.savedUsernames}))},this.renderInputFields=()=>this.inputFields.map(((a,n)=>{const s=a.length>0;return t.x` <div class="my-md"> <div class="flex items-center gap-2"> <div class="flex-1"> <faceplate-text-input class="w-full pr-2" name="username-${n}" type="text" prefix="${s?"u/":""}" .value="${a}" @input="${e=>this.handleInputFieldChange(e,n)}" @blur="${this.handleInputFieldBlur}"> <span slot="label" class="text-neutral-content-weak"> ${"Username"} </span> </faceplate-text-input> </div> ${this.inputFields.length>1&&n>0?t.x` <div class="flex-shrink-0 px-4"> ${e.o({appearance:"plain",attributes:{onclick:()=>this.removeInputField(n),"aria-label":"Clear username input"},leadingIcon:i.c({size:t.I.Small})})} </div> `:t.x` <div class="flex-shrink-0 px-4"> ${e.o({appearance:"plain",attributes:{disabled:!0,style:"visibility: hidden;"},leadingIcon:i.c({size:t.I.Small})})} </div> `} </div> </div> `;})),this.handleInputFieldChange=(e,t)=>{const i=e.target;this.inputFields[t]=i.value,this.inputFields=[...this.inputFields],this.updateSelectedRedditors()},this.removeInputField=t=>{this.inputFields.length<=1||(this.inputFields.splice(t,1),this.inputFields=[...this.inputFields],this.updateSelectedRedditors(),this.savedUsernames=this.inputFields.filter((e=>""!==e.trim())).map((e=>e.trim())),this.dispatchEvent(e.c("saved-usernames-update",{usernames:this.savedUsernames})))},this.reset=()=>{this.inputFields=[""],this.selectedRedditorUsernames=[],this.savedUsernames=[],this.updateSelectedRedditors(),this.dispatchEvent(e.c("saved-usernames-update",{usernames:[]}))}}render(){return t.x`<div class="w-full h-full flex flex-col"> ${this.hint?t.x`<faceplate-form-helper-text name="shreddit-community-search" aria-live="polite" placeholder="${this.hint}" class="grow-0 shrink-0"> </faceplate-form-helper-text>`:t.A} <div class="flex-initial overflow-y-auto">${this.renderInputFields()}</div> ${e.o({attributes:{id:"report-additional-accounts",className:"grow-0 shrink-0 self-start",onclick:()=>this.handleAddAccountsClick(),disabled:this.inputFields.length>=A.MAX_USERS},appearance:"plain",children:"Report additional accounts",leadingIcon:o.a({size:t.I.Small})})} </div> `;}};return L.styles=[e.t],L.MAX_USERS=10,e._([e.n()],L.prototype,"hint",void 0),e._([e.h()],L.prototype,"selectedRedditorUsernames",void 0),e._([e.h()],L.prototype,"showInput",void 0),e._([e.h()],L.prototype,"inputFields",void 0),e._([e.h()],L.prototype,"savedUsernames",void 0),L=A=e._([e.e("username-input-list")],L),{get R(){return b},get a(){return v},g:S}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./BskNjLbli-.js",import.meta.url,"BskNjLbli-");
SML.dm("DFgwjk6Rt3",["Dw4vb8Yfbm","BskNjLbli-"],(async(e,t)=>{const r="ModmailMessage_",s={[t.V.Post]:"postId",[t.V.Comment]:"commentId",[t.V.User]:"redditorId",[t.V.PrivateMessage]:"messageId",[t.V.ModmailMessage]:"messageId"},o={[t.V.Post]:e.O.ReportPost,[t.V.Comment]:e.O.ReportComment,[t.V.User]:e.O.ReportUserDetails,[t.V.PrivateMessage]:e.O.ReportPrivateMessage,[t.V.ModmailMessage]:e.O.ReportModmailMessage,[t.V.Username]:e.O.ReportRedditor};return{a:e=>{if(!e)return t.V.Username;if(e.includes("t4_"))return t.V.PrivateMessage;if(e.includes("t3_"))return t.V.Post;if(e.includes("t2_"))return t.V.User;if(e.includes("t1_"))return t.V.Comment;if(e.includes(r))return t.V.ModmailMessage;throw new Error("Unsupported item type provided")},b:({itemType:o,formValues:a,thingId:i,isStandalone:d,conversationId:n})=>{const m={fromHelpDesk:!1},p=o===t.V.ModmailMessage;if(o===t.V.User&&a?.USER_DETAILS&&(m.userDetailType=a?.USER_DETAILS),p&&n&&(m.conversationId=n),!a?.REPORT_REASONS)throw new Error("Report reasons form value not found");const l=a?.REPORT_REASONS;if("SUBREDDIT"===l){const e=a[l];"customResponse"===e?m.customRule=a[e]:m.subredditRule=e}else m.siteRule=a[l]??l;if(a.FREE_TEXT&&(m.freeText=a.FREE_TEXT),a.ADDITIONAL_CONTENT){const e=a.ADDITIONAL_CONTENT;m.reportedItems=e.split(",").map((e=>({itemId:e})))}if(m.siteRule===e.aY.BanEvasion){if(a.redditorUsernames){const e=a.redditorUsernames.split(",").map((e=>e.trim())).map((e=>e.startsWith("u/")?e.slice(2):e)).filter((e=>e));m[p?"additionalUserNames":"redditorUsernames"]=e}a.subredditId&&(m.subredditId=a.subredditId)}const R=p?i?.split(r).at(1)??"":i;return{...m,...o===t.V.Username?{}:{[s[o]]:R},fromHelpDesk:d||!1}},c:e=>{const t="reportPost"in e.data&&e.data?.reportPost?.ok,r="reportComment"in e.data&&e.data?.reportComment?.ok,s="reportUserDetails"in e.data&&e.data?.reportUserDetails?.ok,o="reportPrivateMessage"in e.data&&e.data?.reportPrivateMessage?.ok,a="reportRedditor"in e.data&&e.data?.reportRedditor?.ok,i="reportModmailMessage"in e.data&&e.data?.reportModmailMessage?.ok;return t||r||s||o||a||i},d:(r,s)=>!s||r!==t.V.User&&r!==t.V.Username?o[r]:e.O.ReportRedditor,g:o}}));
SML.di("./D7shy156CF.js",import.meta.url,"D7shy156CF");SML.di("./CIOo61duNV.js",import.meta.url,"CIOo61duNV");SML.di("./DfOK659qrU.js",import.meta.url,"DfOK659qrU");SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./BwcMg3lXAs.js",import.meta.url,"BwcMg3lXAs");SML.di("./QMGysYRnFy.js",import.meta.url,"QMGysYRnFy");SML.di("./CQMf561ZyA.js",import.meta.url,"CQMf561ZyA");SML.di("./BwcUp7XlaC.js",import.meta.url,"BwcUp7XlaC");SML.di("./FQGvCwaizg.js",import.meta.url,"FQGvCwaizg");SML.di("./BIzQFHISzm.js",import.meta.url,"BIzQFHISzm");SML.di("./DnNITwgp90.js",import.meta.url,"DnNITwgp90");SML.di("./jWC3N3n7Al.js",import.meta.url,"jWC3N3n7Al");SML.di("./BYzqEZ3uv3.js",import.meta.url,"BYzqEZ3uv3");SML.di("./Cv4mWnWE30.js",import.meta.url,"Cv4mWnWE30");SML.di("./B-zFJtiar6.js",import.meta.url,"B-zFJtiar6");SML.di("./eY7T41bKac.js",import.meta.url,"eY7T41bKac");SML.di("./CMwg6atOpj.js",import.meta.url,"CMwg6atOpj");SML.di("./Py9rIF7r2a.js",import.meta.url,"Py9rIF7r2a");SML.di("./BskNjLbli-.js",import.meta.url,"BskNjLbli-");SML.di("./DSh0Ye202d.js",import.meta.url,"DSh0Ye202d");SML.di("./CpZ44pmnxI.js",import.meta.url,"CpZ44pmnxI");SML.di("./CBbxnHsw2W.js",import.meta.url,"CBbxnHsw2W");SML.di("./M-CiwvFL1u.js",import.meta.url,"M-CiwvFL1u");SML.di("./DFgwjk6Rt3.js",import.meta.url,"DFgwjk6Rt3");SML.di("./cg7FPmv2fT.js",import.meta.url,"cg7FPmv2fT");SML.di("./DMVINMWPkT.js",import.meta.url,"DMVINMWPkT");SML.di("./DOqOHj9jA9.js",import.meta.url,"DOqOHj9jA9");SML.di("./BQbrDNllG4.js",import.meta.url,"BQbrDNllG4");SML.di("./BRjrtOukap.js",import.meta.url,"BRjrtOukap");
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");
SML.dm("DSh0Ye202d",["Dw4vb8Yfbm","5r73EsgItq"],(async(e,o)=>{const t=async(o,t,s)=>{try{const{isBlocked:r,response:{data:{updateRedditorBlockState:u},errors:n}}=await a(o?e.cI.None:e.cI.Blocked,t);if(u?.ok){const o=r?`u/${s} is now blocked.`:`u/${s} is now unblocked.`;return{level:e.a5.success,message:o}}if(n.length||null===u)return window.Sentry?.captureMessage(n?.[0]?.message??"Something went wrong"),{level:e.a5.error,message:`You can't block u/${s} for 24 hours after unblocking them`,cause:"user-block-rate-limited"};throw new Error(n?.[0]?.message??"Generic error while blocking user")}catch(e){return window.Sentry?.captureMessage(e),r()}},a=async(o,t)=>{try{return{response:await e.Y({operation:e.O.UpdateRedditorBlockState,variables:{input:{redditorId:t,blockState:o}}}),isBlocked:o!==e.cI.None}}catch(e){throw new Error("Error during user blocking gql call")}},r=()=>({level:e.a5.error,message:"An error has occurred. Please try again later",cause:e.cv.UncaughtError}),s=o.s;let u=class extends s{constructor(){super(...arguments),this.userId="",this.username="",this.isUserInitBlocked=!1,this.showAlerts=!1,this.shouldNotHandleSubmission=!1,this.isUserBlocked=!1,this._onClick=()=>{this.shouldNotHandleSubmission||this.child?.disabled||this.handleBlockUserState()},this.handleBlockUserState=async()=>{const{level:o,message:a,cause:r}=await t(this.isUserBlocked,this.userId,this.username);(this.showAlerts||o===e.a5.error)&&this.dispatchEvent(e.c("faceplate-alert",{level:o,message:a,cause:r})),o===e.a5.error&&this.dispatchEvent(e.c("blocked-state-update-error")),o===e.a5.success&&(this.isUserBlocked=!this.isUserBlocked,this.dispatchEvent(e.c("blocked-state-updated",{isBlocked:this.isUserBlocked})))}}get child(){return this.querySelector("button")??this.querySelector("faceplate-switch-input")??void 0}connectedCallback(){super.connectedCallback(),this.isUserBlocked=this.isUserInitBlocked,this.addEventListener("click",this._onClick)}disconnectedCallback(){this.removeEventListener("click",this._onClick)}render(){return o.x`<slot></slot> `}};u.styles=[e.t],e._([e.n({type:String,attribute:"user-id"})],u.prototype,"userId",void 0),e._([e.n({type:String})],u.prototype,"username",void 0),e._([e.n({type:Boolean,attribute:"is-user-init-blocked"})],u.prototype,"isUserInitBlocked",void 0),e._([e.n({type:Boolean,attribute:"show-alerts"})],u.prototype,"showAlerts",void 0),e._([e.n({type:Boolean,attribute:"should-not-handle-submission"})],u.prototype,"shouldNotHandleSubmission",void 0),e._([e.h()],u.prototype,"isUserBlocked",void 0),u=e._([e.e("user-blocking")],u);var n=Object.freeze({__proto__:null,get UserBlocking(){return u}});return{h:t,get u(){return n}}}));
SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./CQMf561ZyA.js",import.meta.url,"CQMf561ZyA");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./BwcMg3lXAs.js",import.meta.url,"BwcMg3lXAs");SML.di("./jWC3N3n7Al.js",import.meta.url,"jWC3N3n7Al");SML.di("./BYzqEZ3uv3.js",import.meta.url,"BYzqEZ3uv3");SML.di("./eY7T41bKac.js",import.meta.url,"eY7T41bKac");SML.di("./CMwg6atOpj.js",import.meta.url,"CMwg6atOpj");SML.di("./BwcUp7XlaC.js",import.meta.url,"BwcUp7XlaC");
SML.dm("QMGysYRnFy",["Dw4vb8Yfbm","CQMf561ZyA","5r73EsgItq","BwcMg3lXAs","jWC3N3n7Al","BYzqEZ3uv3","eY7T41bKac","CMwg6atOpj","BwcUp7XlaC"],(async(e,t,s,i,a)=>{const n="community-picker-others",r="community-picker-your-communities",o="community-picker-default";let l=class extends(a.T()){constructor(){super(...arguments),this.isDirty=!1,this.hasBeenFocused=!1,this.exclude="",this.fitWidth=!1,this.searchOnInitialFocus=!1,this.communityIcon="",this.communityPrefixedName="",this.communityName="",this.communityId="",this.showSuggestionsInline=!1,this.placeholder="Search communities",this._query="",this.typeaheadResults=null,this.debouncedSearch=e.ao(this.fetchTypeaheadResults,300),this.partialRequest=new e.aS(this),this.handleBlur=e=>{const t=e.relatedTarget;this.contains(t)||this.shadowRoot.contains(t)||this.dropdownMenu?.close()},this.handleClick=e=>{e.stopPropagation()},this.handleDropdownClick=e=>{this.handleDropdownSelect(e)},this.handleDropdownKeyDown=e=>{const t=e.target,[s]=e.composedPath(),{visibleListItems:i}=this,a=i.findIndex((e=>e===t||e.contains(t)||e.contains(s)));if(a<0)return;e.stopPropagation();const n=i[a+1],r=i[a-1];if("ArrowDown"===e.code){if(e.preventDefault(),!n)return this.handleSearchKeyDown(e);this.focusListItem(n)}else if("ArrowUp"===e.code)if(e.preventDefault(),r)this.focusListItem(r);else{const{searchInput:e,searchInputEl:t}=this;if(!e)return;e.value=this.query,e.focus();const s=e.value.length;s&&t?.setSelectionRange(s,s)}else"Enter"===e.code&&this.handleDropdownSelect(e)},this.handleDropdownSelect=e=>{e.preventDefault();const t=e.target,[s]=e.composedPath(),{visibleListItems:i}=this,a=i.find((e=>e===t||e.contains(t)||e.contains(s)))??null,n=this.parseListItemData(a);if(!a||!n)return;this.value=n.prefixedName??"",this.communityIcon=a.querySelector("img")?.src??"",this.communityPrefixedName=n.prefixedName??"",this.communityName=n.name??"",this.communityId=n.id??"",this.dropdownMenu?.close();const r=new InputEvent("input",{bubbles:!0,composed:!0}),o=new Event("change",{bubbles:!0});this.dispatchEvent(r),this.dispatchEvent(o)},this.handleSearchClear=()=>{this.reset(),this.searchInput?.focus()},this.handleSearchFocus=()=>{!this.hasBeenFocused&&this.searchOnInitialFocus&&this.fetchTypeaheadResults(),this.hasBeenFocused=!0,this.dropdownMenu?.show()},this.handleSearchInput=e=>{this.isDirty=!0,this.query=e.target.value}}static get styles(){return[e.t]}get value(){return this.parseListItemData(this.selectedItem)?.prefixedName??""}set value(e){const t=this.listItems.find((t=>this.parseListItemData(t)?.prefixedName===e));t&&(this.selectedItem=t)}get searchInputEl(){return this.searchInput?.shadowRoot?.querySelector("input")??null}get query(){return this._query}set query(e){e!==this._query&&(this._query=e,this.handleQueryChange())}get defaultListItems(){return(this.defaultItemGroups??[]).map((e=>Array.from(e.querySelectorAll(`li#${o} li:has(div[role="menuitem"])`)))).flat()}get typeaheadSubscribedListItems(){return Array.from(this.typeaheadContainer?.querySelectorAll(`li#${r} li[data-select-value]:has(div[role="menuitem"])`)??[])}get typeaheadOtherListItems(){return Array.from(this.typeaheadContainer?.querySelectorAll(`li#${n} li[data-select-value]:has(div[role="menuitem"])`)??[])}get listItems(){return[...this.defaultListItems,...this.typeaheadSubscribedListItems,...this.typeaheadOtherListItems]}get selectedItem(){return this.listItems.find((e=>e.hasAttribute("rpl-selected")))??null}set selectedItem(e){e&&this.selectedItem!==e&&(this.selectedItem?.toggleAttribute("rpl-selected"),e?.toggleAttribute("rpl-selected"))}get visibleDefaultListItems(){return this.defaultListItems.filter((e=>!e.classList.contains("hidden")))}get visibleTypeaheadSubscribedListItems(){return this.typeaheadSubscribedListItems.filter((e=>!e.classList.contains("hidden")))}get visibleTypeaheadOtherListItems(){return this.typeaheadOtherListItems.filter((e=>!e.classList.contains("hidden")))}get visibleListItems(){return this.listItems.filter((e=>!e.classList.contains("hidden")))}connectedCallback(){super.connectedCallback(),this.addEventListener("blur",this.handleBlur),this.addEventListener("click",this.handleClick),this.addEventListener("keydown",this.handleDropdownKeyDown,{capture:!0})}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("blur",this.handleBlur),this.removeEventListener("click",this.handleClick),this.removeEventListener("keydown",this.handleDropdownKeyDown,{capture:!0})}parseListItemData(e){return e?.dataset?.selectValue?JSON.parse(e.dataset.selectValue):null}async focusListItem(e){await(e?.querySelector("[tabindex]")?.focus()),this.searchInput&&null!=e.dataset.selectValue&&(this.searchInput.value=this.parseListItemData(e)?.prefixedName??"")}firstUpdated(){const e=this.getAttribute("value");e&&this.value!==e?this.value=e:this.value=this.parseListItemData(this.selectedItem)?.prefixedName??""}updated(){this.filterDropdownItems()}reset(){this.query="",this.value="",this.communityIcon="",this.communityPrefixedName="",this.communityName="",this.communityId="",this.searchInput&&(this.searchInput.value="")}async fetchTypeaheadResults(){const t=await this.partialRequest.request(`/svc/shreddit/community-search?q=${this.normalizeQuery(this.query)}&subs=1&exclude=${this.exclude}`),s=await(t?.text());this.typeaheadResults=s?e.bk(s):null}normalizeQuery(e){return e?e.toLowerCase().trim():""}focus(){super.focus(),this.contains(document.activeElement)&&this.shadowRoot?.activeElement!==this.dropdownButton||this.searchInput?.focus()}handleQueryChange(){this.searchInput&&(this.searchInput.value=this.query),this.debouncedSearch&&this.debouncedSearch(this.query),this.filterDropdownItems()}handleSearchKeyDown(e){"ArrowDown"===e.code&&(e.preventDefault(),this.focusListItem(this.visibleListItems[0]))}filterDropdownItems(){const{query:e}=this,t=this.listItems,s=new Set;for(const i of t){if(!i)continue;const t=this.parseListItemData(i);t?.prefixedName&&t.prefixedName.toLocaleLowerCase().includes(e.toLocaleLowerCase())&&!s.has(t.prefixedName.toLocaleLowerCase())?(i.classList.remove("hidden"),s.add(t.prefixedName.toLocaleLowerCase())):i.classList.add("hidden")}const i=this.typeaheadContainer?.querySelector(`#${n}`),a=this.typeaheadContainer?.querySelector(`#${r}`),l=this.querySelector(`#${o}`);0===this.visibleDefaultListItems.length?l?.classList.add("hidden"):l?.classList.remove("hidden"),0===this.visibleTypeaheadSubscribedListItems.length?a?.classList.add("hidden"):a?.classList.remove("hidden"),0===this.visibleTypeaheadOtherListItems.length?i?.classList.add("hidden"):i?.classList.remove("hidden"),this.isDirty&&(0===this.visibleListItems.length?this.emptyText?.classList.remove("hidden"):this.emptyText?.classList.add("hidden"))}renderSearchInput(){const a=`mx-0 ${this.fitWidth?"min-w-full":"min-w-[20rem]"} w-full`;return s.x` <faceplate-search-input id="search-input" appearance="${t.T.SECONDARY}" ?clearable="${!1}" type="search" placeholder="${this.placeholder}" name="${this.name}" autocomplete="off" inputmode="" novalidate @focus="${this.handleSearchFocus}" @input="${this.handleSearchInput}" @keydown="${this.handleSearchKeyDown}" value="${this.query}" class="${a}"> ${e.o({attributes:{id:"search-input-clear-button",slot:"clearIcon",type:"button",onclick:this.handleSearchClear},appearance:"plain",size:e.q.Small,screenReaderContent:"Clear search",leadingIcon:i.c({size:s.I.Small})})} </faceplate-search-input>`;}render(){const e=s.x` <faceplate-menu slot="menu" disable-auto-focus @click="${this.handleDropdownClick}" class="min-w-[18rem]"> <div class="overflow-y-auto ${this.showSuggestionsInline?s.A:"max-h-[30vh]"}"> <slot></slot> <div id="typeahead-results">${this.typeaheadResults??s.A}</div> <div id="community-search-empty" class="text-14 text-neutral-content m-md mb-xs hidden"> ${"No communities found"} </div> </div> </faceplate-menu>`;return s.x`<div class="relative inline-block w-full"> ${this.renderSearchInput()} ${this.hint?s.x`<faceplate-form-helper-text class="pl-md" name="shreddit-community-search" aria-live="polite" placeholder="${this.hint}"> </faceplate-form-helper-text>`:s.A} ${this.showSuggestionsInline?e:s.x`<faceplate-dropdown-menu class="ml-md"> ${e} </faceplate-dropdown-menu>`} </div> ${super.render()}`}};e._([e.n({type:String})],l.prototype,"exclude",void 0),e._([e.n({type:Boolean,attribute:"fit-width"})],l.prototype,"fitWidth",void 0),e._([e.n({type:Boolean,attribute:"search-on-initial-focus"})],l.prototype,"searchOnInitialFocus",void 0),e._([e.n()],l.prototype,"communityIcon",void 0),e._([e.n()],l.prototype,"communityPrefixedName",void 0),e._([e.n()],l.prototype,"communityName",void 0),e._([e.n()],l.prototype,"communityId",void 0),e._([e.n({type:Boolean,attribute:"show-suggestions-inline"})],l.prototype,"showSuggestionsInline",void 0),e._([e.n()],l.prototype,"placeholder",void 0),e._([e.n()],l.prototype,"hint",void 0),e._([e.n()],l.prototype,"value",null),e._([e.a2("#search-input",!0)],l.prototype,"searchInput",void 0),e._([e.a2("#dropdown-button",!0)],l.prototype,"dropdownButton",void 0),e._([e.a2("faceplate-dropdown-menu")],l.prototype,"dropdownMenu",void 0),e._([e.l({flatten:!0,selector:"li"})],l.prototype,"defaultItemGroups",void 0),e._([e.n()],l.prototype,"query",null),e._([e.h()],l.prototype,"typeaheadResults",void 0),e._([e.a2("#typeahead-results")],l.prototype,"typeaheadContainer",void 0),e._([e.a2("#community-search-empty")],l.prototype,"emptyText",void 0),l=e._([e.e("shreddit-community-search")],l)}));
SML.dm("cg7FPmv2fT",[],(async()=>{const E=["BE","BG","HR","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","CY","RO","SK","SI","ES","SE"],n=["EU","UK","AU"];var t;!function(E){E.REGION_SUFFIX="odsa",E.URL_REGION_KEY="&tf_35141892305556=",E.URL_PERMALINK_KEY="&tf_19617252816916="}(t||(t={}));const R=R=>{if("GB"===R?R="UK":function(n){return E.includes(n)}(R)&&(R="EU"),n.includes(R))return R.toLowerCase()+"_"+t.REGION_SUFFIX};return{c:(E,n="",L="",_=!1)=>{const U=R(n);if(!U)return E;const r=t.URL_REGION_KEY+U;let I="";return""!==L&&(I=_?t.URL_PERMALINK_KEY+L:t.URL_PERMALINK_KEY+location.origin+L),E+r+I}}}));

SML.dm("kRpPw7movd",[],(async()=>{var N,E;return function(N){N[N.CONSENT_STATUS_UNKNOWN=0]="CONSENT_STATUS_UNKNOWN",N[N.REVOKED=1]="REVOKED",N[N.GRANTED=2]="GRANTED",N[N.UNRECOGNIZED=-1]="UNRECOGNIZED"}(N||(N={})),function(N){N[N.SCOPE_UNKNOWN=0]="SCOPE_UNKNOWN",N[N.SUBMIT_POST=1]="SUBMIT_POST",N[N.SUBMIT_COMMENT=2]="SUBMIT_COMMENT",N[N.SUBSCRIBE_TO_SUBREDDIT=3]="SUBSCRIBE_TO_SUBREDDIT",N[N.UNRECOGNIZED=-1]="UNRECOGNIZED"}(E||(E={})),{get C(){return N}}}));

SML.di("./Dw4vb8Yfbm.js",import.meta.url,"Dw4vb8Yfbm");SML.di("./5r73EsgItq.js",import.meta.url,"5r73EsgItq");SML.di("./DCbB57ubLb.js",import.meta.url,"DCbB57ubLb");
SML.dm("zr4sr72Mpl",["Dw4vb8Yfbm","5r73EsgItq","DCbB57ubLb"],(async(sm26581800001,sm265818000hy,sm265818000hz)=>{var minimalExports={},minimal$1={get exports(){return minimalExports},set exports(e){minimalExports=e}},indexMinimal={},minimal={},aspromise=asPromise;function asPromise(e,t){for(var o=new Array(arguments.length-1),r=0,n=2,a=!0;n<arguments.length;)o[r++]=arguments[n++];return new Promise((function(n,i){o[r]=function(e){if(a)if(a=!1,e)i(e);else{for(var t=new Array(arguments.length-1),o=0;o<t.length;)t[o++]=arguments[o];n.apply(null,t)}};try{e.apply(t||null,o)}catch(e){a&&(a=!1,i(e))}}))}var base64$1={};!function(e){var t=e;t.length=function(e){var t=e.length;if(!t)return 0;for(var o=0;--t%4>1&&"="===e.charAt(t);)++o;return Math.ceil(3*e.length)/4-o};for(var o=new Array(64),r=new Array(123),n=0;n<64;)r[o[n]=n<26?n+65:n<52?n+71:n<62?n-4:n-59|43]=n++;t.encode=function(e,t,r){for(var n,a=null,i=[],s=0,l=0;t<r;){var c=e[t++];switch(l){case 0:i[s++]=o[c>>2],n=(3&c)<<4,l=1;break;case 1:i[s++]=o[n|c>>4],n=(15&c)<<2,l=2;break;case 2:i[s++]=o[n|c>>6],i[s++]=o[63&c],l=0}s>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,i)),s=0)}return l&&(i[s++]=o[n],i[s++]=61,1===l&&(i[s++]=61)),a?(s&&a.push(String.fromCharCode.apply(String,i.slice(0,s))),a.join("")):String.fromCharCode.apply(String,i.slice(0,s))};var a="invalid encoding";t.decode=function(e,t,o){for(var n,i=o,s=0,l=0;l<e.length;){var c=e.charCodeAt(l++);if(61===c&&s>1)break;if(void 0===(c=r[c]))throw Error(a);switch(s){case 0:n=c,s=1;break;case 1:t[o++]=n<<2|(48&c)>>4,n=c,s=2;break;case 2:t[o++]=(15&n)<<4|(60&c)>>2,n=c,s=3;break;case 3:t[o++]=(3&n)<<6|c,s=0}}if(1===s)throw Error(a);return o-i},t.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}}(base64$1);var eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function(e,t,o){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:o||this}),this},EventEmitter.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var o=this._listeners[e],r=0;r<o.length;)o[r].fn===t?o.splice(r,1):++r;return this},EventEmitter.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var o=[],r=1;r<arguments.length;)o.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,o)}return this};var float=factory(factory);function factory(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),o=new Uint8Array(t.buffer),r=128===o[3];function n(e,r,n){t[0]=e,r[n]=o[0],r[n+1]=o[1],r[n+2]=o[2],r[n+3]=o[3]}function a(e,r,n){t[0]=e,r[n]=o[3],r[n+1]=o[2],r[n+2]=o[1],r[n+3]=o[0]}function i(e,r){return o[0]=e[r],o[1]=e[r+1],o[2]=e[r+2],o[3]=e[r+3],t[0]}function s(e,r){return o[3]=e[r],o[2]=e[r+1],o[1]=e[r+2],o[0]=e[r+3],t[0]}e.writeFloatLE=r?n:a,e.writeFloatBE=r?a:n,e.readFloatLE=r?i:s,e.readFloatBE=r?s:i}():function(){function t(e,t,o,r){var n=t<0?1:0;if(n&&(t=-t),0===t)e(1/t>0?0:2147483648,o,r);else if(isNaN(t))e(2143289344,o,r);else if(t>34028234663852886e22)e((n<<31|2139095040)>>>0,o,r);else if(t<11754943508222875e-54)e((n<<31|Math.round(t/1401298464324817e-60))>>>0,o,r);else{var a=Math.floor(Math.log(t)/Math.LN2);e((n<<31|a+127<<23|8388607&Math.round(t*Math.pow(2,-a)*8388608))>>>0,o,r)}}function o(e,t,o){var r=e(t,o),n=2*(r>>31)+1,a=r>>>23&255,i=8388607&r;return 255===a?i?NaN:n*(1/0):0===a?1401298464324817e-60*n*i:n*Math.pow(2,a-150)*(i+8388608)}e.writeFloatLE=t.bind(null,writeUintLE),e.writeFloatBE=t.bind(null,writeUintBE),e.readFloatLE=o.bind(null,readUintLE),e.readFloatBE=o.bind(null,readUintBE)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),o=new Uint8Array(t.buffer),r=128===o[7];function n(e,r,n){t[0]=e,r[n]=o[0],r[n+1]=o[1],r[n+2]=o[2],r[n+3]=o[3],r[n+4]=o[4],r[n+5]=o[5],r[n+6]=o[6],r[n+7]=o[7]}function a(e,r,n){t[0]=e,r[n]=o[7],r[n+1]=o[6],r[n+2]=o[5],r[n+3]=o[4],r[n+4]=o[3],r[n+5]=o[2],r[n+6]=o[1],r[n+7]=o[0]}function i(e,r){return o[0]=e[r],o[1]=e[r+1],o[2]=e[r+2],o[3]=e[r+3],o[4]=e[r+4],o[5]=e[r+5],o[6]=e[r+6],o[7]=e[r+7],t[0]}function s(e,r){return o[7]=e[r],o[6]=e[r+1],o[5]=e[r+2],o[4]=e[r+3],o[3]=e[r+4],o[2]=e[r+5],o[1]=e[r+6],o[0]=e[r+7],t[0]}e.writeDoubleLE=r?n:a,e.writeDoubleBE=r?a:n,e.readDoubleLE=r?i:s,e.readDoubleBE=r?s:i}():function(){function t(e,t,o,r,n,a){var i=r<0?1:0;if(i&&(r=-r),0===r)e(0,n,a+t),e(1/r>0?0:2147483648,n,a+o);else if(isNaN(r))e(0,n,a+t),e(2146959360,n,a+o);else if(r>17976931348623157e292)e(0,n,a+t),e((i<<31|2146435072)>>>0,n,a+o);else{var s;if(r<22250738585072014e-324)e((s=r/5e-324)>>>0,n,a+t),e((i<<31|s/4294967296)>>>0,n,a+o);else{var l=Math.floor(Math.log(r)/Math.LN2);1024===l&&(l=1023),e(4503599627370496*(s=r*Math.pow(2,-l))>>>0,n,a+t),e((i<<31|l+1023<<20|1048576*s&1048575)>>>0,n,a+o)}}}function o(e,t,o,r,n){var a=e(r,n+t),i=e(r,n+o),s=2*(i>>31)+1,l=i>>>20&2047,c=4294967296*(1048575&i)+a;return 2047===l?c?NaN:s*(1/0):0===l?5e-324*s*c:s*Math.pow(2,l-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,writeUintLE,0,4),e.writeDoubleBE=t.bind(null,writeUintBE,4,0),e.readDoubleLE=o.bind(null,readUintLE,0,4),e.readDoubleBE=o.bind(null,readUintBE,4,0)}(),e}function writeUintLE(e,t,o){t[o]=255&e,t[o+1]=e>>>8&255,t[o+2]=e>>>16&255,t[o+3]=e>>>24}function writeUintBE(e,t,o){t[o]=e>>>24,t[o+1]=e>>>16&255,t[o+2]=e>>>8&255,t[o+3]=255&e}function readUintLE(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function readUintBE(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}var utf8$2={};!function(e){var t=e;t.length=function(e){for(var t=0,o=0,r=0;r<e.length;++r)(o=e.charCodeAt(r))<128?t+=1:o<2048?t+=2:55296==(64512&o)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},t.read=function(e,t,o){if(o-t<1)return"";for(var r,n=null,a=[],i=0;t<o;)(r=e[t++])<128?a[i++]=r:r>191&&r<224?a[i++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,a[i++]=55296+(r>>10),a[i++]=56320+(1023&r)):a[i++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],i>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,a)),i=0);return n?(i&&n.push(String.fromCharCode.apply(String,a.slice(0,i))),n.join("")):String.fromCharCode.apply(String,a.slice(0,i))},t.write=function(e,t,o){for(var r,n,a=o,i=0;i<e.length;++i)(r=e.charCodeAt(i))<128?t[o++]=r:r<2048?(t[o++]=r>>6|192,t[o++]=63&r|128):55296==(64512&r)&&56320==(64512&(n=e.charCodeAt(i+1)))?(r=65536+((1023&r)<<10)+(1023&n),++i,t[o++]=r>>18|240,t[o++]=r>>12&63|128,t[o++]=r>>6&63|128,t[o++]=63&r|128):(t[o++]=r>>12|224,t[o++]=r>>6&63|128,t[o++]=63&r|128);return o-a}}(utf8$2);var pool_1=pool,longbits,hasRequiredLongbits,hasRequiredMinimal;function pool(e,t,o){var r=o||8192,n=r>>>1,a=null,i=r;return function(o){if(o<1||o>n)return e(o);i+o>r&&(a=e(r),i=0);var s=t.call(a,i,i+=o);return 7&i&&(i=1+(7|i)),s}}function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=t;var e=requireMinimal();function t(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=t.zero=new t(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var r=t.zeroHash="\0\0\0\0\0\0\0\0";t.fromNumber=function(e){if(0===e)return o;var r=e<0;r&&(e=-e);var n=e>>>0,a=(e-n)/4294967296>>>0;return r&&(a=~a>>>0,n=~n>>>0,++n>4294967295&&(n=0,++a>4294967295&&(a=0))),new t(n,a)},t.from=function(r){if("number"==typeof r)return t.fromNumber(r);if(e.isString(r)){if(!e.Long)return t.fromNumber(parseInt(r,10));r=e.Long.fromString(r)}return r.low||r.high?new t(r.low>>>0,r.high>>>0):o},t.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,o=~this.hi>>>0;return t||(o=o+1>>>0),-(t+4294967296*o)}return this.lo+4294967296*this.hi},t.prototype.toLong=function(t){return e.Long?new e.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var n=String.prototype.charCodeAt;return t.fromHash=function(e){return e===r?o:new t((n.call(e,0)|n.call(e,1)<<8|n.call(e,2)<<16|n.call(e,3)<<24)>>>0,(n.call(e,4)|n.call(e,5)<<8|n.call(e,6)<<16|n.call(e,7)<<24)>>>0)},t.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},t.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},t.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},t.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,o=this.hi>>>24;return 0===o?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:o<128?9:10},longbits}function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(e){var t=e;function o(e,t,o){for(var r=Object.keys(t),n=0;n<r.length;++n)void 0!==e[r[n]]&&o||(e[r[n]]=t[r[n]]);return e}function r(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&o(this,r)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}t.asPromise=aspromise,t.base64=base64$1,t.EventEmitter=eventemitter,t.float=float,t.inquire=inquire_1,t.utf8=utf8$2,t.pool=pool_1,t.LongBits=requireLongbits(),t.isNode=Boolean(void 0!==sm265818000hz.m&&sm265818000hz.m&&sm265818000hz.m.process&&sm265818000hz.m.process.versions&&sm265818000hz.m.process.versions.node),t.global=t.isNode&&sm265818000hz.m||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||sm265818000hz.m,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.isString=function(e){return"string"==typeof e||e instanceof String},t.isObject=function(e){return e&&"object"==typeof e},t.isset=t.isSet=function(e,t){var o=e[t];return!(null==o||!e.hasOwnProperty(t))&&("object"!=typeof o||(Array.isArray(o)?o.length:Object.keys(o).length)>0)},t.Buffer=function(){try{var e=t.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(e){return"number"==typeof e?t.Buffer?t._Buffer_allocUnsafe(e):new t.Array(e):t.Buffer?t._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},t.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(e){return e?t.LongBits.from(e).toHash():t.LongBits.zeroHash},t.longFromHash=function(e,o){var r=t.LongBits.fromHash(e);return t.Long?t.Long.fromBits(r.lo,r.hi,o):r.toNumber(Boolean(o))},t.merge=o,t.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},t.newError=r,t.ProtocolError=r("ProtocolError"),t.oneOfGetter=function(e){for(var t={},o=0;o<e.length;++o)t[e[o]]=1;return function(){for(var e=Object.keys(this),o=e.length-1;o>-1;--o)if(1===t[e[o]]&&void 0!==this[e[o]]&&null!==this[e[o]])return e[o]}},t.oneOfSetter=function(e){return function(t){for(var o=0;o<e.length;++o)e[o]!==t&&delete this[e[o]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var e=t.Buffer;e?(t._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,o){return new e(t,o)},t._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):t._Buffer_from=t._Buffer_allocUnsafe=null}}(minimal)),minimal}var writer=Writer$1,util$4=requireMinimal(),BufferWriter$1,LongBits$1=util$4.LongBits,base64=util$4.base64,utf8$1=util$4.utf8;function Op(e,t,o){this.fn=e,this.len=t,this.next=void 0,this.val=o}function noop(){}function State(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$1=function(){return util$4.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};function writeByte(e,t,o){t[o]=255&e}function writeVarint32(e,t,o){for(;e>127;)t[o++]=127&e|128,e>>>=7;t[o]=e}function VarintOp(e,t){this.len=e,this.next=void 0,this.val=t}function writeVarint64(e,t,o){for(;e.hi;)t[o++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[o++]=127&e.lo|128,e.lo=e.lo>>>7;t[o++]=e.lo}function writeFixed32(e,t,o){t[o]=255&e,t[o+1]=e>>>8&255,t[o+2]=e>>>16&255,t[o+3]=e>>>24}Writer$1.create=create$1(),Writer$1.alloc=function(e){return new util$4.Array(e)},util$4.Array!==Array&&(Writer$1.alloc=util$4.pool(Writer$1.alloc,util$4.Array.prototype.subarray)),Writer$1.prototype._push=function(e,t,o){return this.tail=this.tail.next=new Op(e,t,o),this.len+=t,this},VarintOp.prototype=Object.create(Op.prototype),VarintOp.prototype.fn=writeVarint32,Writer$1.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new VarintOp((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},Writer$1.prototype.int32=function(e){return e<0?this._push(writeVarint64,10,LongBits$1.fromNumber(e)):this.uint32(e)},Writer$1.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},Writer$1.prototype.uint64=function(e){var t=LongBits$1.from(e);return this._push(writeVarint64,t.length(),t)},Writer$1.prototype.int64=Writer$1.prototype.uint64,Writer$1.prototype.sint64=function(e){var t=LongBits$1.from(e).zzEncode();return this._push(writeVarint64,t.length(),t)},Writer$1.prototype.bool=function(e){return this._push(writeByte,1,e?1:0)},Writer$1.prototype.fixed32=function(e){return this._push(writeFixed32,4,e>>>0)},Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32,Writer$1.prototype.fixed64=function(e){var t=LongBits$1.from(e);return this._push(writeFixed32,4,t.lo)._push(writeFixed32,4,t.hi)},Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64,Writer$1.prototype.float=function(e){return this._push(util$4.float.writeFloatLE,4,e)},Writer$1.prototype.double=function(e){return this._push(util$4.float.writeDoubleLE,8,e)};var writeBytes=util$4.Array.prototype.set?function(e,t,o){t.set(e,o)}:function(e,t,o){for(var r=0;r<e.length;++r)t[o+r]=e[r]};Writer$1.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(writeByte,1,0);if(util$4.isString(e)){var o=Writer$1.alloc(t=base64.length(e));base64.decode(e,o,0),e=o}return this.uint32(t)._push(writeBytes,t,e)},Writer$1.prototype.string=function(e){var t=utf8$1.length(e);return t?this.uint32(t)._push(utf8$1.write,t,e):this._push(writeByte,1,0)},Writer$1.prototype.fork=function(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this},Writer$1.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this},Writer$1.prototype.ldelim=function(){var e=this.head,t=this.tail,o=this.len;return this.reset().uint32(o),o&&(this.tail.next=e.next,this.tail=t,this.len+=o),this},Writer$1.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),o=0;e;)e.fn(e.val,t,o),o+=e.len,e=e.next;return t},Writer$1._configure=function(e){BufferWriter$1=e,Writer$1.create=create$1(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$3=requireMinimal();function BufferWriter(){Writer.call(this)}function writeStringBuffer(e,t,o){e.length<40?util$3.utf8.write(e,t,o):t.utf8Write?t.utf8Write(e,o):t.write(e,o)}BufferWriter._configure=function(){BufferWriter.alloc=util$3._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$3.Buffer&&util$3.Buffer.prototype instanceof Uint8Array&&"set"===util$3.Buffer.prototype.set.name?function(e,t,o){t.set(e,o)}:function(e,t,o){if(e.copy)e.copy(t,o,0,e.length);else for(var r=0;r<e.length;)t[o++]=e[r++]}},BufferWriter.prototype.bytes=function(e){util$3.isString(e)&&(e=util$3._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(BufferWriter.writeBytesBuffer,t,e),this},BufferWriter.prototype.string=function(e){var t=util$3.Buffer.byteLength(e);return this.uint32(t),t&&this._push(writeStringBuffer,t,e),this},BufferWriter._configure();var reader=Reader$1,util$2=requireMinimal(),BufferReader$1,LongBits=util$2.LongBits,utf8=util$2.utf8;function indexOutOfRange(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function Reader$1(e){this.buf=e,this.pos=0,this.len=e.length}var create_array="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Reader$1(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Reader$1(e);throw Error("illegal buffer")},create=function(){return util$2.Buffer?function(e){return(Reader$1.create=function(e){return util$2.Buffer.isBuffer(e)?new BufferReader$1(e):create_array(e)})(e)}:create_array},value;function readLongVarint(){var e=new LongBits(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw indexOutOfRange(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw indexOutOfRange(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function readFixed32_end(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.create=create(),Reader$1.prototype._slice=util$2.Array.prototype.subarray||util$2.Array.prototype.slice,Reader$1.prototype.uint32=(value=4294967295,function(){if(value=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return value;if(value=(value|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return value;if(value=(value|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return value;if(value=(value|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return value;if(value=(value|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return value;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return value}),Reader$1.prototype.int32=function(){return 0|this.uint32()},Reader$1.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)},Reader$1.prototype.bool=function(){return 0!==this.uint32()},Reader$1.prototype.fixed32=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)},Reader$1.prototype.sfixed32=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return 0|readFixed32_end(this.buf,this.pos+=4)},Reader$1.prototype.float=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var e=util$2.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},Reader$1.prototype.double=function(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var e=util$2.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},Reader$1.prototype.bytes=function(){var e=this.uint32(),t=this.pos,o=this.pos+e;if(o>this.len)throw indexOutOfRange(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,o);if(t===o){var r=util$2.Buffer;return r?r.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,o)},Reader$1.prototype.string=function(){var e=this.bytes();return utf8.read(e,0,e.length)},Reader$1.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw indexOutOfRange(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw indexOutOfRange(this)}while(128&this.buf[this.pos++]);return this},Reader$1.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},Reader$1._configure=function(e){BufferReader$1=e,Reader$1.create=create(),BufferReader$1._configure();var t=util$2.Long?"toLong":"toNumber";util$2.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[t](!1)},uint64:function(){return readLongVarint.call(this)[t](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[t](!1)},fixed64:function(){return readFixed64.call(this)[t](!0)},sfixed64:function(){return readFixed64.call(this)[t](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$1=requireMinimal();function BufferReader(e){Reader.call(this,e)}BufferReader._configure=function(){util$1.Buffer&&(BufferReader.prototype._slice=util$1.Buffer.prototype.slice)},BufferReader.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},BufferReader._configure();var rpc={},service=Service,util=requireMinimal(),exports;function Service(e,t,o){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");util.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(o)}(Service.prototype=Object.create(util.EventEmitter.prototype)).constructor=Service,Service.prototype.rpcCall=function e(t,o,r,n,a){if(!n)throw TypeError("request must be specified");var i=this;if(!a)return util.asPromise(e,i,t,o,r,n);if(i.rpcImpl)try{return i.rpcImpl(t,o[i.requestDelimited?"encodeDelimited":"encode"](n).finish(),(function(e,o){if(e)return i.emit("error",e,t),a(e);if(null!==o){if(!(o instanceof r))try{o=r[i.responseDelimited?"decodeDelimited":"decode"](o)}catch(e){return i.emit("error",e,t),a(e)}return i.emit("data",o,t),a(null,o)}i.end(!0)}))}catch(e){return i.emit("error",e,t),void setTimeout((function(){a(e)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},Service.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},exports=rpc,exports.Service=service;var roots={},module;!function(e){var t=e;function o(){t.util._configure(),t.Writer._configure(t.BufferWriter),t.Reader._configure(t.BufferReader)}t.build="minimal",t.Writer=writer,t.BufferWriter=writer_buffer,t.Reader=reader,t.BufferReader=reader_buffer,t.util=requireMinimal(),t.rpc=rpc,t.roots=roots,t.configure=o,o()}(indexMinimal),module=minimal$1,module.exports=indexMinimal;var _m0=sm265818000hz.ba(minimalExports),wasm=null;try{wasm=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function Long(e,t,o){this.low=0|e,this.high=0|t,this.unsigned=!!o}function isLong(e){return!0===(e&&e.__isLong__)}function ctz32(e){var t=Math.clz32(e&-e);return e?31-t:t}Long.prototype.__isLong__,Object.defineProperty(Long.prototype,"__isLong__",{value:!0}),Long.isLong=isLong;var INT_CACHE={},UINT_CACHE={};function fromInt(e,t){var o,r,n;return t?(n=0<=(e>>>=0)&&e<256)&&(r=UINT_CACHE[e])?r:(o=fromBits(e,0,!0),n&&(UINT_CACHE[e]=o),o):(n=-128<=(e|=0)&&e<128)&&(r=INT_CACHE[e])?r:(o=fromBits(e,e<0?-1:0,!1),n&&(INT_CACHE[e]=o),o)}function fromNumber(e,t){if(isNaN(e))return t?UZERO:ZERO;if(t){if(e<0)return UZERO;if(e>=TWO_PWR_64_DBL)return MAX_UNSIGNED_VALUE}else{if(e<=-0x8000000000000000)return MIN_VALUE;if(e+1>=TWO_PWR_63_DBL)return MAX_VALUE}return e<0?fromNumber(-e,t).neg():fromBits(e%TWO_PWR_32_DBL|0,e/TWO_PWR_32_DBL|0,t)}function fromBits(e,t,o){return new Long(e,t,o)}Long.fromInt=fromInt,Long.fromNumber=fromNumber,Long.fromBits=fromBits;var pow_dbl=Math.pow;function fromString(e,t,o){if(0===e.length)throw Error("empty string");if("number"==typeof t?(o=t,t=!1):t=!!t,"NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return t?UZERO:ZERO;if((o=o||10)<2||36<o)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return fromString(e.substring(1),t,o).neg();for(var n=fromNumber(pow_dbl(o,8)),a=ZERO,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),l=parseInt(e.substring(i,i+s),o);if(s<8){var c=fromNumber(pow_dbl(o,s));a=a.mul(c).add(fromNumber(l))}else a=(a=a.mul(n)).add(fromNumber(l))}return a.unsigned=t,a}function fromValue(e,t){return"number"==typeof e?fromNumber(e,t):"string"==typeof e?fromString(e,t):fromBits(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}Long.fromString=fromString,Long.fromValue=fromValue;var TWO_PWR_16_DBL=65536,TWO_PWR_24_DBL=1<<24,TWO_PWR_32_DBL=TWO_PWR_16_DBL*TWO_PWR_16_DBL,TWO_PWR_64_DBL=TWO_PWR_32_DBL*TWO_PWR_32_DBL,TWO_PWR_63_DBL=TWO_PWR_64_DBL/2,TWO_PWR_24=fromInt(TWO_PWR_24_DBL),ZERO=fromInt(0);Long.ZERO=ZERO;var UZERO=fromInt(0,!0);Long.UZERO=UZERO;var ONE=fromInt(1);Long.ONE=ONE;var UONE=fromInt(1,!0);Long.UONE=UONE;var NEG_ONE=fromInt(-1);Long.NEG_ONE=NEG_ONE;var MAX_VALUE=fromBits(-1,2147483647,!1);Long.MAX_VALUE=MAX_VALUE;var MAX_UNSIGNED_VALUE=fromBits(-1,-1,!0);Long.MAX_UNSIGNED_VALUE=MAX_UNSIGNED_VALUE;var MIN_VALUE=fromBits(0,-2147483648,!1);Long.MIN_VALUE=MIN_VALUE;var LongPrototype=Long.prototype;LongPrototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},LongPrototype.toNumber=function(){return this.unsigned?(this.high>>>0)*TWO_PWR_32_DBL+(this.low>>>0):this.high*TWO_PWR_32_DBL+(this.low>>>0)},LongPrototype.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(MIN_VALUE)){var t=fromNumber(e),o=this.div(t),r=o.mul(t).sub(this);return o.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var n=fromNumber(pow_dbl(e,6),this.unsigned),a=this,i="";;){var s=a.div(n),l=(a.sub(s.mul(n)).toInt()>>>0).toString(e);if((a=s).isZero())return l+i;for(;l.length<6;)l="0"+l;i=""+l+i}},LongPrototype.getHighBits=function(){return this.high},LongPrototype.getHighBitsUnsigned=function(){return this.high>>>0},LongPrototype.getLowBits=function(){return this.low},LongPrototype.getLowBitsUnsigned=function(){return this.low>>>0},LongPrototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(MIN_VALUE)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&!(e&1<<t);t--);return 0!=this.high?t+33:t+1},LongPrototype.isZero=function(){return 0===this.high&&0===this.low},LongPrototype.eqz=LongPrototype.isZero,LongPrototype.isNegative=function(){return!this.unsigned&&this.high<0},LongPrototype.isPositive=function(){return this.unsigned||this.high>=0},LongPrototype.isOdd=function(){return!(1&~this.low)},LongPrototype.isEven=function(){return!(1&this.low)},LongPrototype.equals=function(e){return isLong(e)||(e=fromValue(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},LongPrototype.eq=LongPrototype.equals,LongPrototype.notEquals=function(e){return!this.eq(e)},LongPrototype.neq=LongPrototype.notEquals,LongPrototype.ne=LongPrototype.notEquals,LongPrototype.lessThan=function(e){return this.comp(e)<0},LongPrototype.lt=LongPrototype.lessThan,LongPrototype.lessThanOrEqual=function(e){return this.comp(e)<=0},LongPrototype.lte=LongPrototype.lessThanOrEqual,LongPrototype.le=LongPrototype.lessThanOrEqual,LongPrototype.greaterThan=function(e){return this.comp(e)>0},LongPrototype.gt=LongPrototype.greaterThan,LongPrototype.greaterThanOrEqual=function(e){return this.comp(e)>=0},LongPrototype.gte=LongPrototype.greaterThanOrEqual,LongPrototype.ge=LongPrototype.greaterThanOrEqual,LongPrototype.compare=function(e){if(isLong(e)||(e=fromValue(e)),this.eq(e))return 0;var t=this.isNegative(),o=e.isNegative();return t&&!o?-1:!t&&o?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},LongPrototype.comp=LongPrototype.compare,LongPrototype.negate=function(){return!this.unsigned&&this.eq(MIN_VALUE)?MIN_VALUE:this.not().add(ONE)},LongPrototype.neg=LongPrototype.negate,LongPrototype.add=function(e){isLong(e)||(e=fromValue(e));var t=this.high>>>16,o=65535&this.high,r=this.low>>>16,n=65535&this.low,a=e.high>>>16,i=65535&e.high,s=e.low>>>16,l=0,c=0,d=0,u=0;return d+=(u+=n+(65535&e.low))>>>16,c+=(d+=r+s)>>>16,l+=(c+=o+i)>>>16,l+=t+a,fromBits((d&=65535)<<16|(u&=65535),(l&=65535)<<16|(c&=65535),this.unsigned)},LongPrototype.subtract=function(e){return isLong(e)||(e=fromValue(e)),this.add(e.neg())},LongPrototype.sub=LongPrototype.subtract,LongPrototype.multiply=function(e){if(this.isZero())return this;if(isLong(e)||(e=fromValue(e)),wasm)return fromBits(wasm.mul(this.low,this.high,e.low,e.high),wasm.get_high(),this.unsigned);if(e.isZero())return this.unsigned?UZERO:ZERO;if(this.eq(MIN_VALUE))return e.isOdd()?MIN_VALUE:ZERO;if(e.eq(MIN_VALUE))return this.isOdd()?MIN_VALUE:ZERO;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(TWO_PWR_24)&&e.lt(TWO_PWR_24))return fromNumber(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,o=65535&this.high,r=this.low>>>16,n=65535&this.low,a=e.high>>>16,i=65535&e.high,s=e.low>>>16,l=65535&e.low,c=0,d=0,u=0,b=0;return u+=(b+=n*l)>>>16,d+=(u+=r*l)>>>16,u&=65535,d+=(u+=n*s)>>>16,c+=(d+=o*l)>>>16,d&=65535,c+=(d+=r*s)>>>16,d&=65535,c+=(d+=n*i)>>>16,c+=t*l+o*s+r*i+n*a,fromBits((u&=65535)<<16|(b&=65535),(c&=65535)<<16|(d&=65535),this.unsigned)},LongPrototype.mul=LongPrototype.multiply,LongPrototype.divide=function(e){if(isLong(e)||(e=fromValue(e)),e.isZero())throw Error("division by zero");var t,o,r;if(wasm)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?fromBits((this.unsigned?wasm.div_u:wasm.div_s)(this.low,this.high,e.low,e.high),wasm.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?UZERO:ZERO;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return UZERO;if(e.gt(this.shru(1)))return UONE;r=UZERO}else{if(this.eq(MIN_VALUE))return e.eq(ONE)||e.eq(NEG_ONE)?MIN_VALUE:e.eq(MIN_VALUE)?ONE:(t=this.shr(1).div(e).shl(1)).eq(ZERO)?e.isNegative()?ONE:NEG_ONE:(o=this.sub(e.mul(t)),r=t.add(o.div(e)));if(e.eq(MIN_VALUE))return this.unsigned?UZERO:ZERO;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();r=ZERO}for(o=this;o.gte(e);){t=Math.max(1,Math.floor(o.toNumber()/e.toNumber()));for(var n=Math.ceil(Math.log(t)/Math.LN2),a=n<=48?1:pow_dbl(2,n-48),i=fromNumber(t),s=i.mul(e);s.isNegative()||s.gt(o);)s=(i=fromNumber(t-=a,this.unsigned)).mul(e);i.isZero()&&(i=ONE),r=r.add(i),o=o.sub(s)}return r},LongPrototype.div=LongPrototype.divide,LongPrototype.modulo=function(e){return isLong(e)||(e=fromValue(e)),wasm?fromBits((this.unsigned?wasm.rem_u:wasm.rem_s)(this.low,this.high,e.low,e.high),wasm.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},LongPrototype.mod=LongPrototype.modulo,LongPrototype.rem=LongPrototype.modulo,LongPrototype.not=function(){return fromBits(~this.low,~this.high,this.unsigned)},LongPrototype.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},LongPrototype.clz=LongPrototype.countLeadingZeros,LongPrototype.countTrailingZeros=function(){return this.low?ctz32(this.low):ctz32(this.high)+32},LongPrototype.ctz=LongPrototype.countTrailingZeros,LongPrototype.and=function(e){return isLong(e)||(e=fromValue(e)),fromBits(this.low&e.low,this.high&e.high,this.unsigned)},LongPrototype.or=function(e){return isLong(e)||(e=fromValue(e)),fromBits(this.low|e.low,this.high|e.high,this.unsigned)},LongPrototype.xor=function(e){return isLong(e)||(e=fromValue(e)),fromBits(this.low^e.low,this.high^e.high,this.unsigned)},LongPrototype.shiftLeft=function(e){return isLong(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?fromBits(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):fromBits(0,this.low<<e-32,this.unsigned)},LongPrototype.shl=LongPrototype.shiftLeft,LongPrototype.shiftRight=function(e){return isLong(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?fromBits(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):fromBits(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},LongPrototype.shr=LongPrototype.shiftRight,LongPrototype.shiftRightUnsigned=function(e){return isLong(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?fromBits(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):fromBits(32===e?this.high:this.high>>>e-32,0,this.unsigned)},LongPrototype.shru=LongPrototype.shiftRightUnsigned,LongPrototype.shr_u=LongPrototype.shiftRightUnsigned,LongPrototype.rotateLeft=function(e){var t;return isLong(e)&&(e=e.toInt()),0==(e&=63)?this:32===e?fromBits(this.high,this.low,this.unsigned):e<32?(t=32-e,fromBits(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned)):(t=32-(e-=32),fromBits(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned))},LongPrototype.rotl=LongPrototype.rotateLeft,LongPrototype.rotateRight=function(e){var t;return isLong(e)&&(e=e.toInt()),0==(e&=63)?this:32===e?fromBits(this.high,this.low,this.unsigned):e<32?(t=32-e,fromBits(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned)):(t=32-(e-=32),fromBits(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned))},LongPrototype.rotr=LongPrototype.rotateRight,LongPrototype.toSigned=function(){return this.unsigned?fromBits(this.low,this.high,!1):this},LongPrototype.toUnsigned=function(){return this.unsigned?this:fromBits(this.low,this.high,!0)},LongPrototype.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},LongPrototype.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},LongPrototype.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},Long.fromBytes=function(e,t,o){return o?Long.fromBytesLE(e,t):Long.fromBytesBE(e,t)},Long.fromBytesLE=function(e,t){return new Long(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},Long.fromBytesBE=function(e,t){return new Long(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)};const messageTypeRegistry=new Map;function createBaseTimestamp(){return{seconds:0,nanos:0}}const Timestamp={$type:"google.protobuf.Timestamp",encode:(e,t=_m0.Writer.create())=>(0!==e.seconds&&t.uint32(8).int64(e.seconds),0!==e.nanos&&t.uint32(16).int32(e.nanos),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseTimestamp();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(8!==e)break;n.seconds=longToNumber$2(o.int64());continue;case 2:if(16!==e)break;n.nanos=o.int32();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({seconds:isSet$u(e.seconds)?globalThis.Number(e.seconds):0,nanos:isSet$u(e.nanos)?globalThis.Number(e.nanos):0}),toJSON(e){const t={};return 0!==e.seconds&&(t.seconds=Math.round(e.seconds)),0!==e.nanos&&(t.nanos=Math.round(e.nanos)),t},create:e=>Timestamp.fromPartial(e??{}),fromPartial(e){const t=createBaseTimestamp();return t.seconds=e.seconds??0,t.nanos=e.nanos??0,t}};function longToNumber$2(e){if(e.gt(globalThis.Number.MAX_SAFE_INTEGER))throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}function isSet$u(e){return null!=e}function createBaseDoubleValue(){return{value:0}}messageTypeRegistry.set(Timestamp.$type,Timestamp),_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());const DoubleValue={$type:"google.protobuf.DoubleValue",encode:(e,t=_m0.Writer.create())=>(0!==e.value&&t.uint32(9).double(e.value),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseDoubleValue();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(9!==e)break;n.value=o.double();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({value:isSet$t(e.value)?globalThis.Number(e.value):0}),toJSON(e){const t={};return 0!==e.value&&(t.value=e.value),t},create:e=>DoubleValue.fromPartial(e??{}),fromPartial(e){const t=createBaseDoubleValue();return t.value=e.value??0,t}};function createBaseFloatValue(){return{value:0}}messageTypeRegistry.set(DoubleValue.$type,DoubleValue);const FloatValue={$type:"google.protobuf.FloatValue",encode:(e,t=_m0.Writer.create())=>(0!==e.value&&t.uint32(13).float(e.value),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseFloatValue();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(13!==e)break;n.value=o.float();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({value:isSet$t(e.value)?globalThis.Number(e.value):0}),toJSON(e){const t={};return 0!==e.value&&(t.value=e.value),t},create:e=>FloatValue.fromPartial(e??{}),fromPartial(e){const t=createBaseFloatValue();return t.value=e.value??0,t}};function createBaseInt64Value(){return{value:0}}messageTypeRegistry.set(FloatValue.$type,FloatValue);const Int64Value={$type:"google.protobuf.Int64Value",encode:(e,t=_m0.Writer.create())=>(0!==e.value&&t.uint32(8).int64(e.value),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseInt64Value();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(8!==e)break;n.value=longToNumber$1(o.int64());continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({value:isSet$t(e.value)?globalThis.Number(e.value):0}),toJSON(e){const t={};return 0!==e.value&&(t.value=Math.round(e.value)),t},create:e=>Int64Value.fromPartial(e??{}),fromPartial(e){const t=createBaseInt64Value();return t.value=e.value??0,t}};function createBaseUInt64Value(){return{value:0}}messageTypeRegistry.set(Int64Value.$type,Int64Value);const UInt64Value={$type:"google.protobuf.UInt64Value",encode:(e,t=_m0.Writer.create())=>(0!==e.value&&t.uint32(8).uint64(e.value),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseUInt64Value();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(8!==e)break;n.value=longToNumber$1(o.uint64());continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({value:isSet$t(e.value)?globalThis.Number(e.value):0}),toJSON(e){const t={};return 0!==e.value&&(t.value=Math.round(e.value)),t},create:e=>UInt64Value.fromPartial(e??{}),fromPartial(e){const t=createBaseUInt64Value();return t.value=e.value??0,t}};function createBaseInt32Value(){return{value:0}}messageTypeRegistry.set(UInt64Value.$type,UInt64Value);const Int32Value={$type:"google.protobuf.Int32Value",encode:(e,t=_m0.Writer.create())=>(0!==e.value&&t.uint32(8).int32(e.value),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseInt32Value();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(8!==e)break;n.value=o.int32();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({value:isSet$t(e.value)?globalThis.Number(e.value):0}),toJSON(e){const t={};return 0!==e.value&&(t.value=Math.round(e.value)),t},create:e=>Int32Value.fromPartial(e??{}),fromPartial(e){const t=createBaseInt32Value();return t.value=e.value??0,t}};function createBaseUInt32Value(){return{value:0}}messageTypeRegistry.set(Int32Value.$type,Int32Value);const UInt32Value={$type:"google.protobuf.UInt32Value",encode:(e,t=_m0.Writer.create())=>(0!==e.value&&t.uint32(8).uint32(e.value),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseUInt32Value();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(8!==e)break;n.value=o.uint32();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({value:isSet$t(e.value)?globalThis.Number(e.value):0}),toJSON(e){const t={};return 0!==e.value&&(t.value=Math.round(e.value)),t},create:e=>UInt32Value.fromPartial(e??{}),fromPartial(e){const t=createBaseUInt32Value();return t.value=e.value??0,t}};function createBaseBoolValue(){return{value:!1}}messageTypeRegistry.set(UInt32Value.$type,UInt32Value);const BoolValue={$type:"google.protobuf.BoolValue",encode:(e,t=_m0.Writer.create())=>(!1!==e.value&&t.uint32(8).bool(e.value),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseBoolValue();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(8!==e)break;n.value=o.bool();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({value:!!isSet$t(e.value)&&globalThis.Boolean(e.value)}),toJSON(e){const t={};return!1!==e.value&&(t.value=e.value),t},create:e=>BoolValue.fromPartial(e??{}),fromPartial(e){const t=createBaseBoolValue();return t.value=e.value??!1,t}};function createBaseStringValue(){return{value:""}}messageTypeRegistry.set(BoolValue.$type,BoolValue);const StringValue={$type:"google.protobuf.StringValue",encode:(e,t=_m0.Writer.create())=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseStringValue();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.value=o.string();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({value:isSet$t(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>StringValue.fromPartial(e??{}),fromPartial(e){const t=createBaseStringValue();return t.value=e.value??"",t}};function createBaseBytesValue(){return{value:new Uint8Array(0)}}messageTypeRegistry.set(StringValue.$type,StringValue);const BytesValue={$type:"google.protobuf.BytesValue",encode:(e,t=_m0.Writer.create())=>(0!==e.value.length&&t.uint32(10).bytes(e.value),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseBytesValue();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.value=o.bytes();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({value:isSet$t(e.value)?bytesFromBase64(e.value):new Uint8Array(0)}),toJSON(e){const t={};return 0!==e.value.length&&(t.value=base64FromBytes(e.value)),t},create:e=>BytesValue.fromPartial(e??{}),fromPartial(e){const t=createBaseBytesValue();return t.value=e.value??new Uint8Array(0),t}};function bytesFromBase64(e){if(globalThis.Buffer)return Uint8Array.from(globalThis.Buffer.from(e,"base64"));{const t=globalThis.atob(e),o=new Uint8Array(t.length);for(let e=0;e<t.length;++e)o[e]=t.charCodeAt(e);return o}}function base64FromBytes(e){if(globalThis.Buffer)return globalThis.Buffer.from(e).toString("base64");{const t=[];return e.forEach((e=>{t.push(globalThis.String.fromCharCode(e))})),globalThis.btoa(t.join(""))}}function longToNumber$1(e){if(e.gt(globalThis.Number.MAX_SAFE_INTEGER))throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}function isSet$t(e){return null!=e}var ConsentStatus,Scope;function consentStatusFromJSON(e){switch(e){case 0:case"CONSENT_STATUS_UNKNOWN":return ConsentStatus.CONSENT_STATUS_UNKNOWN;case 1:case"REVOKED":return ConsentStatus.REVOKED;case 2:case"GRANTED":return ConsentStatus.GRANTED;default:return ConsentStatus.UNRECOGNIZED}}function consentStatusToJSON(e){switch(e){case ConsentStatus.CONSENT_STATUS_UNKNOWN:return 0;case ConsentStatus.REVOKED:return 1;case ConsentStatus.GRANTED:return 2;case ConsentStatus.UNRECOGNIZED:default:return-1}}function scopeFromJSON(e){switch(e){case 0:case"SCOPE_UNKNOWN":return Scope.SCOPE_UNKNOWN;case 1:case"SUBMIT_POST":return Scope.SUBMIT_POST;case 2:case"SUBMIT_COMMENT":return Scope.SUBMIT_COMMENT;case 3:case"SUBSCRIBE_TO_SUBREDDIT":return Scope.SUBSCRIBE_TO_SUBREDDIT;default:return Scope.UNRECOGNIZED}}function scopeToJSON(e){switch(e){case Scope.SCOPE_UNKNOWN:return 0;case Scope.SUBMIT_POST:return 1;case Scope.SUBMIT_COMMENT:return 2;case Scope.SUBSCRIBE_TO_SUBREDDIT:return 3;case Scope.UNRECOGNIZED:default:return-1}}function createBaseAppPermission(){return{appSlug:"",subredditId:"",scopes:[],consentStatus:0,updatedAt:void 0}}messageTypeRegistry.set(BytesValue.$type,BytesValue),_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure()),function(e){e[e.CONSENT_STATUS_UNKNOWN=0]="CONSENT_STATUS_UNKNOWN",e[e.REVOKED=1]="REVOKED",e[e.GRANTED=2]="GRANTED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(ConsentStatus||(ConsentStatus={})),function(e){e[e.SCOPE_UNKNOWN=0]="SCOPE_UNKNOWN",e[e.SUBMIT_POST=1]="SUBMIT_POST",e[e.SUBMIT_COMMENT=2]="SUBMIT_COMMENT",e[e.SUBSCRIBE_TO_SUBREDDIT=3]="SUBSCRIBE_TO_SUBREDDIT",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Scope||(Scope={}));const AppPermission={$type:"reddit.devvit.app_permission.v1.AppPermission",encode(e,t=_m0.Writer.create()){""!==e.appSlug&&t.uint32(10).string(e.appSlug),""!==e.subredditId&&t.uint32(18).string(e.subredditId),t.uint32(26).fork();for(const o of e.scopes)t.int32(o);return t.ldelim(),0!==e.consentStatus&&t.uint32(32).int32(e.consentStatus),void 0!==e.updatedAt&&Timestamp.encode(toTimestamp(e.updatedAt),t.uint32(42).fork()).ldelim(),t},decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseAppPermission();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.appSlug=o.string();continue;case 2:if(18!==e)break;n.subredditId=o.string();continue;case 3:if(24===e){n.scopes.push(o.int32());continue}if(26===e){const e=o.uint32()+o.pos;for(;o.pos<e;)n.scopes.push(o.int32());continue}break;case 4:if(32!==e)break;n.consentStatus=o.int32();continue;case 5:if(42!==e)break;n.updatedAt=fromTimestamp(Timestamp.decode(o,o.uint32()));continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({appSlug:isSet$s(e.appSlug)?globalThis.String(e.appSlug):"",subredditId:isSet$s(e.subredditId)?globalThis.String(e.subredditId):"",scopes:globalThis.Array.isArray(e?.scopes)?e.scopes.map((e=>scopeFromJSON(e))):[],consentStatus:isSet$s(e.consentStatus)?consentStatusFromJSON(e.consentStatus):0,updatedAt:isSet$s(e.updatedAt)?fromJsonTimestamp(e.updatedAt):void 0}),toJSON(e){const t={};return""!==e.appSlug&&(t.appSlug=e.appSlug),""!==e.subredditId&&(t.subredditId=e.subredditId),e.scopes?.length&&(t.scopes=e.scopes.map((e=>scopeToJSON(e)))),0!==e.consentStatus&&(t.consentStatus=consentStatusToJSON(e.consentStatus)),void 0!==e.updatedAt&&(t.updatedAt=e.updatedAt.toISOString()),t},create:e=>AppPermission.fromPartial(e??{}),fromPartial(e){const t=createBaseAppPermission();return t.appSlug=e.appSlug??"",t.subredditId=e.subredditId??"",t.scopes=e.scopes?.map((e=>e))||[],t.consentStatus=e.consentStatus??0,t.updatedAt=e.updatedAt??void 0,t}};function createBaseDevvitApp(){return{appSlug:"",appName:""}}messageTypeRegistry.set(AppPermission.$type,AppPermission);const DevvitApp={$type:"reddit.devvit.app_permission.v1.DevvitApp",encode:(e,t=_m0.Writer.create())=>(""!==e.appSlug&&t.uint32(10).string(e.appSlug),""!==e.appName&&t.uint32(18).string(e.appName),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseDevvitApp();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.appSlug=o.string();continue;case 2:if(18!==e)break;n.appName=o.string();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({appSlug:isSet$s(e.appSlug)?globalThis.String(e.appSlug):"",appName:isSet$s(e.appName)?globalThis.String(e.appName):""}),toJSON(e){const t={};return""!==e.appSlug&&(t.appSlug=e.appSlug),""!==e.appName&&(t.appName=e.appName),t},create:e=>DevvitApp.fromPartial(e??{}),fromPartial(e){const t=createBaseDevvitApp();return t.appSlug=e.appSlug??"",t.appName=e.appName??"",t}};function createBaseGetAppPermissionsByUserIdRequest(){return{userId:""}}messageTypeRegistry.set(DevvitApp.$type,DevvitApp);const GetAppPermissionsByUserIdRequest={$type:"reddit.devvit.app_permission.v1.GetAppPermissionsByUserIdRequest",encode:(e,t=_m0.Writer.create())=>(""!==e.userId&&t.uint32(10).string(e.userId),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseGetAppPermissionsByUserIdRequest();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.userId=o.string();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({userId:isSet$s(e.userId)?globalThis.String(e.userId):""}),toJSON(e){const t={};return""!==e.userId&&(t.userId=e.userId),t},create:e=>GetAppPermissionsByUserIdRequest.fromPartial(e??{}),fromPartial(e){const t=createBaseGetAppPermissionsByUserIdRequest();return t.userId=e.userId??"",t}};function createBaseGetAppPermissionsByUserIdResponse(){return{appPermissions:[],devvitApps:[]}}messageTypeRegistry.set(GetAppPermissionsByUserIdRequest.$type,GetAppPermissionsByUserIdRequest);const GetAppPermissionsByUserIdResponse={$type:"reddit.devvit.app_permission.v1.GetAppPermissionsByUserIdResponse",encode(e,t=_m0.Writer.create()){for(const o of e.appPermissions)AppPermission.encode(o,t.uint32(10).fork()).ldelim();for(const o of e.devvitApps)DevvitApp.encode(o,t.uint32(18).fork()).ldelim();return t},decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseGetAppPermissionsByUserIdResponse();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.appPermissions.push(AppPermission.decode(o,o.uint32()));continue;case 2:if(18!==e)break;n.devvitApps.push(DevvitApp.decode(o,o.uint32()));continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({appPermissions:globalThis.Array.isArray(e?.appPermissions)?e.appPermissions.map((e=>AppPermission.fromJSON(e))):[],devvitApps:globalThis.Array.isArray(e?.devvitApps)?e.devvitApps.map((e=>DevvitApp.fromJSON(e))):[]}),toJSON(e){const t={};return e.appPermissions?.length&&(t.appPermissions=e.appPermissions.map((e=>AppPermission.toJSON(e)))),e.devvitApps?.length&&(t.devvitApps=e.devvitApps.map((e=>DevvitApp.toJSON(e)))),t},create:e=>GetAppPermissionsByUserIdResponse.fromPartial(e??{}),fromPartial(e){const t=createBaseGetAppPermissionsByUserIdResponse();return t.appPermissions=e.appPermissions?.map((e=>AppPermission.fromPartial(e)))||[],t.devvitApps=e.devvitApps?.map((e=>DevvitApp.fromPartial(e)))||[],t}};function createBaseGrantAppPermissionRequest(){return{userId:"",appSlug:"",subredditId:"",scopes:[]}}messageTypeRegistry.set(GetAppPermissionsByUserIdResponse.$type,GetAppPermissionsByUserIdResponse);const GrantAppPermissionRequest={$type:"reddit.devvit.app_permission.v1.GrantAppPermissionRequest",encode(e,t=_m0.Writer.create()){""!==e.userId&&t.uint32(10).string(e.userId),""!==e.appSlug&&t.uint32(18).string(e.appSlug),""!==e.subredditId&&t.uint32(26).string(e.subredditId),t.uint32(34).fork();for(const o of e.scopes)t.int32(o);return t.ldelim(),t},decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseGrantAppPermissionRequest();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.userId=o.string();continue;case 2:if(18!==e)break;n.appSlug=o.string();continue;case 3:if(26!==e)break;n.subredditId=o.string();continue;case 4:if(32===e){n.scopes.push(o.int32());continue}if(34===e){const e=o.uint32()+o.pos;for(;o.pos<e;)n.scopes.push(o.int32());continue}}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({userId:isSet$s(e.userId)?globalThis.String(e.userId):"",appSlug:isSet$s(e.appSlug)?globalThis.String(e.appSlug):"",subredditId:isSet$s(e.subredditId)?globalThis.String(e.subredditId):"",scopes:globalThis.Array.isArray(e?.scopes)?e.scopes.map((e=>scopeFromJSON(e))):[]}),toJSON(e){const t={};return""!==e.userId&&(t.userId=e.userId),""!==e.appSlug&&(t.appSlug=e.appSlug),""!==e.subredditId&&(t.subredditId=e.subredditId),e.scopes?.length&&(t.scopes=e.scopes.map((e=>scopeToJSON(e)))),t},create:e=>GrantAppPermissionRequest.fromPartial(e??{}),fromPartial(e){const t=createBaseGrantAppPermissionRequest();return t.userId=e.userId??"",t.appSlug=e.appSlug??"",t.subredditId=e.subredditId??"",t.scopes=e.scopes?.map((e=>e))||[],t}};function createBaseGrantAppPermissionResponse(){return{error:void 0}}messageTypeRegistry.set(GrantAppPermissionRequest.$type,GrantAppPermissionRequest);const GrantAppPermissionResponse={$type:"reddit.devvit.app_permission.v1.GrantAppPermissionResponse",encode:(e,t=_m0.Writer.create())=>(void 0!==e.error&&ErrorMessage.encode(e.error,t.uint32(10).fork()).ldelim(),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseGrantAppPermissionResponse();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.error=ErrorMessage.decode(o,o.uint32());continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({error:isSet$s(e.error)?ErrorMessage.fromJSON(e.error):void 0}),toJSON(e){const t={};return void 0!==e.error&&(t.error=ErrorMessage.toJSON(e.error)),t},create:e=>GrantAppPermissionResponse.fromPartial(e??{}),fromPartial(e){const t=createBaseGrantAppPermissionResponse();return t.error=void 0!==e.error&&null!==e.error?ErrorMessage.fromPartial(e.error):void 0,t}};function createBaseRevokeAppPermissionRequest(){return{appSlug:"",userId:"",subredditId:""}}messageTypeRegistry.set(GrantAppPermissionResponse.$type,GrantAppPermissionResponse);const RevokeAppPermissionRequest={$type:"reddit.devvit.app_permission.v1.RevokeAppPermissionRequest",encode:(e,t=_m0.Writer.create())=>(""!==e.appSlug&&t.uint32(10).string(e.appSlug),""!==e.userId&&t.uint32(18).string(e.userId),""!==e.subredditId&&t.uint32(26).string(e.subredditId),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseRevokeAppPermissionRequest();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.appSlug=o.string();continue;case 2:if(18!==e)break;n.userId=o.string();continue;case 3:if(26!==e)break;n.subredditId=o.string();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({appSlug:isSet$s(e.appSlug)?globalThis.String(e.appSlug):"",userId:isSet$s(e.userId)?globalThis.String(e.userId):"",subredditId:isSet$s(e.subredditId)?globalThis.String(e.subredditId):""}),toJSON(e){const t={};return""!==e.appSlug&&(t.appSlug=e.appSlug),""!==e.userId&&(t.userId=e.userId),""!==e.subredditId&&(t.subredditId=e.subredditId),t},create:e=>RevokeAppPermissionRequest.fromPartial(e??{}),fromPartial(e){const t=createBaseRevokeAppPermissionRequest();return t.appSlug=e.appSlug??"",t.userId=e.userId??"",t.subredditId=e.subredditId??"",t}};function createBaseRevokeAppPermissionResponse(){return{error:void 0}}messageTypeRegistry.set(RevokeAppPermissionRequest.$type,RevokeAppPermissionRequest);const RevokeAppPermissionResponse={$type:"reddit.devvit.app_permission.v1.RevokeAppPermissionResponse",encode:(e,t=_m0.Writer.create())=>(void 0!==e.error&&ErrorMessage.encode(e.error,t.uint32(10).fork()).ldelim(),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseRevokeAppPermissionResponse();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.error=ErrorMessage.decode(o,o.uint32());continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({error:isSet$s(e.error)?ErrorMessage.fromJSON(e.error):void 0}),toJSON(e){const t={};return void 0!==e.error&&(t.error=ErrorMessage.toJSON(e.error)),t},create:e=>RevokeAppPermissionResponse.fromPartial(e??{}),fromPartial(e){const t=createBaseRevokeAppPermissionResponse();return t.error=void 0!==e.error&&null!==e.error?ErrorMessage.fromPartial(e.error):void 0,t}};function createBaseErrorMessage(){return{message:""}}messageTypeRegistry.set(RevokeAppPermissionResponse.$type,RevokeAppPermissionResponse);const ErrorMessage={$type:"reddit.devvit.app_permission.v1.ErrorMessage",encode:(e,t=_m0.Writer.create())=>(""!==e.message&&t.uint32(10).string(e.message),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseErrorMessage();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.message=o.string();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({message:isSet$s(e.message)?globalThis.String(e.message):""}),toJSON(e){const t={};return""!==e.message&&(t.message=e.message),t},create:e=>ErrorMessage.fromPartial(e??{}),fromPartial(e){const t=createBaseErrorMessage();return t.message=e.message??"",t}};function toTimestamp(e){return{seconds:Math.trunc(e.getTime()/1e3),nanos:e.getTime()%1e3*1e6}}function fromTimestamp(e){let t=1e3*(e.seconds||0);return t+=(e.nanos||0)/1e6,new globalThis.Date(t)}function fromJsonTimestamp(e){return e instanceof globalThis.Date?e:"string"==typeof e?new globalThis.Date(e):fromTimestamp(Timestamp.fromJSON(e))}function isSet$s(e){return null!=e}function createBaseEmpty(){return{}}messageTypeRegistry.set(ErrorMessage.$type,ErrorMessage);const Empty={$type:"google.protobuf.Empty",encode:(e,t=_m0.Writer.create())=>t,decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseEmpty();for(;o.pos<r;){const e=o.uint32();if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({}),toJSON:e=>({}),create:e=>Empty.fromPartial(e??{}),fromPartial:e=>createBaseEmpty()};var NullValue;function nullValueFromJSON(e){switch(e){case 0:case"NULL_VALUE":return NullValue.NULL_VALUE;default:return NullValue.UNRECOGNIZED}}function nullValueToJSON(e){switch(e){case NullValue.NULL_VALUE:return 0;case NullValue.UNRECOGNIZED:default:return-1}}function createBaseStruct(){return{fields:{}}}messageTypeRegistry.set(Empty.$type,Empty),function(e){e[e.NULL_VALUE=0]="NULL_VALUE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(NullValue||(NullValue={}));const Struct={$type:"google.protobuf.Struct",encode:(e,t=_m0.Writer.create())=>(Object.entries(e.fields).forEach((([e,o])=>{void 0!==o&&Struct_FieldsEntry.encode({key:e,value:o},t.uint32(10).fork()).ldelim()})),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseStruct();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;const t=Struct_FieldsEntry.decode(o,o.uint32());void 0!==t.value&&(n.fields[t.key]=t.value);continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({fields:isObject$8(e.fields)?Object.entries(e.fields).reduce(((e,[t,o])=>(e[t]=o,e)),{}):{}}),toJSON(e){const t={};if(e.fields){const o=Object.entries(e.fields);o.length>0&&(t.fields={},o.forEach((([e,o])=>{t.fields[e]=o})))}return t},create:e=>Struct.fromPartial(e??{}),fromPartial(e){const t=createBaseStruct();return t.fields=Object.entries(e.fields??{}).reduce(((e,[t,o])=>(void 0!==o&&(e[t]=o),e)),{}),t},wrap(e){const t=createBaseStruct();if(void 0!==e)for(const o of Object.keys(e))t.fields[o]=e[o];return t},unwrap(e){const t={};if(e.fields)for(const o of Object.keys(e.fields))t[o]=e.fields[o];return t}};function createBaseStruct_FieldsEntry(){return{key:"",value:void 0}}messageTypeRegistry.set(Struct.$type,Struct);const Struct_FieldsEntry={$type:"google.protobuf.Struct.FieldsEntry",encode:(e,t=_m0.Writer.create())=>(""!==e.key&&t.uint32(10).string(e.key),void 0!==e.value&&Value.encode(Value.wrap(e.value),t.uint32(18).fork()).ldelim(),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseStruct_FieldsEntry();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.key=o.string();continue;case 2:if(18!==e)break;n.value=Value.unwrap(Value.decode(o,o.uint32()));continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({key:isSet$r(e.key)?globalThis.String(e.key):"",value:isSet$r(e?.value)?e.value:void 0}),toJSON(e){const t={};return""!==e.key&&(t.key=e.key),void 0!==e.value&&(t.value=e.value),t},create:e=>Struct_FieldsEntry.fromPartial(e??{}),fromPartial(e){const t=createBaseStruct_FieldsEntry();return t.key=e.key??"",t.value=e.value??void 0,t}};function createBaseValue(){return{nullValue:void 0,numberValue:void 0,stringValue:void 0,boolValue:void 0,structValue:void 0,listValue:void 0}}messageTypeRegistry.set(Struct_FieldsEntry.$type,Struct_FieldsEntry);const Value={$type:"google.protobuf.Value",encode:(e,t=_m0.Writer.create())=>(void 0!==e.nullValue&&t.uint32(8).int32(e.nullValue),void 0!==e.numberValue&&t.uint32(17).double(e.numberValue),void 0!==e.stringValue&&t.uint32(26).string(e.stringValue),void 0!==e.boolValue&&t.uint32(32).bool(e.boolValue),void 0!==e.structValue&&Struct.encode(Struct.wrap(e.structValue),t.uint32(42).fork()).ldelim(),void 0!==e.listValue&&ListValue.encode(ListValue.wrap(e.listValue),t.uint32(50).fork()).ldelim(),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseValue();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(8!==e)break;n.nullValue=o.int32();continue;case 2:if(17!==e)break;n.numberValue=o.double();continue;case 3:if(26!==e)break;n.stringValue=o.string();continue;case 4:if(32!==e)break;n.boolValue=o.bool();continue;case 5:if(42!==e)break;n.structValue=Struct.unwrap(Struct.decode(o,o.uint32()));continue;case 6:if(50!==e)break;n.listValue=ListValue.unwrap(ListValue.decode(o,o.uint32()));continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({nullValue:isSet$r(e.nullValue)?nullValueFromJSON(e.nullValue):void 0,numberValue:isSet$r(e.numberValue)?globalThis.Number(e.numberValue):void 0,stringValue:isSet$r(e.stringValue)?globalThis.String(e.stringValue):void 0,boolValue:isSet$r(e.boolValue)?globalThis.Boolean(e.boolValue):void 0,structValue:isObject$8(e.structValue)?e.structValue:void 0,listValue:globalThis.Array.isArray(e.listValue)?[...e.listValue]:void 0}),toJSON(e){const t={};return void 0!==e.nullValue&&(t.nullValue=nullValueToJSON(e.nullValue)),void 0!==e.numberValue&&(t.numberValue=e.numberValue),void 0!==e.stringValue&&(t.stringValue=e.stringValue),void 0!==e.boolValue&&(t.boolValue=e.boolValue),void 0!==e.structValue&&(t.structValue=e.structValue),void 0!==e.listValue&&(t.listValue=e.listValue),t},create:e=>Value.fromPartial(e??{}),fromPartial(e){const t=createBaseValue();return t.nullValue=e.nullValue??void 0,t.numberValue=e.numberValue??void 0,t.stringValue=e.stringValue??void 0,t.boolValue=e.boolValue??void 0,t.structValue=e.structValue??void 0,t.listValue=e.listValue??void 0,t},wrap(e){const t=createBaseValue();if(null===e)t.nullValue=NullValue.NULL_VALUE;else if("boolean"==typeof e)t.boolValue=e;else if("number"==typeof e)t.numberValue=e;else if("string"==typeof e)t.stringValue=e;else if(globalThis.Array.isArray(e))t.listValue=e;else if("object"==typeof e)t.structValue=e;else if(void 0!==e)throw new globalThis.Error("Unsupported any value type: "+typeof e);return t},unwrap:e=>void 0!==e.stringValue?e.stringValue:void 0!==e?.numberValue?e.numberValue:void 0!==e?.boolValue?e.boolValue:void 0!==e?.structValue?e.structValue:void 0!==e?.listValue?e.listValue:void 0!==e?.nullValue?null:void 0};function createBaseListValue(){return{values:[]}}messageTypeRegistry.set(Value.$type,Value);const ListValue={$type:"google.protobuf.ListValue",encode(e,t=_m0.Writer.create()){for(const o of e.values)Value.encode(Value.wrap(o),t.uint32(10).fork()).ldelim();return t},decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseListValue();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.values.push(Value.unwrap(Value.decode(o,o.uint32())));continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({values:globalThis.Array.isArray(e?.values)?[...e.values]:[]}),toJSON(e){const t={};return e.values?.length&&(t.values=e.values),t},create:e=>ListValue.fromPartial(e??{}),fromPartial(e){const t=createBaseListValue();return t.values=e.values?.map((e=>e))||[],t},wrap(e){const t=createBaseListValue();return t.values=e??[],t},unwrap:e=>e?.hasOwnProperty("values")&&globalThis.Array.isArray(e.values)?e.values:e};function isObject$8(e){return"object"==typeof e&&null!==e}function isSet$r(e){return null!=e}function createBaseCanRunAsUserEffect(){return{postId:void 0,appSlug:void 0,subredditId:void 0}}messageTypeRegistry.set(ListValue.$type,ListValue);const CanRunAsUserEffect={$type:"devvit.ui.effect_types.v1alpha.CanRunAsUserEffect",encode:(e,t=_m0.Writer.create())=>(void 0!==e.postId&&t.uint32(10).string(e.postId),void 0!==e.appSlug&&t.uint32(18).string(e.appSlug),void 0!==e.subredditId&&t.uint32(26).string(e.subredditId),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseCanRunAsUserEffect();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.postId=o.string();continue;case 2:if(18!==e)break;n.appSlug=o.string();continue;case 3:if(26!==e)break;n.subredditId=o.string();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({postId:isSet$q(e.postId)?globalThis.String(e.postId):void 0,appSlug:isSet$q(e.appSlug)?globalThis.String(e.appSlug):void 0,subredditId:isSet$q(e.subredditId)?globalThis.String(e.subredditId):void 0}),toJSON(e){const t={};return void 0!==e.postId&&(t.postId=e.postId),void 0!==e.appSlug&&(t.appSlug=e.appSlug),void 0!==e.subredditId&&(t.subredditId=e.subredditId),t},create:e=>CanRunAsUserEffect.fromPartial(e??{}),fromPartial(e){const t=createBaseCanRunAsUserEffect();return t.postId=e.postId??void 0,t.appSlug=e.appSlug??void 0,t.subredditId=e.subredditId??void 0,t}};function createBaseConsentStatusEvent(){return{consentStatus:0}}messageTypeRegistry.set(CanRunAsUserEffect.$type,CanRunAsUserEffect);const ConsentStatusEvent={$type:"devvit.ui.effect_types.v1alpha.ConsentStatusEvent",encode:(e,t=_m0.Writer.create())=>(0!==e.consentStatus&&t.uint32(8).int32(e.consentStatus),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseConsentStatusEvent();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(8!==e)break;n.consentStatus=o.int32();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({consentStatus:isSet$q(e.consentStatus)?consentStatusFromJSON(e.consentStatus):0}),toJSON(e){const t={};return 0!==e.consentStatus&&(t.consentStatus=consentStatusToJSON(e.consentStatus)),t},create:e=>ConsentStatusEvent.fromPartial(e??{}),fromPartial(e){const t=createBaseConsentStatusEvent();return t.consentStatus=e.consentStatus??0,t}};function isSet$q(e){return null!=e}var OrderResultStatus;function orderResultStatusFromJSON(e){switch(e){case 0:case"STATUS_CANCELLED":return OrderResultStatus.STATUS_CANCELLED;case 1:case"STATUS_SUCCESS":return OrderResultStatus.STATUS_SUCCESS;case 2:case"STATUS_ERROR":return OrderResultStatus.STATUS_ERROR;default:return OrderResultStatus.UNRECOGNIZED}}function orderResultStatusToJSON(e){switch(e){case OrderResultStatus.STATUS_CANCELLED:return 0;case OrderResultStatus.STATUS_SUCCESS:return 1;case OrderResultStatus.STATUS_ERROR:return 2;case OrderResultStatus.UNRECOGNIZED:default:return-1}}function createBaseCreateOrderEffect(){return{id:"",skus:[],metadata:{}}}messageTypeRegistry.set(ConsentStatusEvent.$type,ConsentStatusEvent),function(e){e[e.STATUS_CANCELLED=0]="STATUS_CANCELLED",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_ERROR=2]="STATUS_ERROR",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(OrderResultStatus||(OrderResultStatus={}));const CreateOrderEffect={$type:"devvit.ui.effect_types.v1alpha.CreateOrderEffect",encode(e,t=_m0.Writer.create()){""!==e.id&&t.uint32(10).string(e.id);for(const o of e.skus)t.uint32(18).string(o);return Object.entries(e.metadata).forEach((([e,o])=>{CreateOrderEffect_MetadataEntry.encode({key:e,value:o},t.uint32(26).fork()).ldelim()})),t},decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseCreateOrderEffect();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.id=o.string();continue;case 2:if(18!==e)break;n.skus.push(o.string());continue;case 3:if(26!==e)break;const t=CreateOrderEffect_MetadataEntry.decode(o,o.uint32());void 0!==t.value&&(n.metadata[t.key]=t.value);continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({id:isSet$p(e.id)?globalThis.String(e.id):"",skus:globalThis.Array.isArray(e?.skus)?e.skus.map((e=>globalThis.String(e))):[],metadata:isObject$7(e.metadata)?Object.entries(e.metadata).reduce(((e,[t,o])=>(e[t]=String(o),e)),{}):{}}),toJSON(e){const t={};if(""!==e.id&&(t.id=e.id),e.skus?.length&&(t.skus=e.skus),e.metadata){const o=Object.entries(e.metadata);o.length>0&&(t.metadata={},o.forEach((([e,o])=>{t.metadata[e]=o})))}return t},create:e=>CreateOrderEffect.fromPartial(e??{}),fromPartial(e){const t=createBaseCreateOrderEffect();return t.id=e.id??"",t.skus=e.skus?.map((e=>e))||[],t.metadata=Object.entries(e.metadata??{}).reduce(((e,[t,o])=>(void 0!==o&&(e[t]=globalThis.String(o)),e)),{}),t}};function createBaseCreateOrderEffect_MetadataEntry(){return{key:"",value:""}}messageTypeRegistry.set(CreateOrderEffect.$type,CreateOrderEffect);const CreateOrderEffect_MetadataEntry={$type:"devvit.ui.effect_types.v1alpha.CreateOrderEffect.MetadataEntry",encode:(e,t=_m0.Writer.create())=>(""!==e.key&&t.uint32(10).string(e.key),""!==e.value&&t.uint32(18).string(e.value),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseCreateOrderEffect_MetadataEntry();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.key=o.string();continue;case 2:if(18!==e)break;n.value=o.string();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({key:isSet$p(e.key)?globalThis.String(e.key):"",value:isSet$p(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.key&&(t.key=e.key),""!==e.value&&(t.value=e.value),t},create:e=>CreateOrderEffect_MetadataEntry.fromPartial(e??{}),fromPartial(e){const t=createBaseCreateOrderEffect_MetadataEntry();return t.key=e.key??"",t.value=e.value??"",t}};function createBaseOrderResultEvent(){return{errorMessage:void 0,orderId:void 0,order:void 0,status:0,errorCode:void 0}}messageTypeRegistry.set(CreateOrderEffect_MetadataEntry.$type,CreateOrderEffect_MetadataEntry);const OrderResultEvent={$type:"devvit.ui.effect_types.v1alpha.OrderResultEvent",encode:(e,t=_m0.Writer.create())=>(void 0!==e.errorMessage&&t.uint32(18).string(e.errorMessage),void 0!==e.orderId&&t.uint32(26).string(e.orderId),void 0!==e.order&&CreateOrderEffect.encode(e.order,t.uint32(34).fork()).ldelim(),0!==e.status&&t.uint32(40).int32(e.status),void 0!==e.errorCode&&t.uint32(48).int32(e.errorCode),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseOrderResultEvent();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 2:if(18!==e)break;n.errorMessage=o.string();continue;case 3:if(26!==e)break;n.orderId=o.string();continue;case 4:if(34!==e)break;n.order=CreateOrderEffect.decode(o,o.uint32());continue;case 5:if(40!==e)break;n.status=o.int32();continue;case 6:if(48!==e)break;n.errorCode=o.int32();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({errorMessage:isSet$p(e.errorMessage)?globalThis.String(e.errorMessage):void 0,orderId:isSet$p(e.orderId)?globalThis.String(e.orderId):void 0,order:isSet$p(e.order)?CreateOrderEffect.fromJSON(e.order):void 0,status:isSet$p(e.status)?orderResultStatusFromJSON(e.status):0,errorCode:isSet$p(e.errorCode)?globalThis.Number(e.errorCode):void 0}),toJSON(e){const t={};return void 0!==e.errorMessage&&(t.errorMessage=e.errorMessage),void 0!==e.orderId&&(t.orderId=e.orderId),void 0!==e.order&&(t.order=CreateOrderEffect.toJSON(e.order)),0!==e.status&&(t.status=orderResultStatusToJSON(e.status)),void 0!==e.errorCode&&(t.errorCode=Math.round(e.errorCode)),t},create:e=>OrderResultEvent.fromPartial(e??{}),fromPartial(e){const t=createBaseOrderResultEvent();return t.errorMessage=e.errorMessage??void 0,t.orderId=e.orderId??void 0,t.order=void 0!==e.order&&null!==e.order?CreateOrderEffect.fromPartial(e.order):void 0,t.status=e.status??0,t.errorCode=e.errorCode??void 0,t}};function isObject$7(e){return"object"==typeof e&&null!==e}function isSet$p(e){return null!=e}function createBaseNavigateToUrlEffect(){return{url:"",target:void 0}}messageTypeRegistry.set(OrderResultEvent.$type,OrderResultEvent);const NavigateToUrlEffect={$type:"devvit.ui.effect_types.v1alpha.NavigateToUrlEffect",encode:(e,t=_m0.Writer.create())=>(""!==e.url&&t.uint32(10).string(e.url),void 0!==e.target&&t.uint32(18).string(e.target),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseNavigateToUrlEffect();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.url=o.string();continue;case 2:if(18!==e)break;n.target=o.string();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({url:isSet$o(e.url)?globalThis.String(e.url):"",target:isSet$o(e.target)?globalThis.String(e.target):void 0}),toJSON(e){const t={};return""!==e.url&&(t.url=e.url),void 0!==e.target&&(t.target=e.target),t},create:e=>NavigateToUrlEffect.fromPartial(e??{}),fromPartial(e){const t=createBaseNavigateToUrlEffect();return t.url=e.url??"",t.target=e.target??void 0,t}};function isSet$o(e){return null!=e}var FormFieldType;function formFieldTypeFromJSON(e){switch(e){case 0:case"STRING":return FormFieldType.STRING;case 1:case"PARAGRAPH":return FormFieldType.PARAGRAPH;case 2:case"NUMBER":return FormFieldType.NUMBER;case 3:case"BOOLEAN":return FormFieldType.BOOLEAN;case 4:case"LIST":return FormFieldType.LIST;case 5:case"SELECTION":return FormFieldType.SELECTION;case 6:case"GROUP":return FormFieldType.GROUP;case 7:case"IMAGE":return FormFieldType.IMAGE;default:return FormFieldType.UNRECOGNIZED}}function formFieldTypeToJSON(e){switch(e){case FormFieldType.STRING:return 0;case FormFieldType.PARAGRAPH:return 1;case FormFieldType.NUMBER:return 2;case FormFieldType.BOOLEAN:return 3;case FormFieldType.LIST:return 4;case FormFieldType.SELECTION:return 5;case FormFieldType.GROUP:return 6;case FormFieldType.IMAGE:return 7;case FormFieldType.UNRECOGNIZED:default:return-1}}function createBaseFormFieldValue(){return{fieldType:0,isSecret:void 0,stringValue:void 0,numberValue:void 0,boolValue:void 0,listValue:void 0,selectionValue:void 0,groupValue:void 0}}messageTypeRegistry.set(NavigateToUrlEffect.$type,NavigateToUrlEffect),function(e){e[e.STRING=0]="STRING",e[e.PARAGRAPH=1]="PARAGRAPH",e[e.NUMBER=2]="NUMBER",e[e.BOOLEAN=3]="BOOLEAN",e[e.LIST=4]="LIST",e[e.SELECTION=5]="SELECTION",e[e.GROUP=6]="GROUP",e[e.IMAGE=7]="IMAGE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(FormFieldType||(FormFieldType={}));const FormFieldValue={$type:"devvit.ui.form_builder.v1alpha.FormFieldValue",encode:(e,t=_m0.Writer.create())=>(0!==e.fieldType&&t.uint32(8).int32(e.fieldType),void 0!==e.isSecret&&t.uint32(800).bool(e.isSecret),void 0!==e.stringValue&&t.uint32(18).string(e.stringValue),void 0!==e.numberValue&&t.uint32(25).double(e.numberValue),void 0!==e.boolValue&&t.uint32(32).bool(e.boolValue),void 0!==e.listValue&&FormFieldValue_ListValue.encode(e.listValue,t.uint32(42).fork()).ldelim(),void 0!==e.selectionValue&&FormFieldValue_SelectionValue.encode(e.selectionValue,t.uint32(50).fork()).ldelim(),void 0!==e.groupValue&&FormFieldValue_GroupValue.encode(e.groupValue,t.uint32(58).fork()).ldelim(),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseFormFieldValue();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(8!==e)break;n.fieldType=o.int32();continue;case 100:if(800!==e)break;n.isSecret=o.bool();continue;case 2:if(18!==e)break;n.stringValue=o.string();continue;case 3:if(25!==e)break;n.numberValue=o.double();continue;case 4:if(32!==e)break;n.boolValue=o.bool();continue;case 5:if(42!==e)break;n.listValue=FormFieldValue_ListValue.decode(o,o.uint32());continue;case 6:if(50!==e)break;n.selectionValue=FormFieldValue_SelectionValue.decode(o,o.uint32());continue;case 7:if(58!==e)break;n.groupValue=FormFieldValue_GroupValue.decode(o,o.uint32());continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({fieldType:isSet$n(e.fieldType)?formFieldTypeFromJSON(e.fieldType):0,isSecret:isSet$n(e.isSecret)?globalThis.Boolean(e.isSecret):void 0,stringValue:isSet$n(e.stringValue)?globalThis.String(e.stringValue):void 0,numberValue:isSet$n(e.numberValue)?globalThis.Number(e.numberValue):void 0,boolValue:isSet$n(e.boolValue)?globalThis.Boolean(e.boolValue):void 0,listValue:isSet$n(e.listValue)?FormFieldValue_ListValue.fromJSON(e.listValue):void 0,selectionValue:isSet$n(e.selectionValue)?FormFieldValue_SelectionValue.fromJSON(e.selectionValue):void 0,groupValue:isSet$n(e.groupValue)?FormFieldValue_GroupValue.fromJSON(e.groupValue):void 0}),toJSON(e){const t={};return 0!==e.fieldType&&(t.fieldType=formFieldTypeToJSON(e.fieldType)),void 0!==e.isSecret&&(t.isSecret=e.isSecret),void 0!==e.stringValue&&(t.stringValue=e.stringValue),void 0!==e.numberValue&&(t.numberValue=e.numberValue),void 0!==e.boolValue&&(t.boolValue=e.boolValue),void 0!==e.listValue&&(t.listValue=FormFieldValue_ListValue.toJSON(e.listValue)),void 0!==e.selectionValue&&(t.selectionValue=FormFieldValue_SelectionValue.toJSON(e.selectionValue)),void 0!==e.groupValue&&(t.groupValue=FormFieldValue_GroupValue.toJSON(e.groupValue)),t},create:e=>FormFieldValue.fromPartial(e??{}),fromPartial(e){const t=createBaseFormFieldValue();return t.fieldType=e.fieldType??0,t.isSecret=e.isSecret??void 0,t.stringValue=e.stringValue??void 0,t.numberValue=e.numberValue??void 0,t.boolValue=e.boolValue??void 0,t.listValue=void 0!==e.listValue&&null!==e.listValue?FormFieldValue_ListValue.fromPartial(e.listValue):void 0,t.selectionValue=void 0!==e.selectionValue&&null!==e.selectionValue?FormFieldValue_SelectionValue.fromPartial(e.selectionValue):void 0,t.groupValue=void 0!==e.groupValue&&null!==e.groupValue?FormFieldValue_GroupValue.fromPartial(e.groupValue):void 0,t}};function createBaseFormFieldValue_ListValue(){return{itemType:0,items:[]}}messageTypeRegistry.set(FormFieldValue.$type,FormFieldValue);const FormFieldValue_ListValue={$type:"devvit.ui.form_builder.v1alpha.FormFieldValue.ListValue",encode(e,t=_m0.Writer.create()){0!==e.itemType&&t.uint32(8).int32(e.itemType);for(const o of e.items)FormFieldValue.encode(o,t.uint32(18).fork()).ldelim();return t},decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseFormFieldValue_ListValue();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(8!==e)break;n.itemType=o.int32();continue;case 2:if(18!==e)break;n.items.push(FormFieldValue.decode(o,o.uint32()));continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({itemType:isSet$n(e.itemType)?formFieldTypeFromJSON(e.itemType):0,items:globalThis.Array.isArray(e?.items)?e.items.map((e=>FormFieldValue.fromJSON(e))):[]}),toJSON(e){const t={};return 0!==e.itemType&&(t.itemType=formFieldTypeToJSON(e.itemType)),e.items?.length&&(t.items=e.items.map((e=>FormFieldValue.toJSON(e)))),t},create:e=>FormFieldValue_ListValue.fromPartial(e??{}),fromPartial(e){const t=createBaseFormFieldValue_ListValue();return t.itemType=e.itemType??0,t.items=e.items?.map((e=>FormFieldValue.fromPartial(e)))||[],t}};function createBaseFormFieldValue_SelectionValue(){return{values:[]}}messageTypeRegistry.set(FormFieldValue_ListValue.$type,FormFieldValue_ListValue);const FormFieldValue_SelectionValue={$type:"devvit.ui.form_builder.v1alpha.FormFieldValue.SelectionValue",encode(e,t=_m0.Writer.create()){for(const o of e.values)t.uint32(10).string(o);return t},decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseFormFieldValue_SelectionValue();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.values.push(o.string());continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({values:globalThis.Array.isArray(e?.values)?e.values.map((e=>globalThis.String(e))):[]}),toJSON(e){const t={};return e.values?.length&&(t.values=e.values),t},create:e=>FormFieldValue_SelectionValue.fromPartial(e??{}),fromPartial(e){const t=createBaseFormFieldValue_SelectionValue();return t.values=e.values?.map((e=>e))||[],t}};function createBaseFormFieldValue_GroupValue(){return{}}messageTypeRegistry.set(FormFieldValue_SelectionValue.$type,FormFieldValue_SelectionValue);const FormFieldValue_GroupValue={$type:"devvit.ui.form_builder.v1alpha.FormFieldValue.GroupValue",encode:(e,t=_m0.Writer.create())=>t,decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseFormFieldValue_GroupValue();for(;o.pos<r;){const e=o.uint32();if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({}),toJSON:e=>({}),create:e=>FormFieldValue_GroupValue.fromPartial(e??{}),fromPartial:e=>createBaseFormFieldValue_GroupValue()};function isSet$n(e){return null!=e}function createBaseFormField(){return{fieldId:"",fieldType:0,label:"",helpText:void 0,defaultValue:void 0,required:void 0,disabled:void 0,fieldConfig:void 0,isSecret:void 0}}messageTypeRegistry.set(FormFieldValue_GroupValue.$type,FormFieldValue_GroupValue);const FormField={$type:"devvit.ui.form_builder.v1alpha.FormField",encode:(e,t=_m0.Writer.create())=>(""!==e.fieldId&&t.uint32(10).string(e.fieldId),0!==e.fieldType&&t.uint32(16).int32(e.fieldType),""!==e.label&&t.uint32(26).string(e.label),void 0!==e.helpText&&t.uint32(34).string(e.helpText),void 0!==e.defaultValue&&FormFieldValue.encode(e.defaultValue,t.uint32(42).fork()).ldelim(),void 0!==e.required&&t.uint32(48).bool(e.required),void 0!==e.disabled&&t.uint32(56).bool(e.disabled),void 0!==e.fieldConfig&&FieldConfig.encode(e.fieldConfig,t.uint32(66).fork()).ldelim(),void 0!==e.isSecret&&t.uint32(72).bool(e.isSecret),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseFormField();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.fieldId=o.string();continue;case 2:if(16!==e)break;n.fieldType=o.int32();continue;case 3:if(26!==e)break;n.label=o.string();continue;case 4:if(34!==e)break;n.helpText=o.string();continue;case 5:if(42!==e)break;n.defaultValue=FormFieldValue.decode(o,o.uint32());continue;case 6:if(48!==e)break;n.required=o.bool();continue;case 7:if(56!==e)break;n.disabled=o.bool();continue;case 8:if(66!==e)break;n.fieldConfig=FieldConfig.decode(o,o.uint32());continue;case 9:if(72!==e)break;n.isSecret=o.bool();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({fieldId:isSet$m(e.fieldId)?globalThis.String(e.fieldId):"",fieldType:isSet$m(e.fieldType)?formFieldTypeFromJSON(e.fieldType):0,label:isSet$m(e.label)?globalThis.String(e.label):"",helpText:isSet$m(e.helpText)?globalThis.String(e.helpText):void 0,defaultValue:isSet$m(e.defaultValue)?FormFieldValue.fromJSON(e.defaultValue):void 0,required:isSet$m(e.required)?globalThis.Boolean(e.required):void 0,disabled:isSet$m(e.disabled)?globalThis.Boolean(e.disabled):void 0,fieldConfig:isSet$m(e.fieldConfig)?FieldConfig.fromJSON(e.fieldConfig):void 0,isSecret:isSet$m(e.isSecret)?globalThis.Boolean(e.isSecret):void 0}),toJSON(e){const t={};return""!==e.fieldId&&(t.fieldId=e.fieldId),0!==e.fieldType&&(t.fieldType=formFieldTypeToJSON(e.fieldType)),""!==e.label&&(t.label=e.label),void 0!==e.helpText&&(t.helpText=e.helpText),void 0!==e.defaultValue&&(t.defaultValue=FormFieldValue.toJSON(e.defaultValue)),void 0!==e.required&&(t.required=e.required),void 0!==e.disabled&&(t.disabled=e.disabled),void 0!==e.fieldConfig&&(t.fieldConfig=FieldConfig.toJSON(e.fieldConfig)),void 0!==e.isSecret&&(t.isSecret=e.isSecret),t},create:e=>FormField.fromPartial(e??{}),fromPartial(e){const t=createBaseFormField();return t.fieldId=e.fieldId??"",t.fieldType=e.fieldType??0,t.label=e.label??"",t.helpText=e.helpText??void 0,t.defaultValue=void 0!==e.defaultValue&&null!==e.defaultValue?FormFieldValue.fromPartial(e.defaultValue):void 0,t.required=e.required??void 0,t.disabled=e.disabled??void 0,t.fieldConfig=void 0!==e.fieldConfig&&null!==e.fieldConfig?FieldConfig.fromPartial(e.fieldConfig):void 0,t.isSecret=e.isSecret??void 0,t}};function createBaseFieldConfig(){return{stringConfig:void 0,paragraphConfig:void 0,numberConfig:void 0,booleanConfig:void 0,listConfig:void 0,selectionConfig:void 0,groupConfig:void 0}}messageTypeRegistry.set(FormField.$type,FormField);const FieldConfig={$type:"devvit.ui.form_builder.v1alpha.FieldConfig",encode:(e,t=_m0.Writer.create())=>(void 0!==e.stringConfig&&FieldConfig_String.encode(e.stringConfig,t.uint32(10).fork()).ldelim(),void 0!==e.paragraphConfig&&FieldConfig_Paragraph.encode(e.paragraphConfig,t.uint32(18).fork()).ldelim(),void 0!==e.numberConfig&&FieldConfig_Number.encode(e.numberConfig,t.uint32(26).fork()).ldelim(),void 0!==e.booleanConfig&&FieldConfig_Boolean.encode(e.booleanConfig,t.uint32(34).fork()).ldelim(),void 0!==e.listConfig&&FieldConfig_List.encode(e.listConfig,t.uint32(42).fork()).ldelim(),void 0!==e.selectionConfig&&FieldConfig_Selection.encode(e.selectionConfig,t.uint32(50).fork()).ldelim(),void 0!==e.groupConfig&&FieldConfig_Group.encode(e.groupConfig,t.uint32(58).fork()).ldelim(),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseFieldConfig();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.stringConfig=FieldConfig_String.decode(o,o.uint32());continue;case 2:if(18!==e)break;n.paragraphConfig=FieldConfig_Paragraph.decode(o,o.uint32());continue;case 3:if(26!==e)break;n.numberConfig=FieldConfig_Number.decode(o,o.uint32());continue;case 4:if(34!==e)break;n.booleanConfig=FieldConfig_Boolean.decode(o,o.uint32());continue;case 5:if(42!==e)break;n.listConfig=FieldConfig_List.decode(o,o.uint32());continue;case 6:if(50!==e)break;n.selectionConfig=FieldConfig_Selection.decode(o,o.uint32());continue;case 7:if(58!==e)break;n.groupConfig=FieldConfig_Group.decode(o,o.uint32());continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({stringConfig:isSet$m(e.stringConfig)?FieldConfig_String.fromJSON(e.stringConfig):void 0,paragraphConfig:isSet$m(e.paragraphConfig)?FieldConfig_Paragraph.fromJSON(e.paragraphConfig):void 0,numberConfig:isSet$m(e.numberConfig)?FieldConfig_Number.fromJSON(e.numberConfig):void 0,booleanConfig:isSet$m(e.booleanConfig)?FieldConfig_Boolean.fromJSON(e.booleanConfig):void 0,listConfig:isSet$m(e.listConfig)?FieldConfig_List.fromJSON(e.listConfig):void 0,selectionConfig:isSet$m(e.selectionConfig)?FieldConfig_Selection.fromJSON(e.selectionConfig):void 0,groupConfig:isSet$m(e.groupConfig)?FieldConfig_Group.fromJSON(e.groupConfig):void 0}),toJSON(e){const t={};return void 0!==e.stringConfig&&(t.stringConfig=FieldConfig_String.toJSON(e.stringConfig)),void 0!==e.paragraphConfig&&(t.paragraphConfig=FieldConfig_Paragraph.toJSON(e.paragraphConfig)),void 0!==e.numberConfig&&(t.numberConfig=FieldConfig_Number.toJSON(e.numberConfig)),void 0!==e.booleanConfig&&(t.booleanConfig=FieldConfig_Boolean.toJSON(e.booleanConfig)),void 0!==e.listConfig&&(t.listConfig=FieldConfig_List.toJSON(e.listConfig)),void 0!==e.selectionConfig&&(t.selectionConfig=FieldConfig_Selection.toJSON(e.selectionConfig)),void 0!==e.groupConfig&&(t.groupConfig=FieldConfig_Group.toJSON(e.groupConfig)),t},create:e=>FieldConfig.fromPartial(e??{}),fromPartial(e){const t=createBaseFieldConfig();return t.stringConfig=void 0!==e.stringConfig&&null!==e.stringConfig?FieldConfig_String.fromPartial(e.stringConfig):void 0,t.paragraphConfig=void 0!==e.paragraphConfig&&null!==e.paragraphConfig?FieldConfig_Paragraph.fromPartial(e.paragraphConfig):void 0,t.numberConfig=void 0!==e.numberConfig&&null!==e.numberConfig?FieldConfig_Number.fromPartial(e.numberConfig):void 0,t.booleanConfig=void 0!==e.booleanConfig&&null!==e.booleanConfig?FieldConfig_Boolean.fromPartial(e.booleanConfig):void 0,t.listConfig=void 0!==e.listConfig&&null!==e.listConfig?FieldConfig_List.fromPartial(e.listConfig):void 0,t.selectionConfig=void 0!==e.selectionConfig&&null!==e.selectionConfig?FieldConfig_Selection.fromPartial(e.selectionConfig):void 0,t.groupConfig=void 0!==e.groupConfig&&null!==e.groupConfig?FieldConfig_Group.fromPartial(e.groupConfig):void 0,t}};function createBaseFieldConfig_String(){return{minLength:void 0,maxLength:void 0,placeholder:void 0}}messageTypeRegistry.set(FieldConfig.$type,FieldConfig);const FieldConfig_String={$type:"devvit.ui.form_builder.v1alpha.FieldConfig.String",encode:(e,t=_m0.Writer.create())=>(void 0!==e.minLength&&t.uint32(8).int32(e.minLength),void 0!==e.maxLength&&t.uint32(16).int32(e.maxLength),void 0!==e.placeholder&&t.uint32(26).string(e.placeholder),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseFieldConfig_String();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(8!==e)break;n.minLength=o.int32();continue;case 2:if(16!==e)break;n.maxLength=o.int32();continue;case 3:if(26!==e)break;n.placeholder=o.string();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({minLength:isSet$m(e.minLength)?globalThis.Number(e.minLength):void 0,maxLength:isSet$m(e.maxLength)?globalThis.Number(e.maxLength):void 0,placeholder:isSet$m(e.placeholder)?globalThis.String(e.placeholder):void 0}),toJSON(e){const t={};return void 0!==e.minLength&&(t.minLength=Math.round(e.minLength)),void 0!==e.maxLength&&(t.maxLength=Math.round(e.maxLength)),void 0!==e.placeholder&&(t.placeholder=e.placeholder),t},create:e=>FieldConfig_String.fromPartial(e??{}),fromPartial(e){const t=createBaseFieldConfig_String();return t.minLength=e.minLength??void 0,t.maxLength=e.maxLength??void 0,t.placeholder=e.placeholder??void 0,t}};function createBaseFieldConfig_Paragraph(){return{maxCharacters:void 0,lineHeight:void 0,placeholder:void 0}}messageTypeRegistry.set(FieldConfig_String.$type,FieldConfig_String);const FieldConfig_Paragraph={$type:"devvit.ui.form_builder.v1alpha.FieldConfig.Paragraph",encode:(e,t=_m0.Writer.create())=>(void 0!==e.maxCharacters&&t.uint32(8).int32(e.maxCharacters),void 0!==e.lineHeight&&t.uint32(16).int32(e.lineHeight),void 0!==e.placeholder&&t.uint32(26).string(e.placeholder),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseFieldConfig_Paragraph();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(8!==e)break;n.maxCharacters=o.int32();continue;case 2:if(16!==e)break;n.lineHeight=o.int32();continue;case 3:if(26!==e)break;n.placeholder=o.string();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({maxCharacters:isSet$m(e.maxCharacters)?globalThis.Number(e.maxCharacters):void 0,lineHeight:isSet$m(e.lineHeight)?globalThis.Number(e.lineHeight):void 0,placeholder:isSet$m(e.placeholder)?globalThis.String(e.placeholder):void 0}),toJSON(e){const t={};return void 0!==e.maxCharacters&&(t.maxCharacters=Math.round(e.maxCharacters)),void 0!==e.lineHeight&&(t.lineHeight=Math.round(e.lineHeight)),void 0!==e.placeholder&&(t.placeholder=e.placeholder),t},create:e=>FieldConfig_Paragraph.fromPartial(e??{}),fromPartial(e){const t=createBaseFieldConfig_Paragraph();return t.maxCharacters=e.maxCharacters??void 0,t.lineHeight=e.lineHeight??void 0,t.placeholder=e.placeholder??void 0,t}};function createBaseFieldConfig_Number(){return{step:void 0,min:void 0,max:void 0}}messageTypeRegistry.set(FieldConfig_Paragraph.$type,FieldConfig_Paragraph);const FieldConfig_Number={$type:"devvit.ui.form_builder.v1alpha.FieldConfig.Number",encode:(e,t=_m0.Writer.create())=>(void 0!==e.step&&t.uint32(9).double(e.step),void 0!==e.min&&t.uint32(17).double(e.min),void 0!==e.max&&t.uint32(25).double(e.max),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseFieldConfig_Number();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(9!==e)break;n.step=o.double();continue;case 2:if(17!==e)break;n.min=o.double();continue;case 3:if(25!==e)break;n.max=o.double();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({step:isSet$m(e.step)?globalThis.Number(e.step):void 0,min:isSet$m(e.min)?globalThis.Number(e.min):void 0,max:isSet$m(e.max)?globalThis.Number(e.max):void 0}),toJSON(e){const t={};return void 0!==e.step&&(t.step=e.step),void 0!==e.min&&(t.min=e.min),void 0!==e.max&&(t.max=e.max),t},create:e=>FieldConfig_Number.fromPartial(e??{}),fromPartial(e){const t=createBaseFieldConfig_Number();return t.step=e.step??void 0,t.min=e.min??void 0,t.max=e.max??void 0,t}};function createBaseFieldConfig_Boolean(){return{}}messageTypeRegistry.set(FieldConfig_Number.$type,FieldConfig_Number);const FieldConfig_Boolean={$type:"devvit.ui.form_builder.v1alpha.FieldConfig.Boolean",encode:(e,t=_m0.Writer.create())=>t,decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseFieldConfig_Boolean();for(;o.pos<r;){const e=o.uint32();if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({}),toJSON:e=>({}),create:e=>FieldConfig_Boolean.fromPartial(e??{}),fromPartial:e=>createBaseFieldConfig_Boolean()};function createBaseFieldConfig_List(){return{itemType:0,itemConfig:void 0,minEntries:void 0,maxEntries:void 0,entryLabel:void 0}}messageTypeRegistry.set(FieldConfig_Boolean.$type,FieldConfig_Boolean);const FieldConfig_List={$type:"devvit.ui.form_builder.v1alpha.FieldConfig.List",encode:(e,t=_m0.Writer.create())=>(0!==e.itemType&&t.uint32(8).int32(e.itemType),void 0!==e.itemConfig&&FieldConfig.encode(e.itemConfig,t.uint32(18).fork()).ldelim(),void 0!==e.minEntries&&t.uint32(24).int32(e.minEntries),void 0!==e.maxEntries&&t.uint32(32).int32(e.maxEntries),void 0!==e.entryLabel&&t.uint32(42).string(e.entryLabel),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseFieldConfig_List();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(8!==e)break;n.itemType=o.int32();continue;case 2:if(18!==e)break;n.itemConfig=FieldConfig.decode(o,o.uint32());continue;case 3:if(24!==e)break;n.minEntries=o.int32();continue;case 4:if(32!==e)break;n.maxEntries=o.int32();continue;case 5:if(42!==e)break;n.entryLabel=o.string();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({itemType:isSet$m(e.itemType)?formFieldTypeFromJSON(e.itemType):0,itemConfig:isSet$m(e.itemConfig)?FieldConfig.fromJSON(e.itemConfig):void 0,minEntries:isSet$m(e.minEntries)?globalThis.Number(e.minEntries):void 0,maxEntries:isSet$m(e.maxEntries)?globalThis.Number(e.maxEntries):void 0,entryLabel:isSet$m(e.entryLabel)?globalThis.String(e.entryLabel):void 0}),toJSON(e){const t={};return 0!==e.itemType&&(t.itemType=formFieldTypeToJSON(e.itemType)),void 0!==e.itemConfig&&(t.itemConfig=FieldConfig.toJSON(e.itemConfig)),void 0!==e.minEntries&&(t.minEntries=Math.round(e.minEntries)),void 0!==e.maxEntries&&(t.maxEntries=Math.round(e.maxEntries)),void 0!==e.entryLabel&&(t.entryLabel=e.entryLabel),t},create:e=>FieldConfig_List.fromPartial(e??{}),fromPartial(e){const t=createBaseFieldConfig_List();return t.itemType=e.itemType??0,t.itemConfig=void 0!==e.itemConfig&&null!==e.itemConfig?FieldConfig.fromPartial(e.itemConfig):void 0,t.minEntries=e.minEntries??void 0,t.maxEntries=e.maxEntries??void 0,t.entryLabel=e.entryLabel??void 0,t}};function createBaseFieldConfig_Selection(){return{choices:[],multiSelect:void 0,minSelections:void 0,maxSelections:void 0,renderAsList:void 0}}messageTypeRegistry.set(FieldConfig_List.$type,FieldConfig_List);const FieldConfig_Selection={$type:"devvit.ui.form_builder.v1alpha.FieldConfig.Selection",encode(e,t=_m0.Writer.create()){for(const o of e.choices)FieldConfig_Selection_Item.encode(o,t.uint32(10).fork()).ldelim();return void 0!==e.multiSelect&&t.uint32(16).bool(e.multiSelect),void 0!==e.minSelections&&t.uint32(24).int32(e.minSelections),void 0!==e.maxSelections&&t.uint32(32).int32(e.maxSelections),void 0!==e.renderAsList&&t.uint32(40).bool(e.renderAsList),t},decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseFieldConfig_Selection();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.choices.push(FieldConfig_Selection_Item.decode(o,o.uint32()));continue;case 2:if(16!==e)break;n.multiSelect=o.bool();continue;case 3:if(24!==e)break;n.minSelections=o.int32();continue;case 4:if(32!==e)break;n.maxSelections=o.int32();continue;case 5:if(40!==e)break;n.renderAsList=o.bool();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({choices:globalThis.Array.isArray(e?.choices)?e.choices.map((e=>FieldConfig_Selection_Item.fromJSON(e))):[],multiSelect:isSet$m(e.multiSelect)?globalThis.Boolean(e.multiSelect):void 0,minSelections:isSet$m(e.minSelections)?globalThis.Number(e.minSelections):void 0,maxSelections:isSet$m(e.maxSelections)?globalThis.Number(e.maxSelections):void 0,renderAsList:isSet$m(e.renderAsList)?globalThis.Boolean(e.renderAsList):void 0}),toJSON(e){const t={};return e.choices?.length&&(t.choices=e.choices.map((e=>FieldConfig_Selection_Item.toJSON(e)))),void 0!==e.multiSelect&&(t.multiSelect=e.multiSelect),void 0!==e.minSelections&&(t.minSelections=Math.round(e.minSelections)),void 0!==e.maxSelections&&(t.maxSelections=Math.round(e.maxSelections)),void 0!==e.renderAsList&&(t.renderAsList=e.renderAsList),t},create:e=>FieldConfig_Selection.fromPartial(e??{}),fromPartial(e){const t=createBaseFieldConfig_Selection();return t.choices=e.choices?.map((e=>FieldConfig_Selection_Item.fromPartial(e)))||[],t.multiSelect=e.multiSelect??void 0,t.minSelections=e.minSelections??void 0,t.maxSelections=e.maxSelections??void 0,t.renderAsList=e.renderAsList??void 0,t}};function createBaseFieldConfig_Selection_Item(){return{label:"",value:""}}messageTypeRegistry.set(FieldConfig_Selection.$type,FieldConfig_Selection);const FieldConfig_Selection_Item={$type:"devvit.ui.form_builder.v1alpha.FieldConfig.Selection.Item",encode:(e,t=_m0.Writer.create())=>(""!==e.label&&t.uint32(10).string(e.label),""!==e.value&&t.uint32(18).string(e.value),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseFieldConfig_Selection_Item();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.label=o.string();continue;case 2:if(18!==e)break;n.value=o.string();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({label:isSet$m(e.label)?globalThis.String(e.label):"",value:isSet$m(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.label&&(t.label=e.label),""!==e.value&&(t.value=e.value),t},create:e=>FieldConfig_Selection_Item.fromPartial(e??{}),fromPartial(e){const t=createBaseFieldConfig_Selection_Item();return t.label=e.label??"",t.value=e.value??"",t}};function createBaseFieldConfig_Group(){return{fields:[]}}messageTypeRegistry.set(FieldConfig_Selection_Item.$type,FieldConfig_Selection_Item);const FieldConfig_Group={$type:"devvit.ui.form_builder.v1alpha.FieldConfig.Group",encode(e,t=_m0.Writer.create()){for(const o of e.fields)FormField.encode(o,t.uint32(10).fork()).ldelim();return t},decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseFieldConfig_Group();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.fields.push(FormField.decode(o,o.uint32()));continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({fields:globalThis.Array.isArray(e?.fields)?e.fields.map((e=>FormField.fromJSON(e))):[]}),toJSON(e){const t={};return e.fields?.length&&(t.fields=e.fields.map((e=>FormField.toJSON(e)))),t},create:e=>FieldConfig_Group.fromPartial(e??{}),fromPartial(e){const t=createBaseFieldConfig_Group();return t.fields=e.fields?.map((e=>FormField.fromPartial(e)))||[],t}};function isSet$m(e){return null!=e}function createBaseForm(){return{fields:[],title:void 0,shortDescription:void 0,acceptLabel:void 0,cancelLabel:void 0,id:void 0}}messageTypeRegistry.set(FieldConfig_Group.$type,FieldConfig_Group);const Form={$type:"devvit.ui.form_builder.v1alpha.Form",encode(e,t=_m0.Writer.create()){for(const o of e.fields)FormField.encode(o,t.uint32(10).fork()).ldelim();return void 0!==e.title&&t.uint32(18).string(e.title),void 0!==e.shortDescription&&t.uint32(26).string(e.shortDescription),void 0!==e.acceptLabel&&t.uint32(34).string(e.acceptLabel),void 0!==e.cancelLabel&&t.uint32(42).string(e.cancelLabel),void 0!==e.id&&t.uint32(50).string(e.id),t},decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseForm();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.fields.push(FormField.decode(o,o.uint32()));continue;case 2:if(18!==e)break;n.title=o.string();continue;case 3:if(26!==e)break;n.shortDescription=o.string();continue;case 4:if(34!==e)break;n.acceptLabel=o.string();continue;case 5:if(42!==e)break;n.cancelLabel=o.string();continue;case 6:if(50!==e)break;n.id=o.string();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({fields:globalThis.Array.isArray(e?.fields)?e.fields.map((e=>FormField.fromJSON(e))):[],title:isSet$l(e.title)?globalThis.String(e.title):void 0,shortDescription:isSet$l(e.shortDescription)?globalThis.String(e.shortDescription):void 0,acceptLabel:isSet$l(e.acceptLabel)?globalThis.String(e.acceptLabel):void 0,cancelLabel:isSet$l(e.cancelLabel)?globalThis.String(e.cancelLabel):void 0,id:isSet$l(e.id)?globalThis.String(e.id):void 0}),toJSON(e){const t={};return e.fields?.length&&(t.fields=e.fields.map((e=>FormField.toJSON(e)))),void 0!==e.title&&(t.title=e.title),void 0!==e.shortDescription&&(t.shortDescription=e.shortDescription),void 0!==e.acceptLabel&&(t.acceptLabel=e.acceptLabel),void 0!==e.cancelLabel&&(t.cancelLabel=e.cancelLabel),void 0!==e.id&&(t.id=e.id),t},create:e=>Form.fromPartial(e??{}),fromPartial(e){const t=createBaseForm();return t.fields=e.fields?.map((e=>FormField.fromPartial(e)))||[],t.title=e.title??void 0,t.shortDescription=e.shortDescription??void 0,t.acceptLabel=e.acceptLabel??void 0,t.cancelLabel=e.cancelLabel??void 0,t.id=e.id??void 0,t}};function isSet$l(e){return null!=e}function createBaseShowFormEffect(){return{form:void 0}}messageTypeRegistry.set(Form.$type,Form);const ShowFormEffect={$type:"devvit.ui.effect_types.v1alpha.ShowFormEffect",encode:(e,t=_m0.Writer.create())=>(void 0!==e.form&&Form.encode(e.form,t.uint32(10).fork()).ldelim(),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseShowFormEffect();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.form=Form.decode(o,o.uint32());continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({form:isSet$k(e.form)?Form.fromJSON(e.form):void 0}),toJSON(e){const t={};return void 0!==e.form&&(t.form=Form.toJSON(e.form)),t},create:e=>ShowFormEffect.fromPartial(e??{}),fromPartial(e){const t=createBaseShowFormEffect();return t.form=void 0!==e.form&&null!==e.form?Form.fromPartial(e.form):void 0,t}};function createBaseFormSubmittedEvent(){return{results:{},formId:void 0}}messageTypeRegistry.set(ShowFormEffect.$type,ShowFormEffect);const FormSubmittedEvent={$type:"devvit.ui.effect_types.v1alpha.FormSubmittedEvent",encode:(e,t=_m0.Writer.create())=>(Object.entries(e.results).forEach((([e,o])=>{FormSubmittedEvent_ResultsEntry.encode({key:e,value:o},t.uint32(10).fork()).ldelim()})),void 0!==e.formId&&t.uint32(18).string(e.formId),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseFormSubmittedEvent();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;const t=FormSubmittedEvent_ResultsEntry.decode(o,o.uint32());void 0!==t.value&&(n.results[t.key]=t.value);continue;case 2:if(18!==e)break;n.formId=o.string();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({results:isObject$6(e.results)?Object.entries(e.results).reduce(((e,[t,o])=>(e[t]=FormFieldValue.fromJSON(o),e)),{}):{},formId:isSet$k(e.formId)?globalThis.String(e.formId):void 0}),toJSON(e){const t={};if(e.results){const o=Object.entries(e.results);o.length>0&&(t.results={},o.forEach((([e,o])=>{t.results[e]=FormFieldValue.toJSON(o)})))}return void 0!==e.formId&&(t.formId=e.formId),t},create:e=>FormSubmittedEvent.fromPartial(e??{}),fromPartial(e){const t=createBaseFormSubmittedEvent();return t.results=Object.entries(e.results??{}).reduce(((e,[t,o])=>(void 0!==o&&(e[t]=FormFieldValue.fromPartial(o)),e)),{}),t.formId=e.formId??void 0,t}};function createBaseFormSubmittedEvent_ResultsEntry(){return{key:"",value:void 0}}messageTypeRegistry.set(FormSubmittedEvent.$type,FormSubmittedEvent);const FormSubmittedEvent_ResultsEntry={$type:"devvit.ui.effect_types.v1alpha.FormSubmittedEvent.ResultsEntry",encode:(e,t=_m0.Writer.create())=>(""!==e.key&&t.uint32(10).string(e.key),void 0!==e.value&&FormFieldValue.encode(e.value,t.uint32(18).fork()).ldelim(),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseFormSubmittedEvent_ResultsEntry();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.key=o.string();continue;case 2:if(18!==e)break;n.value=FormFieldValue.decode(o,o.uint32());continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({key:isSet$k(e.key)?globalThis.String(e.key):"",value:isSet$k(e.value)?FormFieldValue.fromJSON(e.value):void 0}),toJSON(e){const t={};return""!==e.key&&(t.key=e.key),void 0!==e.value&&(t.value=FormFieldValue.toJSON(e.value)),t},create:e=>FormSubmittedEvent_ResultsEntry.fromPartial(e??{}),fromPartial(e){const t=createBaseFormSubmittedEvent_ResultsEntry();return t.key=e.key??"",t.value=void 0!==e.value&&null!==e.value?FormFieldValue.fromPartial(e.value):void 0,t}};function createBaseFormCanceledEvent(){return{formId:void 0}}messageTypeRegistry.set(FormSubmittedEvent_ResultsEntry.$type,FormSubmittedEvent_ResultsEntry);const FormCanceledEvent={$type:"devvit.ui.effect_types.v1alpha.FormCanceledEvent",encode:(e,t=_m0.Writer.create())=>(void 0!==e.formId&&t.uint32(10).string(e.formId),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseFormCanceledEvent();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.formId=o.string();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({formId:isSet$k(e.formId)?globalThis.String(e.formId):void 0}),toJSON(e){const t={};return void 0!==e.formId&&(t.formId=e.formId),t},create:e=>FormCanceledEvent.fromPartial(e??{}),fromPartial(e){const t=createBaseFormCanceledEvent();return t.formId=e.formId??void 0,t}};function isObject$6(e){return"object"==typeof e&&null!==e}function isSet$k(e){return null!=e}var ToastAppearance;function toastAppearanceFromJSON(e){switch(e){case 0:case"NEUTRAL":return ToastAppearance.NEUTRAL;case 1:case"SUCCESS":return ToastAppearance.SUCCESS;default:return ToastAppearance.UNRECOGNIZED}}function toastAppearanceToJSON(e){switch(e){case ToastAppearance.NEUTRAL:return 0;case ToastAppearance.SUCCESS:return 1;case ToastAppearance.UNRECOGNIZED:default:return-1}}function createBaseToastLeadingElement(){return{icon:void 0,emoji:void 0,avatar:void 0}}messageTypeRegistry.set(FormCanceledEvent.$type,FormCanceledEvent),function(e){e[e.NEUTRAL=0]="NEUTRAL",e[e.SUCCESS=1]="SUCCESS",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(ToastAppearance||(ToastAppearance={}));const ToastLeadingElement={$type:"devvit.ui.toast.ToastLeadingElement",encode:(e,t=_m0.Writer.create())=>(void 0!==e.icon&&t.uint32(10).string(e.icon),void 0!==e.emoji&&t.uint32(18).string(e.emoji),void 0!==e.avatar&&t.uint32(26).string(e.avatar),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseToastLeadingElement();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.icon=o.string();continue;case 2:if(18!==e)break;n.emoji=o.string();continue;case 3:if(26!==e)break;n.avatar=o.string();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({icon:isSet$j(e.icon)?globalThis.String(e.icon):void 0,emoji:isSet$j(e.emoji)?globalThis.String(e.emoji):void 0,avatar:isSet$j(e.avatar)?globalThis.String(e.avatar):void 0}),toJSON(e){const t={};return void 0!==e.icon&&(t.icon=e.icon),void 0!==e.emoji&&(t.emoji=e.emoji),void 0!==e.avatar&&(t.avatar=e.avatar),t},create:e=>ToastLeadingElement.fromPartial(e??{}),fromPartial(e){const t=createBaseToastLeadingElement();return t.icon=e.icon??void 0,t.emoji=e.emoji??void 0,t.avatar=e.avatar??void 0,t}};function createBaseToastTrailingElement(){return{label:void 0,icon:void 0}}messageTypeRegistry.set(ToastLeadingElement.$type,ToastLeadingElement);const ToastTrailingElement={$type:"devvit.ui.toast.ToastTrailingElement",encode:(e,t=_m0.Writer.create())=>(void 0!==e.label&&t.uint32(10).string(e.label),void 0!==e.icon&&t.uint32(18).string(e.icon),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseToastTrailingElement();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.label=o.string();continue;case 2:if(18!==e)break;n.icon=o.string();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({label:isSet$j(e.label)?globalThis.String(e.label):void 0,icon:isSet$j(e.icon)?globalThis.String(e.icon):void 0}),toJSON(e){const t={};return void 0!==e.label&&(t.label=e.label),void 0!==e.icon&&(t.icon=e.icon),t},create:e=>ToastTrailingElement.fromPartial(e??{}),fromPartial(e){const t=createBaseToastTrailingElement();return t.label=e.label??void 0,t.icon=e.icon??void 0,t}};function createBaseToast(){return{text:"",appearance:void 0,leadingElement:void 0,trailingElement:void 0}}messageTypeRegistry.set(ToastTrailingElement.$type,ToastTrailingElement);const Toast={$type:"devvit.ui.toast.Toast",encode:(e,t=_m0.Writer.create())=>(""!==e.text&&t.uint32(10).string(e.text),void 0!==e.appearance&&t.uint32(16).int32(e.appearance),void 0!==e.leadingElement&&ToastLeadingElement.encode(e.leadingElement,t.uint32(26).fork()).ldelim(),void 0!==e.trailingElement&&ToastTrailingElement.encode(e.trailingElement,t.uint32(34).fork()).ldelim(),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseToast();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.text=o.string();continue;case 2:if(16!==e)break;n.appearance=o.int32();continue;case 3:if(26!==e)break;n.leadingElement=ToastLeadingElement.decode(o,o.uint32());continue;case 4:if(34!==e)break;n.trailingElement=ToastTrailingElement.decode(o,o.uint32());continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({text:isSet$j(e.text)?globalThis.String(e.text):"",appearance:isSet$j(e.appearance)?toastAppearanceFromJSON(e.appearance):void 0,leadingElement:isSet$j(e.leadingElement)?ToastLeadingElement.fromJSON(e.leadingElement):void 0,trailingElement:isSet$j(e.trailingElement)?ToastTrailingElement.fromJSON(e.trailingElement):void 0}),toJSON(e){const t={};return""!==e.text&&(t.text=e.text),void 0!==e.appearance&&(t.appearance=toastAppearanceToJSON(e.appearance)),void 0!==e.leadingElement&&(t.leadingElement=ToastLeadingElement.toJSON(e.leadingElement)),void 0!==e.trailingElement&&(t.trailingElement=ToastTrailingElement.toJSON(e.trailingElement)),t},create:e=>Toast.fromPartial(e??{}),fromPartial(e){const t=createBaseToast();return t.text=e.text??"",t.appearance=e.appearance??void 0,t.leadingElement=void 0!==e.leadingElement&&null!==e.leadingElement?ToastLeadingElement.fromPartial(e.leadingElement):void 0,t.trailingElement=void 0!==e.trailingElement&&null!==e.trailingElement?ToastTrailingElement.fromPartial(e.trailingElement):void 0,t}};function isSet$j(e){return null!=e}function createBaseShowToastEffect(){return{toast:void 0}}messageTypeRegistry.set(Toast.$type,Toast);const ShowToastEffect={$type:"devvit.ui.effect_types.v1alpha.ShowToastEffect",encode:(e,t=_m0.Writer.create())=>(void 0!==e.toast&&Toast.encode(e.toast,t.uint32(10).fork()).ldelim(),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseShowToastEffect();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.toast=Toast.decode(o,o.uint32());continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({toast:isSet$i(e.toast)?Toast.fromJSON(e.toast):void 0}),toJSON(e){const t={};return void 0!==e.toast&&(t.toast=Toast.toJSON(e.toast)),t},create:e=>ShowToastEffect.fromPartial(e??{}),fromPartial(e){const t=createBaseShowToastEffect();return t.toast=void 0!==e.toast&&null!==e.toast?Toast.fromPartial(e.toast):void 0,t}};function createBaseToastActionEvent(){return{}}messageTypeRegistry.set(ShowToastEffect.$type,ShowToastEffect);const ToastActionEvent={$type:"devvit.ui.effect_types.v1alpha.ToastActionEvent",encode:(e,t=_m0.Writer.create())=>t,decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseToastActionEvent();for(;o.pos<r;){const e=o.uint32();if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({}),toJSON:e=>({}),create:e=>ToastActionEvent.fromPartial(e??{}),fromPartial:e=>createBaseToastActionEvent()};function isSet$i(e){return null!=e}function createBaseWebViewFullScreenVisibilityEffect(){return{show:!1,url:"",id:""}}messageTypeRegistry.set(ToastActionEvent.$type,ToastActionEvent);const WebViewFullScreenVisibilityEffect={$type:"devvit.ui.effects.web_view.v1alpha.WebViewFullScreenVisibilityEffect",encode:(e,t=_m0.Writer.create())=>(!1!==e.show&&t.uint32(8).bool(e.show),""!==e.url&&t.uint32(18).string(e.url),""!==e.id&&t.uint32(26).string(e.id),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseWebViewFullScreenVisibilityEffect();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(8!==e)break;n.show=o.bool();continue;case 2:if(18!==e)break;n.url=o.string();continue;case 3:if(26!==e)break;n.id=o.string();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({show:!!isSet$h(e.show)&&globalThis.Boolean(e.show),url:isSet$h(e.url)?globalThis.String(e.url):"",id:isSet$h(e.id)?globalThis.String(e.id):""}),toJSON(e){const t={};return!1!==e.show&&(t.show=e.show),""!==e.url&&(t.url=e.url),""!==e.id&&(t.id=e.id),t},create:e=>WebViewFullScreenVisibilityEffect.fromPartial(e??{}),fromPartial(e){const t=createBaseWebViewFullScreenVisibilityEffect();return t.show=e.show??!1,t.url=e.url??"",t.id=e.id??"",t}};function isSet$h(e){return null!=e}function createBaseRealtimeRequest(){return{channels:[]}}messageTypeRegistry.set(WebViewFullScreenVisibilityEffect.$type,WebViewFullScreenVisibilityEffect);const RealtimeRequest={$type:"devvit.events.v1alpha.RealtimeRequest",encode(e,t=_m0.Writer.create()){for(const o of e.channels)t.uint32(10).string(o);return t},decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseRealtimeRequest();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.channels.push(o.string());continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({channels:globalThis.Array.isArray(e?.channels)?e.channels.map((e=>globalThis.String(e))):[]}),toJSON(e){const t={};return e.channels?.length&&(t.channels=e.channels),t},create:e=>RealtimeRequest.fromPartial(e??{}),fromPartial(e){const t=createBaseRealtimeRequest();return t.channels=e.channels?.map((e=>e))||[],t}};function createBaseRealtimeEvent(){return{channel:"",data:void 0}}messageTypeRegistry.set(RealtimeRequest.$type,RealtimeRequest);const RealtimeEvent={$type:"devvit.events.v1alpha.RealtimeEvent",encode:(e,t=_m0.Writer.create())=>(""!==e.channel&&t.uint32(10).string(e.channel),void 0!==e.data&&Struct.encode(Struct.wrap(e.data),t.uint32(18).fork()).ldelim(),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseRealtimeEvent();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.channel=o.string();continue;case 2:if(18!==e)break;n.data=Struct.unwrap(Struct.decode(o,o.uint32()));continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({channel:isSet$g(e.channel)?globalThis.String(e.channel):"",data:isObject$5(e.data)?e.data:void 0}),toJSON(e){const t={};return""!==e.channel&&(t.channel=e.channel),void 0!==e.data&&(t.data=e.data),t},create:e=>RealtimeEvent.fromPartial(e??{}),fromPartial(e){const t=createBaseRealtimeEvent();return t.channel=e.channel??"",t.data=e.data??void 0,t}};messageTypeRegistry.set(RealtimeEvent.$type,RealtimeEvent);const RealtimeDefinition={name:"Realtime",fullName:"devvit.events.v1alpha.Realtime",methods:{subscribe:{name:"Subscribe",requestType:RealtimeRequest,requestStream:!1,responseType:RealtimeEvent,responseStream:!0,options:{}},send:{name:"Send",requestType:RealtimeEvent,requestStream:!1,responseType:Empty,responseStream:!1,options:{}}}};function isObject$5(e){return"object"==typeof e&&null!==e}function isSet$g(e){return null!=e}var RealtimeSubscriptionStatus$1;function realtimeSubscriptionStatusFromJSON$1(e){switch(e){case 0:case"REALTIME_SUBSCRIBED":return RealtimeSubscriptionStatus$1.REALTIME_SUBSCRIBED;case 1:case"REALTIME_UNSUBSCRIBED":return RealtimeSubscriptionStatus$1.REALTIME_UNSUBSCRIBED;default:return RealtimeSubscriptionStatus$1.UNRECOGNIZED}}function realtimeSubscriptionStatusToJSON$1(e){switch(e){case RealtimeSubscriptionStatus$1.REALTIME_SUBSCRIBED:return 0;case RealtimeSubscriptionStatus$1.REALTIME_UNSUBSCRIBED:return 1;case RealtimeSubscriptionStatus$1.UNRECOGNIZED:default:return-1}}function createBaseRealtimeSubscriptionsEffect$1(){return{subscriptionIds:[]}}!function(e){e[e.REALTIME_SUBSCRIBED=0]="REALTIME_SUBSCRIBED",e[e.REALTIME_UNSUBSCRIBED=1]="REALTIME_UNSUBSCRIBED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(RealtimeSubscriptionStatus$1||(RealtimeSubscriptionStatus$1={}));const RealtimeSubscriptionsEffect$1={$type:"devvit.ui.effect_types.v1alpha.RealtimeSubscriptionsEffect",encode(e,t=_m0.Writer.create()){for(const o of e.subscriptionIds)t.uint32(10).string(o);return t},decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseRealtimeSubscriptionsEffect$1();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.subscriptionIds.push(o.string());continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({subscriptionIds:globalThis.Array.isArray(e?.subscriptionIds)?e.subscriptionIds.map((e=>globalThis.String(e))):[]}),toJSON(e){const t={};return e.subscriptionIds?.length&&(t.subscriptionIds=e.subscriptionIds),t},create:e=>RealtimeSubscriptionsEffect$1.fromPartial(e??{}),fromPartial(e){const t=createBaseRealtimeSubscriptionsEffect$1();return t.subscriptionIds=e.subscriptionIds?.map((e=>e))||[],t}};function createBaseRealtimeSubscriptionEvent$1(){return{event:void 0,status:void 0}}messageTypeRegistry.set(RealtimeSubscriptionsEffect$1.$type,RealtimeSubscriptionsEffect$1);const RealtimeSubscriptionEvent$1={$type:"devvit.ui.effect_types.v1alpha.RealtimeSubscriptionEvent",encode:(e,t=_m0.Writer.create())=>(void 0!==e.event&&RealtimeEvent.encode(e.event,t.uint32(10).fork()).ldelim(),void 0!==e.status&&t.uint32(16).int32(e.status),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseRealtimeSubscriptionEvent$1();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.event=RealtimeEvent.decode(o,o.uint32());continue;case 2:if(16!==e)break;n.status=o.int32();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({event:isSet$f(e.event)?RealtimeEvent.fromJSON(e.event):void 0,status:isSet$f(e.status)?realtimeSubscriptionStatusFromJSON$1(e.status):void 0}),toJSON(e){const t={};return void 0!==e.event&&(t.event=RealtimeEvent.toJSON(e.event)),void 0!==e.status&&(t.status=realtimeSubscriptionStatusToJSON$1(e.status)),t},create:e=>RealtimeSubscriptionEvent$1.fromPartial(e??{}),fromPartial(e){const t=createBaseRealtimeSubscriptionEvent$1();return t.event=void 0!==e.event&&null!==e.event?RealtimeEvent.fromPartial(e.event):void 0,t.status=e.status??void 0,t}};function isSet$f(e){return null!=e}var WebViewImmersiveMode;function webViewImmersiveModeFromJSON(e){switch(e){case 0:case"UNSPECIFIED":return WebViewImmersiveMode.UNSPECIFIED;case 1:case"INLINE_MODE":return WebViewImmersiveMode.INLINE_MODE;case 2:case"IMMERSIVE_MODE":return WebViewImmersiveMode.IMMERSIVE_MODE;default:return WebViewImmersiveMode.UNRECOGNIZED}}function webViewImmersiveModeToJSON(e){switch(e){case WebViewImmersiveMode.UNSPECIFIED:return 0;case WebViewImmersiveMode.INLINE_MODE:return 1;case WebViewImmersiveMode.IMMERSIVE_MODE:return 2;case WebViewImmersiveMode.UNRECOGNIZED:default:return-1}}function createBaseWebViewImmersiveModeEffect(){return{immersiveMode:0,entryUrl:void 0}}messageTypeRegistry.set(RealtimeSubscriptionEvent$1.$type,RealtimeSubscriptionEvent$1),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.INLINE_MODE=1]="INLINE_MODE",e[e.IMMERSIVE_MODE=2]="IMMERSIVE_MODE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(WebViewImmersiveMode||(WebViewImmersiveMode={}));const WebViewImmersiveModeEffect={$type:"devvit.ui.effects.web_view.v1alpha.WebViewImmersiveModeEffect",encode:(e,t=_m0.Writer.create())=>(0!==e.immersiveMode&&t.uint32(8).int32(e.immersiveMode),void 0!==e.entryUrl&&t.uint32(18).string(e.entryUrl),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseWebViewImmersiveModeEffect();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(8!==e)break;n.immersiveMode=o.int32();continue;case 2:if(18!==e)break;n.entryUrl=o.string();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({immersiveMode:isSet$e(e.immersiveMode)?webViewImmersiveModeFromJSON(e.immersiveMode):0,entryUrl:isSet$e(e.entryUrl)?globalThis.String(e.entryUrl):void 0}),toJSON(e){const t={};return 0!==e.immersiveMode&&(t.immersiveMode=webViewImmersiveModeToJSON(e.immersiveMode)),void 0!==e.entryUrl&&(t.entryUrl=e.entryUrl),t},create:e=>WebViewImmersiveModeEffect.fromPartial(e??{}),fromPartial(e){const t=createBaseWebViewImmersiveModeEffect();return t.immersiveMode=e.immersiveMode??0,t.entryUrl=e.entryUrl??void 0,t}};function isSet$e(e){return null!=e}function createBaseWebViewShareEffect(){return{userData:void 0,title:void 0,text:void 0,appIconUri:void 0}}messageTypeRegistry.set(WebViewImmersiveModeEffect.$type,WebViewImmersiveModeEffect);const WebViewShareEffect={$type:"devvit.ui.effects.web_view.v1alpha.WebViewShareEffect",encode:(e,t=_m0.Writer.create())=>(void 0!==e.userData&&t.uint32(10).string(e.userData),void 0!==e.title&&t.uint32(18).string(e.title),void 0!==e.text&&t.uint32(26).string(e.text),void 0!==e.appIconUri&&t.uint32(34).string(e.appIconUri),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseWebViewShareEffect();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.userData=o.string();continue;case 2:if(18!==e)break;n.title=o.string();continue;case 3:if(26!==e)break;n.text=o.string();continue;case 4:if(34!==e)break;n.appIconUri=o.string();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({userData:isSet$d(e.userData)?globalThis.String(e.userData):void 0,title:isSet$d(e.title)?globalThis.String(e.title):void 0,text:isSet$d(e.text)?globalThis.String(e.text):void 0,appIconUri:isSet$d(e.appIconUri)?globalThis.String(e.appIconUri):void 0}),toJSON(e){const t={};return void 0!==e.userData&&(t.userData=e.userData),void 0!==e.title&&(t.title=e.title),void 0!==e.text&&(t.text=e.text),void 0!==e.appIconUri&&(t.appIconUri=e.appIconUri),t},create:e=>WebViewShareEffect.fromPartial(e??{}),fromPartial(e){const t=createBaseWebViewShareEffect();return t.userData=e.userData??void 0,t.title=e.title??void 0,t.text=e.text??void 0,t.appIconUri=e.appIconUri??void 0,t}};function isSet$d(e){return null!=e}function createBaseWebViewTelemetryEffect(){return{event:void 0,click:void 0,loaded:void 0,metrics:void 0}}messageTypeRegistry.set(WebViewShareEffect.$type,WebViewShareEffect);const WebViewTelemetryEffect={$type:"devvit.ui.effects.web_view.v1alpha.WebViewTelemetryEffect",encode:(e,t=_m0.Writer.create())=>(void 0!==e.event&&t.uint32(10).string(e.event),void 0!==e.click&&WebViewTelemetryClickEffect.encode(e.click,t.uint32(18).fork()).ldelim(),void 0!==e.loaded&&WebViewTelemetryLoadedEffect.encode(e.loaded,t.uint32(26).fork()).ldelim(),void 0!==e.metrics&&WebViewTelemetryMetricsEffect.encode(e.metrics,t.uint32(34).fork()).ldelim(),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseWebViewTelemetryEffect();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.event=o.string();continue;case 2:if(18!==e)break;n.click=WebViewTelemetryClickEffect.decode(o,o.uint32());continue;case 3:if(26!==e)break;n.loaded=WebViewTelemetryLoadedEffect.decode(o,o.uint32());continue;case 4:if(34!==e)break;n.metrics=WebViewTelemetryMetricsEffect.decode(o,o.uint32());continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({event:isSet$c(e.event)?globalThis.String(e.event):void 0,click:isSet$c(e.click)?WebViewTelemetryClickEffect.fromJSON(e.click):void 0,loaded:isSet$c(e.loaded)?WebViewTelemetryLoadedEffect.fromJSON(e.loaded):void 0,metrics:isSet$c(e.metrics)?WebViewTelemetryMetricsEffect.fromJSON(e.metrics):void 0}),toJSON(e){const t={};return void 0!==e.event&&(t.event=e.event),void 0!==e.click&&(t.click=WebViewTelemetryClickEffect.toJSON(e.click)),void 0!==e.loaded&&(t.loaded=WebViewTelemetryLoadedEffect.toJSON(e.loaded)),void 0!==e.metrics&&(t.metrics=WebViewTelemetryMetricsEffect.toJSON(e.metrics)),t},create:e=>WebViewTelemetryEffect.fromPartial(e??{}),fromPartial(e){const t=createBaseWebViewTelemetryEffect();return t.event=e.event??void 0,t.click=void 0!==e.click&&null!==e.click?WebViewTelemetryClickEffect.fromPartial(e.click):void 0,t.loaded=void 0!==e.loaded&&null!==e.loaded?WebViewTelemetryLoadedEffect.fromPartial(e.loaded):void 0,t.metrics=void 0!==e.metrics&&null!==e.metrics?WebViewTelemetryMetricsEffect.fromPartial(e.metrics):void 0,t}};function createBaseWebViewTelemetryClickEffect(){return{event:"",definition:""}}messageTypeRegistry.set(WebViewTelemetryEffect.$type,WebViewTelemetryEffect);const WebViewTelemetryClickEffect={$type:"devvit.ui.effects.web_view.v1alpha.WebViewTelemetryClickEffect",encode:(e,t=_m0.Writer.create())=>(""!==e.event&&t.uint32(10).string(e.event),""!==e.definition&&t.uint32(18).string(e.definition),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseWebViewTelemetryClickEffect();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.event=o.string();continue;case 2:if(18!==e)break;n.definition=o.string();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({event:isSet$c(e.event)?globalThis.String(e.event):"",definition:isSet$c(e.definition)?globalThis.String(e.definition):""}),toJSON(e){const t={};return""!==e.event&&(t.event=e.event),""!==e.definition&&(t.definition=e.definition),t},create:e=>WebViewTelemetryClickEffect.fromPartial(e??{}),fromPartial(e){const t=createBaseWebViewTelemetryClickEffect();return t.event=e.event??"",t.definition=e.definition??"",t}};function createBaseWebViewTelemetryLoadedEffect(){return{event:"",timeStart:0,timeEnd:0,duration:0}}messageTypeRegistry.set(WebViewTelemetryClickEffect.$type,WebViewTelemetryClickEffect);const WebViewTelemetryLoadedEffect={$type:"devvit.ui.effects.web_view.v1alpha.WebViewTelemetryLoadedEffect",encode:(e,t=_m0.Writer.create())=>(""!==e.event&&t.uint32(10).string(e.event),0!==e.timeStart&&t.uint32(17).double(e.timeStart),0!==e.timeEnd&&t.uint32(25).double(e.timeEnd),0!==e.duration&&t.uint32(33).double(e.duration),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseWebViewTelemetryLoadedEffect();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.event=o.string();continue;case 2:if(17!==e)break;n.timeStart=o.double();continue;case 3:if(25!==e)break;n.timeEnd=o.double();continue;case 4:if(33!==e)break;n.duration=o.double();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({event:isSet$c(e.event)?globalThis.String(e.event):"",timeStart:isSet$c(e.timeStart)?globalThis.Number(e.timeStart):0,timeEnd:isSet$c(e.timeEnd)?globalThis.Number(e.timeEnd):0,duration:isSet$c(e.duration)?globalThis.Number(e.duration):0}),toJSON(e){const t={};return""!==e.event&&(t.event=e.event),0!==e.timeStart&&(t.timeStart=e.timeStart),0!==e.timeEnd&&(t.timeEnd=e.timeEnd),0!==e.duration&&(t.duration=e.duration),t},create:e=>WebViewTelemetryLoadedEffect.fromPartial(e??{}),fromPartial(e){const t=createBaseWebViewTelemetryLoadedEffect();return t.event=e.event??"",t.timeStart=e.timeStart??0,t.timeEnd=e.timeEnd??0,t.duration=e.duration??0,t}};function createBaseWebViewTelemetryMetric(){return{spanName:"",timeStart:0,timeEnd:0}}messageTypeRegistry.set(WebViewTelemetryLoadedEffect.$type,WebViewTelemetryLoadedEffect);const WebViewTelemetryMetric={$type:"devvit.ui.effects.web_view.v1alpha.WebViewTelemetryMetric",encode:(e,t=_m0.Writer.create())=>(""!==e.spanName&&t.uint32(10).string(e.spanName),0!==e.timeStart&&t.uint32(17).double(e.timeStart),0!==e.timeEnd&&t.uint32(25).double(e.timeEnd),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseWebViewTelemetryMetric();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.spanName=o.string();continue;case 2:if(17!==e)break;n.timeStart=o.double();continue;case 3:if(25!==e)break;n.timeEnd=o.double();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({spanName:isSet$c(e.spanName)?globalThis.String(e.spanName):"",timeStart:isSet$c(e.timeStart)?globalThis.Number(e.timeStart):0,timeEnd:isSet$c(e.timeEnd)?globalThis.Number(e.timeEnd):0}),toJSON(e){const t={};return""!==e.spanName&&(t.spanName=e.spanName),0!==e.timeStart&&(t.timeStart=e.timeStart),0!==e.timeEnd&&(t.timeEnd=e.timeEnd),t},create:e=>WebViewTelemetryMetric.fromPartial(e??{}),fromPartial(e){const t=createBaseWebViewTelemetryMetric();return t.spanName=e.spanName??"",t.timeStart=e.timeStart??0,t.timeEnd=e.timeEnd??0,t}};function createBaseWebViewTelemetryMetricsEffect(){return{metrics:[]}}messageTypeRegistry.set(WebViewTelemetryMetric.$type,WebViewTelemetryMetric);const WebViewTelemetryMetricsEffect={$type:"devvit.ui.effects.web_view.v1alpha.WebViewTelemetryMetricsEffect",encode(e,t=_m0.Writer.create()){for(const o of e.metrics)WebViewTelemetryMetric.encode(o,t.uint32(10).fork()).ldelim();return t},decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseWebViewTelemetryMetricsEffect();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.metrics.push(WebViewTelemetryMetric.decode(o,o.uint32()));continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({metrics:globalThis.Array.isArray(e?.metrics)?e.metrics.map((e=>WebViewTelemetryMetric.fromJSON(e))):[]}),toJSON(e){const t={};return e.metrics?.length&&(t.metrics=e.metrics.map((e=>WebViewTelemetryMetric.toJSON(e)))),t},create:e=>WebViewTelemetryMetricsEffect.fromPartial(e??{}),fromPartial(e){const t=createBaseWebViewTelemetryMetricsEffect();return t.metrics=e.metrics?.map((e=>WebViewTelemetryMetric.fromPartial(e)))||[],t}};function isSet$c(e){return null!=e}var WebViewInternalMessageScope$1;function webViewInternalMessageScopeFromJSON(e){switch(e){case 0:case"CLIENT":return WebViewInternalMessageScope$1.CLIENT;default:return WebViewInternalMessageScope$1.UNRECOGNIZED}}function webViewInternalMessageScopeToJSON(e){switch(e){case WebViewInternalMessageScope$1.CLIENT:return 0;case WebViewInternalMessageScope$1.UNRECOGNIZED:default:return-1}}function createBaseWebViewInternalMessage(){return{type:"",scope:0,analytics:void 0,effect:void 0,realtimeEffect:void 0,immersiveMode:void 0,share:void 0,showToast:void 0,navigateToUrl:void 0,showForm:void 0,createOrder:void 0,realtime:void 0,canRunAsUser:void 0,telemetry:void 0,id:void 0}}messageTypeRegistry.set(WebViewTelemetryMetricsEffect.$type,WebViewTelemetryMetricsEffect),function(e){e[e.CLIENT=0]="CLIENT",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(WebViewInternalMessageScope$1||(WebViewInternalMessageScope$1={}));const WebViewInternalMessage={$type:"devvit.ui.effects.web_view.v1alpha.WebViewInternalMessage",encode:(e,t=_m0.Writer.create())=>(""!==e.type&&t.uint32(10).string(e.type),0!==e.scope&&t.uint32(16).int32(e.scope),void 0!==e.analytics&&Struct.encode(Struct.wrap(e.analytics),t.uint32(26).fork()).ldelim(),void 0!==e.effect&&Struct.encode(Struct.wrap(e.effect),t.uint32(34).fork()).ldelim(),void 0!==e.realtimeEffect&&RealtimeSubscriptionsEffect$1.encode(e.realtimeEffect,t.uint32(50).fork()).ldelim(),void 0!==e.immersiveMode&&WebViewImmersiveModeEffect.encode(e.immersiveMode,t.uint32(58).fork()).ldelim(),void 0!==e.share&&WebViewShareEffect.encode(e.share,t.uint32(66).fork()).ldelim(),void 0!==e.showToast&&ShowToastEffect.encode(e.showToast,t.uint32(74).fork()).ldelim(),void 0!==e.navigateToUrl&&NavigateToUrlEffect.encode(e.navigateToUrl,t.uint32(82).fork()).ldelim(),void 0!==e.showForm&&ShowFormEffect.encode(e.showForm,t.uint32(90).fork()).ldelim(),void 0!==e.createOrder&&CreateOrderEffect.encode(e.createOrder,t.uint32(98).fork()).ldelim(),void 0!==e.realtime&&RealtimeSubscriptionsEffect$1.encode(e.realtime,t.uint32(106).fork()).ldelim(),void 0!==e.canRunAsUser&&CanRunAsUserEffect.encode(e.canRunAsUser,t.uint32(114).fork()).ldelim(),void 0!==e.telemetry&&WebViewTelemetryEffect.encode(e.telemetry,t.uint32(122).fork()).ldelim(),void 0!==e.id&&t.uint32(42).string(e.id),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseWebViewInternalMessage();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.type=o.string();continue;case 2:if(16!==e)break;n.scope=o.int32();continue;case 3:if(26!==e)break;n.analytics=Struct.unwrap(Struct.decode(o,o.uint32()));continue;case 4:if(34!==e)break;n.effect=Struct.unwrap(Struct.decode(o,o.uint32()));continue;case 6:if(50!==e)break;n.realtimeEffect=RealtimeSubscriptionsEffect$1.decode(o,o.uint32());continue;case 7:if(58!==e)break;n.immersiveMode=WebViewImmersiveModeEffect.decode(o,o.uint32());continue;case 8:if(66!==e)break;n.share=WebViewShareEffect.decode(o,o.uint32());continue;case 9:if(74!==e)break;n.showToast=ShowToastEffect.decode(o,o.uint32());continue;case 10:if(82!==e)break;n.navigateToUrl=NavigateToUrlEffect.decode(o,o.uint32());continue;case 11:if(90!==e)break;n.showForm=ShowFormEffect.decode(o,o.uint32());continue;case 12:if(98!==e)break;n.createOrder=CreateOrderEffect.decode(o,o.uint32());continue;case 13:if(106!==e)break;n.realtime=RealtimeSubscriptionsEffect$1.decode(o,o.uint32());continue;case 14:if(114!==e)break;n.canRunAsUser=CanRunAsUserEffect.decode(o,o.uint32());continue;case 15:if(122!==e)break;n.telemetry=WebViewTelemetryEffect.decode(o,o.uint32());continue;case 5:if(42!==e)break;n.id=o.string();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({type:isSet$b(e.type)?globalThis.String(e.type):"",scope:isSet$b(e.scope)?webViewInternalMessageScopeFromJSON(e.scope):0,analytics:isObject$4(e.analytics)?e.analytics:void 0,effect:isObject$4(e.effect)?e.effect:void 0,realtimeEffect:isSet$b(e.realtimeEffect)?RealtimeSubscriptionsEffect$1.fromJSON(e.realtimeEffect):void 0,immersiveMode:isSet$b(e.immersiveMode)?WebViewImmersiveModeEffect.fromJSON(e.immersiveMode):void 0,share:isSet$b(e.share)?WebViewShareEffect.fromJSON(e.share):void 0,showToast:isSet$b(e.showToast)?ShowToastEffect.fromJSON(e.showToast):void 0,navigateToUrl:isSet$b(e.navigateToUrl)?NavigateToUrlEffect.fromJSON(e.navigateToUrl):void 0,showForm:isSet$b(e.showForm)?ShowFormEffect.fromJSON(e.showForm):void 0,createOrder:isSet$b(e.createOrder)?CreateOrderEffect.fromJSON(e.createOrder):void 0,realtime:isSet$b(e.realtime)?RealtimeSubscriptionsEffect$1.fromJSON(e.realtime):void 0,canRunAsUser:isSet$b(e.canRunAsUser)?CanRunAsUserEffect.fromJSON(e.canRunAsUser):void 0,telemetry:isSet$b(e.telemetry)?WebViewTelemetryEffect.fromJSON(e.telemetry):void 0,id:isSet$b(e.id)?globalThis.String(e.id):void 0}),toJSON(e){const t={};return""!==e.type&&(t.type=e.type),0!==e.scope&&(t.scope=webViewInternalMessageScopeToJSON(e.scope)),void 0!==e.analytics&&(t.analytics=e.analytics),void 0!==e.effect&&(t.effect=e.effect),void 0!==e.realtimeEffect&&(t.realtimeEffect=RealtimeSubscriptionsEffect$1.toJSON(e.realtimeEffect)),void 0!==e.immersiveMode&&(t.immersiveMode=WebViewImmersiveModeEffect.toJSON(e.immersiveMode)),void 0!==e.share&&(t.share=WebViewShareEffect.toJSON(e.share)),void 0!==e.showToast&&(t.showToast=ShowToastEffect.toJSON(e.showToast)),void 0!==e.navigateToUrl&&(t.navigateToUrl=NavigateToUrlEffect.toJSON(e.navigateToUrl)),void 0!==e.showForm&&(t.showForm=ShowFormEffect.toJSON(e.showForm)),void 0!==e.createOrder&&(t.createOrder=CreateOrderEffect.toJSON(e.createOrder)),void 0!==e.realtime&&(t.realtime=RealtimeSubscriptionsEffect$1.toJSON(e.realtime)),void 0!==e.canRunAsUser&&(t.canRunAsUser=CanRunAsUserEffect.toJSON(e.canRunAsUser)),void 0!==e.telemetry&&(t.telemetry=WebViewTelemetryEffect.toJSON(e.telemetry)),void 0!==e.id&&(t.id=e.id),t},create:e=>WebViewInternalMessage.fromPartial(e??{}),fromPartial(e){const t=createBaseWebViewInternalMessage();return t.type=e.type??"",t.scope=e.scope??0,t.analytics=e.analytics??void 0,t.effect=e.effect??void 0,t.realtimeEffect=void 0!==e.realtimeEffect&&null!==e.realtimeEffect?RealtimeSubscriptionsEffect$1.fromPartial(e.realtimeEffect):void 0,t.immersiveMode=void 0!==e.immersiveMode&&null!==e.immersiveMode?WebViewImmersiveModeEffect.fromPartial(e.immersiveMode):void 0,t.share=void 0!==e.share&&null!==e.share?WebViewShareEffect.fromPartial(e.share):void 0,t.showToast=void 0!==e.showToast&&null!==e.showToast?ShowToastEffect.fromPartial(e.showToast):void 0,t.navigateToUrl=void 0!==e.navigateToUrl&&null!==e.navigateToUrl?NavigateToUrlEffect.fromPartial(e.navigateToUrl):void 0,t.showForm=void 0!==e.showForm&&null!==e.showForm?ShowFormEffect.fromPartial(e.showForm):void 0,t.createOrder=void 0!==e.createOrder&&null!==e.createOrder?CreateOrderEffect.fromPartial(e.createOrder):void 0,t.realtime=void 0!==e.realtime&&null!==e.realtime?RealtimeSubscriptionsEffect$1.fromPartial(e.realtime):void 0,t.canRunAsUser=void 0!==e.canRunAsUser&&null!==e.canRunAsUser?CanRunAsUserEffect.fromPartial(e.canRunAsUser):void 0,t.telemetry=void 0!==e.telemetry&&null!==e.telemetry?WebViewTelemetryEffect.fromPartial(e.telemetry):void 0,t.id=e.id??void 0,t}};function createBaseWebViewPostMessage(){return{type:"",data:void 0}}messageTypeRegistry.set(WebViewInternalMessage.$type,WebViewInternalMessage);const WebViewPostMessage={$type:"devvit.ui.effects.web_view.v1alpha.WebViewPostMessage",encode:(e,t=_m0.Writer.create())=>(""!==e.type&&t.uint32(10).string(e.type),void 0!==e.data&&Struct.encode(Struct.wrap(e.data),t.uint32(18).fork()).ldelim(),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseWebViewPostMessage();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.type=o.string();continue;case 2:if(18!==e)break;n.data=Struct.unwrap(Struct.decode(o,o.uint32()));continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({type:isSet$b(e.type)?globalThis.String(e.type):"",data:isObject$4(e.data)?e.data:void 0}),toJSON(e){const t={};return""!==e.type&&(t.type=e.type),void 0!==e.data&&(t.data=e.data),t},create:e=>WebViewPostMessage.fromPartial(e??{}),fromPartial(e){const t=createBaseWebViewPostMessage();return t.type=e.type??"",t.data=e.data??void 0,t}};function createBaseWebViewAppMessage(){return{message:void 0,jsonString:void 0}}messageTypeRegistry.set(WebViewPostMessage.$type,WebViewPostMessage);const WebViewAppMessage={$type:"devvit.ui.effects.web_view.v1alpha.WebViewAppMessage",encode:(e,t=_m0.Writer.create())=>(void 0!==e.message&&Value.encode(Value.wrap(e.message),t.uint32(10).fork()).ldelim(),void 0!==e.jsonString&&t.uint32(18).string(e.jsonString),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseWebViewAppMessage();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.message=Value.unwrap(Value.decode(o,o.uint32()));continue;case 2:if(18!==e)break;n.jsonString=o.string();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({message:isSet$b(e?.message)?e.message:void 0,jsonString:isSet$b(e.jsonString)?globalThis.String(e.jsonString):void 0}),toJSON(e){const t={};return void 0!==e.message&&(t.message=e.message),void 0!==e.jsonString&&(t.jsonString=e.jsonString),t},create:e=>WebViewAppMessage.fromPartial(e??{}),fromPartial(e){const t=createBaseWebViewAppMessage();return t.message=e.message??void 0,t.jsonString=e.jsonString??void 0,t}};function createBaseWebViewStateMessage(){return{state:void 0}}messageTypeRegistry.set(WebViewAppMessage.$type,WebViewAppMessage);const WebViewStateMessage={$type:"devvit.ui.effects.web_view.v1alpha.WebViewStateMessage",encode:(e,t=_m0.Writer.create())=>(void 0!==e.state&&Struct.encode(Struct.wrap(e.state),t.uint32(10).fork()).ldelim(),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseWebViewStateMessage();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.state=Struct.unwrap(Struct.decode(o,o.uint32()));continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({state:isObject$4(e.state)?e.state:void 0}),toJSON(e){const t={};return void 0!==e.state&&(t.state=e.state),t},create:e=>WebViewStateMessage.fromPartial(e??{}),fromPartial(e){const t=createBaseWebViewStateMessage();return t.state=e.state??void 0,t}};function createBaseWebViewPostMessageEffect(){return{webViewId:"",app:void 0,state:void 0}}messageTypeRegistry.set(WebViewStateMessage.$type,WebViewStateMessage);const WebViewPostMessageEffect={$type:"devvit.ui.effects.web_view.v1alpha.WebViewPostMessageEffect",encode:(e,t=_m0.Writer.create())=>(""!==e.webViewId&&t.uint32(10).string(e.webViewId),void 0!==e.app&&WebViewAppMessage.encode(e.app,t.uint32(18).fork()).ldelim(),void 0!==e.state&&WebViewStateMessage.encode(e.state,t.uint32(26).fork()).ldelim(),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseWebViewPostMessageEffect();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.webViewId=o.string();continue;case 2:if(18!==e)break;n.app=WebViewAppMessage.decode(o,o.uint32());continue;case 3:if(26!==e)break;n.state=WebViewStateMessage.decode(o,o.uint32());continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({webViewId:isSet$b(e.webViewId)?globalThis.String(e.webViewId):"",app:isSet$b(e.app)?WebViewAppMessage.fromJSON(e.app):void 0,state:isSet$b(e.state)?WebViewStateMessage.fromJSON(e.state):void 0}),toJSON(e){const t={};return""!==e.webViewId&&(t.webViewId=e.webViewId),void 0!==e.app&&(t.app=WebViewAppMessage.toJSON(e.app)),void 0!==e.state&&(t.state=WebViewStateMessage.toJSON(e.state)),t},create:e=>WebViewPostMessageEffect.fromPartial(e??{}),fromPartial(e){const t=createBaseWebViewPostMessageEffect();return t.webViewId=e.webViewId??"",t.app=void 0!==e.app&&null!==e.app?WebViewAppMessage.fromPartial(e.app):void 0,t.state=void 0!==e.state&&null!==e.state?WebViewStateMessage.fromPartial(e.state):void 0,t}};function isObject$4(e){return"object"==typeof e&&null!==e}function isSet$b(e){return null!=e}function createBaseWebViewEffect(){return{postMessage:void 0,fullscreen:void 0}}messageTypeRegistry.set(WebViewPostMessageEffect.$type,WebViewPostMessageEffect);const WebViewEffect={$type:"devvit.ui.effects.web_view.v1alpha.WebViewEffect",encode:(e,t=_m0.Writer.create())=>(void 0!==e.postMessage&&WebViewPostMessageEffect.encode(e.postMessage,t.uint32(10).fork()).ldelim(),void 0!==e.fullscreen&&WebViewFullScreenVisibilityEffect.encode(e.fullscreen,t.uint32(18).fork()).ldelim(),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseWebViewEffect();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.postMessage=WebViewPostMessageEffect.decode(o,o.uint32());continue;case 2:if(18!==e)break;n.fullscreen=WebViewFullScreenVisibilityEffect.decode(o,o.uint32());continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({postMessage:isSet$a(e.postMessage)?WebViewPostMessageEffect.fromJSON(e.postMessage):void 0,fullscreen:isSet$a(e.fullscreen)?WebViewFullScreenVisibilityEffect.fromJSON(e.fullscreen):void 0}),toJSON(e){const t={};return void 0!==e.postMessage&&(t.postMessage=WebViewPostMessageEffect.toJSON(e.postMessage)),void 0!==e.fullscreen&&(t.fullscreen=WebViewFullScreenVisibilityEffect.toJSON(e.fullscreen)),t},create:e=>WebViewEffect.fromPartial(e??{}),fromPartial(e){const t=createBaseWebViewEffect();return t.postMessage=void 0!==e.postMessage&&null!==e.postMessage?WebViewPostMessageEffect.fromPartial(e.postMessage):void 0,t.fullscreen=void 0!==e.fullscreen&&null!==e.fullscreen?WebViewFullScreenVisibilityEffect.fromPartial(e.fullscreen):void 0,t}};function isSet$a(e){return null!=e}function createBaseDuration(){return{seconds:0,nanos:0}}messageTypeRegistry.set(WebViewEffect.$type,WebViewEffect);const Duration={$type:"google.protobuf.Duration",encode:(e,t=_m0.Writer.create())=>(0!==e.seconds&&t.uint32(8).int64(e.seconds),0!==e.nanos&&t.uint32(16).int32(e.nanos),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseDuration();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(8!==e)break;n.seconds=longToNumber(o.int64());continue;case 2:if(16!==e)break;n.nanos=o.int32();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({seconds:isSet$9(e.seconds)?globalThis.Number(e.seconds):0,nanos:isSet$9(e.nanos)?globalThis.Number(e.nanos):0}),toJSON(e){const t={};return 0!==e.seconds&&(t.seconds=Math.round(e.seconds)),0!==e.nanos&&(t.nanos=Math.round(e.nanos)),t},create:e=>Duration.fromPartial(e??{}),fromPartial(e){const t=createBaseDuration();return t.seconds=e.seconds??0,t.nanos=e.nanos??0,t}};function longToNumber(e){if(e.gt(globalThis.Number.MAX_SAFE_INTEGER))throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}function isSet$9(e){return null!=e}function createBaseSetIntervalsEffect(){return{intervals:{}}}messageTypeRegistry.set(Duration.$type,Duration),_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());const SetIntervalsEffect={$type:"devvit.ui.effects.v1alpha.SetIntervalsEffect",encode:(e,t=_m0.Writer.create())=>(Object.entries(e.intervals).forEach((([e,o])=>{SetIntervalsEffect_IntervalsEntry.encode({key:e,value:o},t.uint32(10).fork()).ldelim()})),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseSetIntervalsEffect();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;const t=SetIntervalsEffect_IntervalsEntry.decode(o,o.uint32());void 0!==t.value&&(n.intervals[t.key]=t.value);continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({intervals:isObject$3(e.intervals)?Object.entries(e.intervals).reduce(((e,[t,o])=>(e[t]=IntervalDetails.fromJSON(o),e)),{}):{}}),toJSON(e){const t={};if(e.intervals){const o=Object.entries(e.intervals);o.length>0&&(t.intervals={},o.forEach((([e,o])=>{t.intervals[e]=IntervalDetails.toJSON(o)})))}return t},create:e=>SetIntervalsEffect.fromPartial(e??{}),fromPartial(e){const t=createBaseSetIntervalsEffect();return t.intervals=Object.entries(e.intervals??{}).reduce(((e,[t,o])=>(void 0!==o&&(e[t]=IntervalDetails.fromPartial(o)),e)),{}),t}};function createBaseSetIntervalsEffect_IntervalsEntry(){return{key:"",value:void 0}}messageTypeRegistry.set(SetIntervalsEffect.$type,SetIntervalsEffect);const SetIntervalsEffect_IntervalsEntry={$type:"devvit.ui.effects.v1alpha.SetIntervalsEffect.IntervalsEntry",encode:(e,t=_m0.Writer.create())=>(""!==e.key&&t.uint32(10).string(e.key),void 0!==e.value&&IntervalDetails.encode(e.value,t.uint32(18).fork()).ldelim(),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseSetIntervalsEffect_IntervalsEntry();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.key=o.string();continue;case 2:if(18!==e)break;n.value=IntervalDetails.decode(o,o.uint32());continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({key:isSet$8(e.key)?globalThis.String(e.key):"",value:isSet$8(e.value)?IntervalDetails.fromJSON(e.value):void 0}),toJSON(e){const t={};return""!==e.key&&(t.key=e.key),void 0!==e.value&&(t.value=IntervalDetails.toJSON(e.value)),t},create:e=>SetIntervalsEffect_IntervalsEntry.fromPartial(e??{}),fromPartial(e){const t=createBaseSetIntervalsEffect_IntervalsEntry();return t.key=e.key??"",t.value=void 0!==e.value&&null!==e.value?IntervalDetails.fromPartial(e.value):void 0,t}};function createBaseIntervalDetails(){return{duration:void 0,async:void 0}}messageTypeRegistry.set(SetIntervalsEffect_IntervalsEntry.$type,SetIntervalsEffect_IntervalsEntry);const IntervalDetails={$type:"devvit.ui.effects.v1alpha.IntervalDetails",encode:(e,t=_m0.Writer.create())=>(void 0!==e.duration&&Duration.encode(e.duration,t.uint32(10).fork()).ldelim(),void 0!==e.async&&BoolValue.encode({value:e.async},t.uint32(26).fork()).ldelim(),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseIntervalDetails();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.duration=Duration.decode(o,o.uint32());continue;case 3:if(26!==e)break;n.async=BoolValue.decode(o,o.uint32()).value;continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({duration:isSet$8(e.duration)?Duration.fromJSON(e.duration):void 0,async:isSet$8(e.async)?Boolean(e.async):void 0}),toJSON(e){const t={};return void 0!==e.duration&&(t.duration=Duration.toJSON(e.duration)),void 0!==e.async&&(t.async=e.async),t},create:e=>IntervalDetails.fromPartial(e??{}),fromPartial(e){const t=createBaseIntervalDetails();return t.duration=void 0!==e.duration&&null!==e.duration?Duration.fromPartial(e.duration):void 0,t.async=e.async??void 0,t}};function isObject$3(e){return"object"==typeof e&&null!==e}function isSet$8(e){return null!=e}var RealtimeSubscriptionStatus;function realtimeSubscriptionStatusFromJSON(e){switch(e){case 0:case"REALTIME_SUBSCRIBED":return RealtimeSubscriptionStatus.REALTIME_SUBSCRIBED;case 1:case"REALTIME_UNSUBSCRIBED":return RealtimeSubscriptionStatus.REALTIME_UNSUBSCRIBED;default:return RealtimeSubscriptionStatus.UNRECOGNIZED}}function realtimeSubscriptionStatusToJSON(e){switch(e){case RealtimeSubscriptionStatus.REALTIME_SUBSCRIBED:return 0;case RealtimeSubscriptionStatus.REALTIME_UNSUBSCRIBED:return 1;case RealtimeSubscriptionStatus.UNRECOGNIZED:default:return-1}}function createBaseRealtimeSubscriptionsEffect(){return{subscriptionIds:[]}}messageTypeRegistry.set(IntervalDetails.$type,IntervalDetails),function(e){e[e.REALTIME_SUBSCRIBED=0]="REALTIME_SUBSCRIBED",e[e.REALTIME_UNSUBSCRIBED=1]="REALTIME_UNSUBSCRIBED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(RealtimeSubscriptionStatus||(RealtimeSubscriptionStatus={}));const RealtimeSubscriptionsEffect={$type:"devvit.ui.effects.v1alpha.RealtimeSubscriptionsEffect",encode(e,t=_m0.Writer.create()){for(const o of e.subscriptionIds)t.uint32(10).string(o);return t},decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseRealtimeSubscriptionsEffect();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.subscriptionIds.push(o.string());continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({subscriptionIds:globalThis.Array.isArray(e?.subscriptionIds)?e.subscriptionIds.map((e=>globalThis.String(e))):[]}),toJSON(e){const t={};return e.subscriptionIds?.length&&(t.subscriptionIds=e.subscriptionIds),t},create:e=>RealtimeSubscriptionsEffect.fromPartial(e??{}),fromPartial(e){const t=createBaseRealtimeSubscriptionsEffect();return t.subscriptionIds=e.subscriptionIds?.map((e=>e))||[],t}};function createBaseRealtimeSubscriptionEvent(){return{event:void 0,status:void 0}}messageTypeRegistry.set(RealtimeSubscriptionsEffect.$type,RealtimeSubscriptionsEffect);const RealtimeSubscriptionEvent={$type:"devvit.ui.effects.v1alpha.RealtimeSubscriptionEvent",encode:(e,t=_m0.Writer.create())=>(void 0!==e.event&&RealtimeEvent.encode(e.event,t.uint32(10).fork()).ldelim(),void 0!==e.status&&t.uint32(16).int32(e.status),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseRealtimeSubscriptionEvent();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.event=RealtimeEvent.decode(o,o.uint32());continue;case 2:if(16!==e)break;n.status=o.int32();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({event:isSet$7(e.event)?RealtimeEvent.fromJSON(e.event):void 0,status:isSet$7(e.status)?realtimeSubscriptionStatusFromJSON(e.status):void 0}),toJSON(e){const t={};return void 0!==e.event&&(t.event=RealtimeEvent.toJSON(e.event)),void 0!==e.status&&(t.status=realtimeSubscriptionStatusToJSON(e.status)),t},create:e=>RealtimeSubscriptionEvent.fromPartial(e??{}),fromPartial(e){const t=createBaseRealtimeSubscriptionEvent();return t.event=void 0!==e.event&&null!==e.event?RealtimeEvent.fromPartial(e.event):void 0,t.status=e.status??void 0,t}};function isSet$7(e){return null!=e}function createBaseRerenderEffect(){return{delaySeconds:void 0}}messageTypeRegistry.set(RealtimeSubscriptionEvent.$type,RealtimeSubscriptionEvent);const RerenderEffect={$type:"devvit.ui.effects.v1alpha.RerenderEffect",encode:(e,t=_m0.Writer.create())=>(void 0!==e.delaySeconds&&t.uint32(13).float(e.delaySeconds),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseRerenderEffect();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(13!==e)break;n.delaySeconds=o.float();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({delaySeconds:isSet$6(e.delaySeconds)?globalThis.Number(e.delaySeconds):void 0}),toJSON(e){const t={};return void 0!==e.delaySeconds&&(t.delaySeconds=e.delaySeconds),t},create:e=>RerenderEffect.fromPartial(e??{}),fromPartial(e){const t=createBaseRerenderEffect();return t.delaySeconds=e.delaySeconds??void 0,t}};function isSet$6(e){return null!=e}var EffectType$1;function effectTypeFromJSON(e){switch(e){case 0:case"EFFECT_REALTIME_SUB":return EffectType$1.EFFECT_REALTIME_SUB;case 1:case"EFFECT_RERENDER_UI":return EffectType$1.EFFECT_RERENDER_UI;case 2:case"EFFECT_RELOAD_PART":return EffectType$1.EFFECT_RELOAD_PART;case 3:case"EFFECT_SHOW_FORM":return EffectType$1.EFFECT_SHOW_FORM;case 4:case"EFFECT_SHOW_TOAST":return EffectType$1.EFFECT_SHOW_TOAST;case 5:case"EFFECT_NAVIGATE_TO_URL":return EffectType$1.EFFECT_NAVIGATE_TO_URL;case 7:case"EFFECT_SET_INTERVALS":return EffectType$1.EFFECT_SET_INTERVALS;case 8:case"EFFECT_CREATE_ORDER":return EffectType$1.EFFECT_CREATE_ORDER;case 9:case"EFFECT_WEB_VIEW":return EffectType$1.EFFECT_WEB_VIEW;case 11:case"EFFECT_CAN_RUN_AS_USER":return EffectType$1.EFFECT_CAN_RUN_AS_USER;case 12:case"EFFECT_TELEMETRY":return EffectType$1.EFFECT_TELEMETRY;default:return EffectType$1.UNRECOGNIZED}}function effectTypeToJSON(e){switch(e){case EffectType$1.EFFECT_REALTIME_SUB:return 0;case EffectType$1.EFFECT_RERENDER_UI:return 1;case EffectType$1.EFFECT_RELOAD_PART:return 2;case EffectType$1.EFFECT_SHOW_FORM:return 3;case EffectType$1.EFFECT_SHOW_TOAST:return 4;case EffectType$1.EFFECT_NAVIGATE_TO_URL:return 5;case EffectType$1.EFFECT_SET_INTERVALS:return 7;case EffectType$1.EFFECT_CREATE_ORDER:return 8;case EffectType$1.EFFECT_WEB_VIEW:return 9;case EffectType$1.EFFECT_CAN_RUN_AS_USER:return 11;case EffectType$1.EFFECT_TELEMETRY:return 12;case EffectType$1.UNRECOGNIZED:default:return-1}}function createBaseEffect(){return{realtimeSubscriptions:void 0,rerenderUi:void 0,showForm:void 0,showToast:void 0,navigateToUrl:void 0,interval:void 0,createOrder:void 0,webView:void 0,canRunAsUser:void 0,type:0}}messageTypeRegistry.set(RerenderEffect.$type,RerenderEffect),function(e){e[e.EFFECT_REALTIME_SUB=0]="EFFECT_REALTIME_SUB",e[e.EFFECT_RERENDER_UI=1]="EFFECT_RERENDER_UI",e[e.EFFECT_RELOAD_PART=2]="EFFECT_RELOAD_PART",e[e.EFFECT_SHOW_FORM=3]="EFFECT_SHOW_FORM",e[e.EFFECT_SHOW_TOAST=4]="EFFECT_SHOW_TOAST",e[e.EFFECT_NAVIGATE_TO_URL=5]="EFFECT_NAVIGATE_TO_URL",e[e.EFFECT_SET_INTERVALS=7]="EFFECT_SET_INTERVALS",e[e.EFFECT_CREATE_ORDER=8]="EFFECT_CREATE_ORDER",e[e.EFFECT_WEB_VIEW=9]="EFFECT_WEB_VIEW",e[e.EFFECT_CAN_RUN_AS_USER=11]="EFFECT_CAN_RUN_AS_USER",e[e.EFFECT_TELEMETRY=12]="EFFECT_TELEMETRY",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(EffectType$1||(EffectType$1={}));const Effect={$type:"devvit.ui.effects.v1alpha.Effect",encode:(e,t=_m0.Writer.create())=>(void 0!==e.realtimeSubscriptions&&RealtimeSubscriptionsEffect.encode(e.realtimeSubscriptions,t.uint32(10).fork()).ldelim(),void 0!==e.rerenderUi&&RerenderEffect.encode(e.rerenderUi,t.uint32(18).fork()).ldelim(),void 0!==e.showForm&&ShowFormEffect.encode(e.showForm,t.uint32(34).fork()).ldelim(),void 0!==e.showToast&&ShowToastEffect.encode(e.showToast,t.uint32(42).fork()).ldelim(),void 0!==e.navigateToUrl&&NavigateToUrlEffect.encode(e.navigateToUrl,t.uint32(50).fork()).ldelim(),void 0!==e.interval&&SetIntervalsEffect.encode(e.interval,t.uint32(74).fork()).ldelim(),void 0!==e.createOrder&&CreateOrderEffect.encode(e.createOrder,t.uint32(82).fork()).ldelim(),void 0!==e.webView&&WebViewEffect.encode(e.webView,t.uint32(90).fork()).ldelim(),void 0!==e.canRunAsUser&&CanRunAsUserEffect.encode(e.canRunAsUser,t.uint32(106).fork()).ldelim(),0!==e.type&&t.uint32(56).int32(e.type),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseEffect();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.realtimeSubscriptions=RealtimeSubscriptionsEffect.decode(o,o.uint32());continue;case 2:if(18!==e)break;n.rerenderUi=RerenderEffect.decode(o,o.uint32());continue;case 4:if(34!==e)break;n.showForm=ShowFormEffect.decode(o,o.uint32());continue;case 5:if(42!==e)break;n.showToast=ShowToastEffect.decode(o,o.uint32());continue;case 6:if(50!==e)break;n.navigateToUrl=NavigateToUrlEffect.decode(o,o.uint32());continue;case 9:if(74!==e)break;n.interval=SetIntervalsEffect.decode(o,o.uint32());continue;case 10:if(82!==e)break;n.createOrder=CreateOrderEffect.decode(o,o.uint32());continue;case 11:if(90!==e)break;n.webView=WebViewEffect.decode(o,o.uint32());continue;case 13:if(106!==e)break;n.canRunAsUser=CanRunAsUserEffect.decode(o,o.uint32());continue;case 7:if(56!==e)break;n.type=o.int32();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({realtimeSubscriptions:isSet$5(e.realtimeSubscriptions)?RealtimeSubscriptionsEffect.fromJSON(e.realtimeSubscriptions):void 0,rerenderUi:isSet$5(e.rerenderUi)?RerenderEffect.fromJSON(e.rerenderUi):void 0,showForm:isSet$5(e.showForm)?ShowFormEffect.fromJSON(e.showForm):void 0,showToast:isSet$5(e.showToast)?ShowToastEffect.fromJSON(e.showToast):void 0,navigateToUrl:isSet$5(e.navigateToUrl)?NavigateToUrlEffect.fromJSON(e.navigateToUrl):void 0,interval:isSet$5(e.interval)?SetIntervalsEffect.fromJSON(e.interval):void 0,createOrder:isSet$5(e.createOrder)?CreateOrderEffect.fromJSON(e.createOrder):void 0,webView:isSet$5(e.webView)?WebViewEffect.fromJSON(e.webView):void 0,canRunAsUser:isSet$5(e.canRunAsUser)?CanRunAsUserEffect.fromJSON(e.canRunAsUser):void 0,type:isSet$5(e.type)?effectTypeFromJSON(e.type):0}),toJSON(e){const t={};return void 0!==e.realtimeSubscriptions&&(t.realtimeSubscriptions=RealtimeSubscriptionsEffect.toJSON(e.realtimeSubscriptions)),void 0!==e.rerenderUi&&(t.rerenderUi=RerenderEffect.toJSON(e.rerenderUi)),void 0!==e.showForm&&(t.showForm=ShowFormEffect.toJSON(e.showForm)),void 0!==e.showToast&&(t.showToast=ShowToastEffect.toJSON(e.showToast)),void 0!==e.navigateToUrl&&(t.navigateToUrl=NavigateToUrlEffect.toJSON(e.navigateToUrl)),void 0!==e.interval&&(t.interval=SetIntervalsEffect.toJSON(e.interval)),void 0!==e.createOrder&&(t.createOrder=CreateOrderEffect.toJSON(e.createOrder)),void 0!==e.webView&&(t.webView=WebViewEffect.toJSON(e.webView)),void 0!==e.canRunAsUser&&(t.canRunAsUser=CanRunAsUserEffect.toJSON(e.canRunAsUser)),0!==e.type&&(t.type=effectTypeToJSON(e.type)),t},create:e=>Effect.fromPartial(e??{}),fromPartial(e){const t=createBaseEffect();return t.realtimeSubscriptions=void 0!==e.realtimeSubscriptions&&null!==e.realtimeSubscriptions?RealtimeSubscriptionsEffect.fromPartial(e.realtimeSubscriptions):void 0,t.rerenderUi=void 0!==e.rerenderUi&&null!==e.rerenderUi?RerenderEffect.fromPartial(e.rerenderUi):void 0,t.showForm=void 0!==e.showForm&&null!==e.showForm?ShowFormEffect.fromPartial(e.showForm):void 0,t.showToast=void 0!==e.showToast&&null!==e.showToast?ShowToastEffect.fromPartial(e.showToast):void 0,t.navigateToUrl=void 0!==e.navigateToUrl&&null!==e.navigateToUrl?NavigateToUrlEffect.fromPartial(e.navigateToUrl):void 0,t.interval=void 0!==e.interval&&null!==e.interval?SetIntervalsEffect.fromPartial(e.interval):void 0,t.createOrder=void 0!==e.createOrder&&null!==e.createOrder?CreateOrderEffect.fromPartial(e.createOrder):void 0,t.webView=void 0!==e.webView&&null!==e.webView?WebViewEffect.fromPartial(e.webView):void 0,t.canRunAsUser=void 0!==e.canRunAsUser&&null!==e.canRunAsUser?CanRunAsUserEffect.fromPartial(e.canRunAsUser):void 0,t.type=e.type??0,t}};function isSet$5(e){return null!=e}var WebViewVisibility;function webViewVisibilityFromJSON(e){switch(e){case 0:case"WEBVIEW_VISIBLE":return WebViewVisibility.WEBVIEW_VISIBLE;case 1:case"WEBVIEW_HIDDEN":return WebViewVisibility.WEBVIEW_HIDDEN;default:return WebViewVisibility.UNRECOGNIZED}}function webViewVisibilityToJSON(e){switch(e){case WebViewVisibility.WEBVIEW_VISIBLE:return 0;case WebViewVisibility.WEBVIEW_HIDDEN:return 1;case WebViewVisibility.UNRECOGNIZED:default:return-1}}function createBaseWebViewPostMessageEvent(){return{message:void 0,jsonString:""}}messageTypeRegistry.set(Effect.$type,Effect),function(e){e[e.WEBVIEW_VISIBLE=0]="WEBVIEW_VISIBLE",e[e.WEBVIEW_HIDDEN=1]="WEBVIEW_HIDDEN",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(WebViewVisibility||(WebViewVisibility={}));const WebViewPostMessageEvent={$type:"devvit.ui.events.v1alpha.WebViewPostMessageEvent",encode:(e,t=_m0.Writer.create())=>(void 0!==e.message&&Value.encode(Value.wrap(e.message),t.uint32(10).fork()).ldelim(),""!==e.jsonString&&t.uint32(18).string(e.jsonString),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseWebViewPostMessageEvent();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.message=Value.unwrap(Value.decode(o,o.uint32()));continue;case 2:if(18!==e)break;n.jsonString=o.string();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({message:isSet$4(e?.message)?e.message:void 0,jsonString:isSet$4(e.jsonString)?globalThis.String(e.jsonString):""}),toJSON(e){const t={};return void 0!==e.message&&(t.message=e.message),""!==e.jsonString&&(t.jsonString=e.jsonString),t},create:e=>WebViewPostMessageEvent.fromPartial(e??{}),fromPartial(e){const t=createBaseWebViewPostMessageEvent();return t.message=e.message??void 0,t.jsonString=e.jsonString??"",t}};function createBaseWebViewFullScreenEvent(){return{visibility:0}}messageTypeRegistry.set(WebViewPostMessageEvent.$type,WebViewPostMessageEvent);const WebViewFullScreenEvent={$type:"devvit.ui.events.v1alpha.WebViewFullScreenEvent",encode:(e,t=_m0.Writer.create())=>(0!==e.visibility&&t.uint32(8).int32(e.visibility),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseWebViewFullScreenEvent();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(8!==e)break;n.visibility=o.int32();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({visibility:isSet$4(e.visibility)?webViewVisibilityFromJSON(e.visibility):0}),toJSON(e){const t={};return 0!==e.visibility&&(t.visibility=webViewVisibilityToJSON(e.visibility)),t},create:e=>WebViewFullScreenEvent.fromPartial(e??{}),fromPartial(e){const t=createBaseWebViewFullScreenEvent();return t.visibility=e.visibility??0,t}};function createBaseWebViewEvent(){return{postMessage:void 0,fullScreen:void 0}}messageTypeRegistry.set(WebViewFullScreenEvent.$type,WebViewFullScreenEvent);const WebViewEvent={$type:"devvit.ui.events.v1alpha.WebViewEvent",encode:(e,t=_m0.Writer.create())=>(void 0!==e.postMessage&&WebViewPostMessageEvent.encode(e.postMessage,t.uint32(10).fork()).ldelim(),void 0!==e.fullScreen&&WebViewFullScreenEvent.encode(e.fullScreen,t.uint32(18).fork()).ldelim(),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseWebViewEvent();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.postMessage=WebViewPostMessageEvent.decode(o,o.uint32());continue;case 2:if(18!==e)break;n.fullScreen=WebViewFullScreenEvent.decode(o,o.uint32());continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({postMessage:isSet$4(e.postMessage)?WebViewPostMessageEvent.fromJSON(e.postMessage):void 0,fullScreen:isSet$4(e.fullScreen)?WebViewFullScreenEvent.fromJSON(e.fullScreen):void 0}),toJSON(e){const t={};return void 0!==e.postMessage&&(t.postMessage=WebViewPostMessageEvent.toJSON(e.postMessage)),void 0!==e.fullScreen&&(t.fullScreen=WebViewFullScreenEvent.toJSON(e.fullScreen)),t},create:e=>WebViewEvent.fromPartial(e??{}),fromPartial(e){const t=createBaseWebViewEvent();return t.postMessage=void 0!==e.postMessage&&null!==e.postMessage?WebViewPostMessageEvent.fromPartial(e.postMessage):void 0,t.fullScreen=void 0!==e.fullScreen&&null!==e.fullScreen?WebViewFullScreenEvent.fromPartial(e.fullScreen):void 0,t}};function createBaseWebViewImmersiveModeChangedEvent(){return{immersiveMode:0}}messageTypeRegistry.set(WebViewEvent.$type,WebViewEvent);const WebViewImmersiveModeChangedEvent={$type:"devvit.ui.events.v1alpha.WebViewImmersiveModeChangedEvent",encode:(e,t=_m0.Writer.create())=>(0!==e.immersiveMode&&t.uint32(8).int32(e.immersiveMode),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseWebViewImmersiveModeChangedEvent();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(8!==e)break;n.immersiveMode=o.int32();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({immersiveMode:isSet$4(e.immersiveMode)?webViewImmersiveModeFromJSON(e.immersiveMode):0}),toJSON(e){const t={};return 0!==e.immersiveMode&&(t.immersiveMode=webViewImmersiveModeToJSON(e.immersiveMode)),t},create:e=>WebViewImmersiveModeChangedEvent.fromPartial(e??{}),fromPartial(e){const t=createBaseWebViewImmersiveModeChangedEvent();return t.immersiveMode=e.immersiveMode??0,t}};function createBaseWebViewInternalEventMessage(){return{id:"",formCanceled:void 0,formSubmitted:void 0,realtimeEvent:void 0,immersiveModeEvent:void 0,consentStatus:void 0,orderResult:void 0}}messageTypeRegistry.set(WebViewImmersiveModeChangedEvent.$type,WebViewImmersiveModeChangedEvent);const WebViewInternalEventMessage={$type:"devvit.ui.events.v1alpha.WebViewInternalEventMessage",encode:(e,t=_m0.Writer.create())=>(""!==e.id&&t.uint32(10).string(e.id),void 0!==e.formCanceled&&FormCanceledEvent.encode(e.formCanceled,t.uint32(18).fork()).ldelim(),void 0!==e.formSubmitted&&FormSubmittedEvent.encode(e.formSubmitted,t.uint32(26).fork()).ldelim(),void 0!==e.realtimeEvent&&RealtimeSubscriptionEvent.encode(e.realtimeEvent,t.uint32(34).fork()).ldelim(),void 0!==e.immersiveModeEvent&&WebViewImmersiveModeChangedEvent.encode(e.immersiveModeEvent,t.uint32(42).fork()).ldelim(),void 0!==e.consentStatus&&ConsentStatusEvent.encode(e.consentStatus,t.uint32(58).fork()).ldelim(),void 0!==e.orderResult&&OrderResultEvent.encode(e.orderResult,t.uint32(66).fork()).ldelim(),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseWebViewInternalEventMessage();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.id=o.string();continue;case 2:if(18!==e)break;n.formCanceled=FormCanceledEvent.decode(o,o.uint32());continue;case 3:if(26!==e)break;n.formSubmitted=FormSubmittedEvent.decode(o,o.uint32());continue;case 4:if(34!==e)break;n.realtimeEvent=RealtimeSubscriptionEvent.decode(o,o.uint32());continue;case 5:if(42!==e)break;n.immersiveModeEvent=WebViewImmersiveModeChangedEvent.decode(o,o.uint32());continue;case 7:if(58!==e)break;n.consentStatus=ConsentStatusEvent.decode(o,o.uint32());continue;case 8:if(66!==e)break;n.orderResult=OrderResultEvent.decode(o,o.uint32());continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({id:isSet$4(e.id)?globalThis.String(e.id):"",formCanceled:isSet$4(e.formCanceled)?FormCanceledEvent.fromJSON(e.formCanceled):void 0,formSubmitted:isSet$4(e.formSubmitted)?FormSubmittedEvent.fromJSON(e.formSubmitted):void 0,realtimeEvent:isSet$4(e.realtimeEvent)?RealtimeSubscriptionEvent.fromJSON(e.realtimeEvent):void 0,immersiveModeEvent:isSet$4(e.immersiveModeEvent)?WebViewImmersiveModeChangedEvent.fromJSON(e.immersiveModeEvent):void 0,consentStatus:isSet$4(e.consentStatus)?ConsentStatusEvent.fromJSON(e.consentStatus):void 0,orderResult:isSet$4(e.orderResult)?OrderResultEvent.fromJSON(e.orderResult):void 0}),toJSON(e){const t={};return""!==e.id&&(t.id=e.id),void 0!==e.formCanceled&&(t.formCanceled=FormCanceledEvent.toJSON(e.formCanceled)),void 0!==e.formSubmitted&&(t.formSubmitted=FormSubmittedEvent.toJSON(e.formSubmitted)),void 0!==e.realtimeEvent&&(t.realtimeEvent=RealtimeSubscriptionEvent.toJSON(e.realtimeEvent)),void 0!==e.immersiveModeEvent&&(t.immersiveModeEvent=WebViewImmersiveModeChangedEvent.toJSON(e.immersiveModeEvent)),void 0!==e.consentStatus&&(t.consentStatus=ConsentStatusEvent.toJSON(e.consentStatus)),void 0!==e.orderResult&&(t.orderResult=OrderResultEvent.toJSON(e.orderResult)),t},create:e=>WebViewInternalEventMessage.fromPartial(e??{}),fromPartial(e){const t=createBaseWebViewInternalEventMessage();return t.id=e.id??"",t.formCanceled=void 0!==e.formCanceled&&null!==e.formCanceled?FormCanceledEvent.fromPartial(e.formCanceled):void 0,t.formSubmitted=void 0!==e.formSubmitted&&null!==e.formSubmitted?FormSubmittedEvent.fromPartial(e.formSubmitted):void 0,t.realtimeEvent=void 0!==e.realtimeEvent&&null!==e.realtimeEvent?RealtimeSubscriptionEvent.fromPartial(e.realtimeEvent):void 0,t.immersiveModeEvent=void 0!==e.immersiveModeEvent&&null!==e.immersiveModeEvent?WebViewImmersiveModeChangedEvent.fromPartial(e.immersiveModeEvent):void 0,t.consentStatus=void 0!==e.consentStatus&&null!==e.consentStatus?ConsentStatusEvent.fromPartial(e.consentStatus):void 0,t.orderResult=void 0!==e.orderResult&&null!==e.orderResult?OrderResultEvent.fromPartial(e.orderResult):void 0,t}};function createBaseWebViewMessageEvent(){return{data:void 0}}messageTypeRegistry.set(WebViewInternalEventMessage.$type,WebViewInternalEventMessage);const WebViewMessageEvent={$type:"devvit.ui.events.v1alpha.WebViewMessageEvent",encode:(e,t=_m0.Writer.create())=>(void 0!==e.data&&WebViewMessageEvent_MessageData.encode(e.data,t.uint32(10).fork()).ldelim(),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseWebViewMessageEvent();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.data=WebViewMessageEvent_MessageData.decode(o,o.uint32());continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({data:isSet$4(e.data)?WebViewMessageEvent_MessageData.fromJSON(e.data):void 0}),toJSON(e){const t={};return void 0!==e.data&&(t.data=WebViewMessageEvent_MessageData.toJSON(e.data)),t},create:e=>WebViewMessageEvent.fromPartial(e??{}),fromPartial(e){const t=createBaseWebViewMessageEvent();return t.data=void 0!==e.data&&null!==e.data?WebViewMessageEvent_MessageData.fromPartial(e.data):void 0,t}};function createBaseWebViewMessageEvent_MessageData(){return{type:"",data:void 0}}messageTypeRegistry.set(WebViewMessageEvent.$type,WebViewMessageEvent);const WebViewMessageEvent_MessageData={$type:"devvit.ui.events.v1alpha.WebViewMessageEvent.MessageData",encode:(e,t=_m0.Writer.create())=>(""!==e.type&&t.uint32(10).string(e.type),void 0!==e.data&&WebViewInternalEventMessage.encode(e.data,t.uint32(18).fork()).ldelim(),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseWebViewMessageEvent_MessageData();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.type=o.string();continue;case 2:if(18!==e)break;n.data=WebViewInternalEventMessage.decode(o,o.uint32());continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({type:isSet$4(e.type)?globalThis.String(e.type):"",data:isSet$4(e.data)?WebViewInternalEventMessage.fromJSON(e.data):void 0}),toJSON(e){const t={};return""!==e.type&&(t.type=e.type),void 0!==e.data&&(t.data=WebViewInternalEventMessage.toJSON(e.data)),t},create:e=>WebViewMessageEvent_MessageData.fromPartial(e??{}),fromPartial(e){const t=createBaseWebViewMessageEvent_MessageData();return t.type=e.type??"",t.data=void 0!==e.data&&null!==e.data?WebViewInternalEventMessage.fromPartial(e.data):void 0,t}};function isSet$4(e){return null!=e}var UIEventScope;function uIEventScopeFromJSON(e){switch(e){case 0:case"ALL":return UIEventScope.ALL;case 1:case"LOCAL":return UIEventScope.LOCAL;case 2:case"REMOTE":return UIEventScope.REMOTE;default:return UIEventScope.UNRECOGNIZED}}function uIEventScopeToJSON(e){switch(e){case UIEventScope.ALL:return 0;case UIEventScope.LOCAL:return 1;case UIEventScope.REMOTE:return 2;case UIEventScope.UNRECOGNIZED:default:return-1}}function createBaseUIEvent(){return{realtimeEvent:void 0,formSubmitted:void 0,orderResult:void 0,toastAction:void 0,userAction:void 0,asyncRequest:void 0,asyncResponse:void 0,timer:void 0,blocking:void 0,resize:void 0,webView:void 0,formCanceled:void 0,consentStatus:void 0,async:void 0,hook:void 0,retry:void 0,scope:void 0}}messageTypeRegistry.set(WebViewMessageEvent_MessageData.$type,WebViewMessageEvent_MessageData),function(e){e[e.ALL=0]="ALL",e[e.LOCAL=1]="LOCAL",e[e.REMOTE=2]="REMOTE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(UIEventScope||(UIEventScope={}));const UIEvent={$type:"devvit.ui.events.v1alpha.UIEvent",encode:(e,t=_m0.Writer.create())=>(void 0!==e.realtimeEvent&&RealtimeSubscriptionEvent.encode(e.realtimeEvent,t.uint32(18).fork()).ldelim(),void 0!==e.formSubmitted&&FormSubmittedEvent.encode(e.formSubmitted,t.uint32(26).fork()).ldelim(),void 0!==e.orderResult&&OrderResultEvent.encode(e.orderResult,t.uint32(154).fork()).ldelim(),void 0!==e.toastAction&&ToastActionEvent.encode(e.toastAction,t.uint32(34).fork()).ldelim(),void 0!==e.userAction&&UserAction.encode(e.userAction,t.uint32(50).fork()).ldelim(),void 0!==e.asyncRequest&&AsyncRequest.encode(e.asyncRequest,t.uint32(58).fork()).ldelim(),void 0!==e.asyncResponse&&AsyncResponse.encode(e.asyncResponse,t.uint32(66).fork()).ldelim(),void 0!==e.timer&&TimerEvent.encode(e.timer,t.uint32(98).fork()).ldelim(),void 0!==e.blocking&&BlockingRenderEvent.encode(e.blocking,t.uint32(106).fork()).ldelim(),void 0!==e.resize&&ResizeEvent.encode(e.resize,t.uint32(114).fork()).ldelim(),void 0!==e.webView&&WebViewEvent.encode(e.webView,t.uint32(162).fork()).ldelim(),void 0!==e.formCanceled&&FormCanceledEvent.encode(e.formCanceled,t.uint32(170).fork()).ldelim(),void 0!==e.consentStatus&&ConsentStatusEvent.encode(e.consentStatus,t.uint32(186).fork()).ldelim(),void 0!==e.async&&BoolValue.encode({value:e.async},t.uint32(122).fork()).ldelim(),void 0!==e.hook&&StringValue.encode({value:e.hook},t.uint32(82).fork()).ldelim(),void 0!==e.retry&&BoolValue.encode({value:e.retry},t.uint32(138).fork()).ldelim(),void 0!==e.scope&&t.uint32(144).int32(e.scope),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseUIEvent();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 2:if(18!==e)break;n.realtimeEvent=RealtimeSubscriptionEvent.decode(o,o.uint32());continue;case 3:if(26!==e)break;n.formSubmitted=FormSubmittedEvent.decode(o,o.uint32());continue;case 19:if(154!==e)break;n.orderResult=OrderResultEvent.decode(o,o.uint32());continue;case 4:if(34!==e)break;n.toastAction=ToastActionEvent.decode(o,o.uint32());continue;case 6:if(50!==e)break;n.userAction=UserAction.decode(o,o.uint32());continue;case 7:if(58!==e)break;n.asyncRequest=AsyncRequest.decode(o,o.uint32());continue;case 8:if(66!==e)break;n.asyncResponse=AsyncResponse.decode(o,o.uint32());continue;case 12:if(98!==e)break;n.timer=TimerEvent.decode(o,o.uint32());continue;case 13:if(106!==e)break;n.blocking=BlockingRenderEvent.decode(o,o.uint32());continue;case 14:if(114!==e)break;n.resize=ResizeEvent.decode(o,o.uint32());continue;case 20:if(162!==e)break;n.webView=WebViewEvent.decode(o,o.uint32());continue;case 21:if(170!==e)break;n.formCanceled=FormCanceledEvent.decode(o,o.uint32());continue;case 23:if(186!==e)break;n.consentStatus=ConsentStatusEvent.decode(o,o.uint32());continue;case 15:if(122!==e)break;n.async=BoolValue.decode(o,o.uint32()).value;continue;case 10:if(82!==e)break;n.hook=StringValue.decode(o,o.uint32()).value;continue;case 17:if(138!==e)break;n.retry=BoolValue.decode(o,o.uint32()).value;continue;case 18:if(144!==e)break;n.scope=o.int32();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({realtimeEvent:isSet$3(e.realtimeEvent)?RealtimeSubscriptionEvent.fromJSON(e.realtimeEvent):void 0,formSubmitted:isSet$3(e.formSubmitted)?FormSubmittedEvent.fromJSON(e.formSubmitted):void 0,orderResult:isSet$3(e.orderResult)?OrderResultEvent.fromJSON(e.orderResult):void 0,toastAction:isSet$3(e.toastAction)?ToastActionEvent.fromJSON(e.toastAction):void 0,userAction:isSet$3(e.userAction)?UserAction.fromJSON(e.userAction):void 0,asyncRequest:isSet$3(e.asyncRequest)?AsyncRequest.fromJSON(e.asyncRequest):void 0,asyncResponse:isSet$3(e.asyncResponse)?AsyncResponse.fromJSON(e.asyncResponse):void 0,timer:isSet$3(e.timer)?TimerEvent.fromJSON(e.timer):void 0,blocking:isSet$3(e.blocking)?BlockingRenderEvent.fromJSON(e.blocking):void 0,resize:isSet$3(e.resize)?ResizeEvent.fromJSON(e.resize):void 0,webView:isSet$3(e.webView)?WebViewEvent.fromJSON(e.webView):void 0,formCanceled:isSet$3(e.formCanceled)?FormCanceledEvent.fromJSON(e.formCanceled):void 0,consentStatus:isSet$3(e.consentStatus)?ConsentStatusEvent.fromJSON(e.consentStatus):void 0,async:isSet$3(e.async)?Boolean(e.async):void 0,hook:isSet$3(e.hook)?String(e.hook):void 0,retry:isSet$3(e.retry)?Boolean(e.retry):void 0,scope:isSet$3(e.scope)?uIEventScopeFromJSON(e.scope):void 0}),toJSON(e){const t={};return void 0!==e.realtimeEvent&&(t.realtimeEvent=RealtimeSubscriptionEvent.toJSON(e.realtimeEvent)),void 0!==e.formSubmitted&&(t.formSubmitted=FormSubmittedEvent.toJSON(e.formSubmitted)),void 0!==e.orderResult&&(t.orderResult=OrderResultEvent.toJSON(e.orderResult)),void 0!==e.toastAction&&(t.toastAction=ToastActionEvent.toJSON(e.toastAction)),void 0!==e.userAction&&(t.userAction=UserAction.toJSON(e.userAction)),void 0!==e.asyncRequest&&(t.asyncRequest=AsyncRequest.toJSON(e.asyncRequest)),void 0!==e.asyncResponse&&(t.asyncResponse=AsyncResponse.toJSON(e.asyncResponse)),void 0!==e.timer&&(t.timer=TimerEvent.toJSON(e.timer)),void 0!==e.blocking&&(t.blocking=BlockingRenderEvent.toJSON(e.blocking)),void 0!==e.resize&&(t.resize=ResizeEvent.toJSON(e.resize)),void 0!==e.webView&&(t.webView=WebViewEvent.toJSON(e.webView)),void 0!==e.formCanceled&&(t.formCanceled=FormCanceledEvent.toJSON(e.formCanceled)),void 0!==e.consentStatus&&(t.consentStatus=ConsentStatusEvent.toJSON(e.consentStatus)),void 0!==e.async&&(t.async=e.async),void 0!==e.hook&&(t.hook=e.hook),void 0!==e.retry&&(t.retry=e.retry),void 0!==e.scope&&(t.scope=uIEventScopeToJSON(e.scope)),t},create:e=>UIEvent.fromPartial(e??{}),fromPartial(e){const t=createBaseUIEvent();return t.realtimeEvent=void 0!==e.realtimeEvent&&null!==e.realtimeEvent?RealtimeSubscriptionEvent.fromPartial(e.realtimeEvent):void 0,t.formSubmitted=void 0!==e.formSubmitted&&null!==e.formSubmitted?FormSubmittedEvent.fromPartial(e.formSubmitted):void 0,t.orderResult=void 0!==e.orderResult&&null!==e.orderResult?OrderResultEvent.fromPartial(e.orderResult):void 0,t.toastAction=void 0!==e.toastAction&&null!==e.toastAction?ToastActionEvent.fromPartial(e.toastAction):void 0,t.userAction=void 0!==e.userAction&&null!==e.userAction?UserAction.fromPartial(e.userAction):void 0,t.asyncRequest=void 0!==e.asyncRequest&&null!==e.asyncRequest?AsyncRequest.fromPartial(e.asyncRequest):void 0,t.asyncResponse=void 0!==e.asyncResponse&&null!==e.asyncResponse?AsyncResponse.fromPartial(e.asyncResponse):void 0,t.timer=void 0!==e.timer&&null!==e.timer?TimerEvent.fromPartial(e.timer):void 0,t.blocking=void 0!==e.blocking&&null!==e.blocking?BlockingRenderEvent.fromPartial(e.blocking):void 0,t.resize=void 0!==e.resize&&null!==e.resize?ResizeEvent.fromPartial(e.resize):void 0,t.webView=void 0!==e.webView&&null!==e.webView?WebViewEvent.fromPartial(e.webView):void 0,t.formCanceled=void 0!==e.formCanceled&&null!==e.formCanceled?FormCanceledEvent.fromPartial(e.formCanceled):void 0,t.consentStatus=void 0!==e.consentStatus&&null!==e.consentStatus?ConsentStatusEvent.fromPartial(e.consentStatus):void 0,t.async=e.async??void 0,t.hook=e.hook??void 0,t.retry=e.retry??void 0,t.scope=e.scope??void 0,t}};function createBaseBlockingRenderEvent(){return{}}messageTypeRegistry.set(UIEvent.$type,UIEvent);const BlockingRenderEvent={$type:"devvit.ui.events.v1alpha.BlockingRenderEvent",encode:(e,t=_m0.Writer.create())=>t,decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseBlockingRenderEvent();for(;o.pos<r;){const e=o.uint32();if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({}),toJSON:e=>({}),create:e=>BlockingRenderEvent.fromPartial(e??{}),fromPartial:e=>createBaseBlockingRenderEvent()};function createBaseResizeEvent(){return{}}messageTypeRegistry.set(BlockingRenderEvent.$type,BlockingRenderEvent);const ResizeEvent={$type:"devvit.ui.events.v1alpha.ResizeEvent",encode:(e,t=_m0.Writer.create())=>t,decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseResizeEvent();for(;o.pos<r;){const e=o.uint32();if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({}),toJSON:e=>({}),create:e=>ResizeEvent.fromPartial(e??{}),fromPartial:e=>createBaseResizeEvent()};function createBaseTimerEvent(){return{}}messageTypeRegistry.set(ResizeEvent.$type,ResizeEvent);const TimerEvent={$type:"devvit.ui.events.v1alpha.TimerEvent",encode:(e,t=_m0.Writer.create())=>t,decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseTimerEvent();for(;o.pos<r;){const e=o.uint32();if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({}),toJSON:e=>({}),create:e=>TimerEvent.fromPartial(e??{}),fromPartial:e=>createBaseTimerEvent()};function createBaseAsyncError(){return{message:"",details:""}}messageTypeRegistry.set(TimerEvent.$type,TimerEvent);const AsyncError={$type:"devvit.ui.events.v1alpha.AsyncError",encode:(e,t=_m0.Writer.create())=>(""!==e.message&&t.uint32(10).string(e.message),""!==e.details&&t.uint32(18).string(e.details),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseAsyncError();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.message=o.string();continue;case 2:if(18!==e)break;n.details=o.string();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({message:isSet$3(e.message)?globalThis.String(e.message):"",details:isSet$3(e.details)?globalThis.String(e.details):""}),toJSON(e){const t={};return""!==e.message&&(t.message=e.message),""!==e.details&&(t.details=e.details),t},create:e=>AsyncError.fromPartial(e??{}),fromPartial(e){const t=createBaseAsyncError();return t.message=e.message??"",t.details=e.details??"",t}};function createBaseAsyncRequest(){return{requestId:"",data:void 0}}messageTypeRegistry.set(AsyncError.$type,AsyncError);const AsyncRequest={$type:"devvit.ui.events.v1alpha.AsyncRequest",encode:(e,t=_m0.Writer.create())=>(""!==e.requestId&&t.uint32(10).string(e.requestId),void 0!==e.data&&Struct.encode(Struct.wrap(e.data),t.uint32(18).fork()).ldelim(),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseAsyncRequest();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.requestId=o.string();continue;case 2:if(18!==e)break;n.data=Struct.unwrap(Struct.decode(o,o.uint32()));continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({requestId:isSet$3(e.requestId)?globalThis.String(e.requestId):"",data:isObject$2(e.data)?e.data:void 0}),toJSON(e){const t={};return""!==e.requestId&&(t.requestId=e.requestId),void 0!==e.data&&(t.data=e.data),t},create:e=>AsyncRequest.fromPartial(e??{}),fromPartial(e){const t=createBaseAsyncRequest();return t.requestId=e.requestId??"",t.data=e.data??void 0,t}};function createBaseAsyncResponse(){return{requestId:"",data:void 0,error:void 0}}messageTypeRegistry.set(AsyncRequest.$type,AsyncRequest);const AsyncResponse={$type:"devvit.ui.events.v1alpha.AsyncResponse",encode:(e,t=_m0.Writer.create())=>(""!==e.requestId&&t.uint32(10).string(e.requestId),void 0!==e.data&&Struct.encode(Struct.wrap(e.data),t.uint32(18).fork()).ldelim(),void 0!==e.error&&AsyncError.encode(e.error,t.uint32(26).fork()).ldelim(),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseAsyncResponse();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.requestId=o.string();continue;case 2:if(18!==e)break;n.data=Struct.unwrap(Struct.decode(o,o.uint32()));continue;case 3:if(26!==e)break;n.error=AsyncError.decode(o,o.uint32());continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({requestId:isSet$3(e.requestId)?globalThis.String(e.requestId):"",data:isObject$2(e.data)?e.data:void 0,error:isSet$3(e.error)?AsyncError.fromJSON(e.error):void 0}),toJSON(e){const t={};return""!==e.requestId&&(t.requestId=e.requestId),void 0!==e.data&&(t.data=e.data),void 0!==e.error&&(t.error=AsyncError.toJSON(e.error)),t},create:e=>AsyncResponse.fromPartial(e??{}),fromPartial(e){const t=createBaseAsyncResponse();return t.requestId=e.requestId??"",t.data=e.data??void 0,t.error=void 0!==e.error&&null!==e.error?AsyncError.fromPartial(e.error):void 0,t}};function createBaseUserAction(){return{actionId:"",data:void 0}}messageTypeRegistry.set(AsyncResponse.$type,AsyncResponse);const UserAction={$type:"devvit.ui.events.v1alpha.UserAction",encode:(e,t=_m0.Writer.create())=>(""!==e.actionId&&t.uint32(10).string(e.actionId),void 0!==e.data&&Struct.encode(Struct.wrap(e.data),t.uint32(18).fork()).ldelim(),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseUserAction();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.actionId=o.string();continue;case 2:if(18!==e)break;n.data=Struct.unwrap(Struct.decode(o,o.uint32()));continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({actionId:isSet$3(e.actionId)?globalThis.String(e.actionId):"",data:isObject$2(e.data)?e.data:void 0}),toJSON(e){const t={};return""!==e.actionId&&(t.actionId=e.actionId),void 0!==e.data&&(t.data=e.data),t},create:e=>UserAction.fromPartial(e??{}),fromPartial(e){const t=createBaseUserAction();return t.actionId=e.actionId??"",t.data=e.data??void 0,t}};function isObject$2(e){return"object"==typeof e&&null!==e}function isSet$3(e){return null!=e}function Bubble(e,t){return new CustomEvent(e,{bubbles:!0,composed:!0,detail:t})}var AppPromoStatus;function appPromoStatusFromJSON(e){switch(e){case 0:case"APS_UNSPECIFIED":return AppPromoStatus.APS_UNSPECIFIED;case 1:case"APS_REDDIT_PROMOTED":return AppPromoStatus.APS_REDDIT_PROMOTED;default:return AppPromoStatus.UNRECOGNIZED}}function appPromoStatusToJSON(e){switch(e){case AppPromoStatus.APS_UNSPECIFIED:return 0;case AppPromoStatus.APS_REDDIT_PROMOTED:return 1;case AppPromoStatus.UNRECOGNIZED:default:return-1}}function createBaseAdsConfig(){return{promoStatus:0}}messageTypeRegistry.set(UserAction.$type,UserAction),function(e){e[e.APS_UNSPECIFIED=0]="APS_UNSPECIFIED",e[e.APS_REDDIT_PROMOTED=1]="APS_REDDIT_PROMOTED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(AppPromoStatus||(AppPromoStatus={}));const AdsConfig={$type:"reddit.devvit.ads.v1.AdsConfig",encode:(e,t=_m0.Writer.create())=>(0!==e.promoStatus&&t.uint32(8).int32(e.promoStatus),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseAdsConfig();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(8!==e)break;n.promoStatus=o.int32();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({promoStatus:isSet$2(e.promoStatus)?appPromoStatusFromJSON(e.promoStatus):0}),toJSON(e){const t={};return 0!==e.promoStatus&&(t.promoStatus=appPromoStatusToJSON(e.promoStatus)),t},create:e=>AdsConfig.fromPartial(e??{}),fromPartial(e){const t=createBaseAdsConfig();return t.promoStatus=e.promoStatus??0,t}};function isSet$2(e){return null!=e}var AppVisibility,RenderVersion;function appVisibilityFromJSON(e){switch(e){case 0:case"PUBLIC":return AppVisibility.PUBLIC;case 1:case"PRIVATE":return AppVisibility.PRIVATE;case 2:case"UNLISTED":return AppVisibility.UNLISTED;default:return AppVisibility.UNRECOGNIZED}}function appVisibilityToJSON(e){switch(e){case AppVisibility.PUBLIC:return 0;case AppVisibility.PRIVATE:return 1;case AppVisibility.UNLISTED:return 2;case AppVisibility.UNRECOGNIZED:default:return-1}}function createBaseApp(){return{id:"",slug:"",name:"",visibility:0,owner:void 0,version:"",adsConfig:void 0,termsAndConditions:"",privacyPolicy:"",requestedPermissionScopes:[],renderVersion:void 0}}messageTypeRegistry.set(AdsConfig.$type,AdsConfig),function(e){e[e.PUBLIC=0]="PUBLIC",e[e.PRIVATE=1]="PRIVATE",e[e.UNLISTED=2]="UNLISTED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(AppVisibility||(AppVisibility={})),function(e){e[e.RENDER_VERSION_UNSPECIFIED=0]="RENDER_VERSION_UNSPECIFIED",e[e.NO_DEVVIT_JSON=256]="NO_DEVVIT_JSON",e[e.WEBBIT_BLOCKS=512]="WEBBIT_BLOCKS",e[e.WEBBIT_PURE_NO_ENTRYPOINT=1024]="WEBBIT_PURE_NO_ENTRYPOINT",e[e.WEBBIT_PURE_NO_INLINE=1040]="WEBBIT_PURE_NO_INLINE",e[e.WEBBIT_PURE_INLINE=1056]="WEBBIT_PURE_INLINE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(RenderVersion||(RenderVersion={}));const App={$type:"reddit.devvit.common.v1.App",encode(e,t=_m0.Writer.create()){""!==e.id&&t.uint32(10).string(e.id),""!==e.slug&&t.uint32(18).string(e.slug),""!==e.name&&t.uint32(26).string(e.name),0!==e.visibility&&t.uint32(32).int32(e.visibility),void 0!==e.owner&&AppOwner.encode(e.owner,t.uint32(42).fork()).ldelim(),""!==e.version&&t.uint32(50).string(e.version),void 0!==e.adsConfig&&AdsConfig.encode(e.adsConfig,t.uint32(58).fork()).ldelim(),""!==e.termsAndConditions&&t.uint32(66).string(e.termsAndConditions),""!==e.privacyPolicy&&t.uint32(74).string(e.privacyPolicy),t.uint32(82).fork();for(const o of e.requestedPermissionScopes)t.int32(o);return t.ldelim(),void 0!==e.renderVersion&&t.uint32(88).int32(e.renderVersion),t},decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseApp();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.id=o.string();continue;case 2:if(18!==e)break;n.slug=o.string();continue;case 3:if(26!==e)break;n.name=o.string();continue;case 4:if(32!==e)break;n.visibility=o.int32();continue;case 5:if(42!==e)break;n.owner=AppOwner.decode(o,o.uint32());continue;case 6:if(50!==e)break;n.version=o.string();continue;case 7:if(58!==e)break;n.adsConfig=AdsConfig.decode(o,o.uint32());continue;case 8:if(66!==e)break;n.termsAndConditions=o.string();continue;case 9:if(74!==e)break;n.privacyPolicy=o.string();continue;case 10:if(80===e){n.requestedPermissionScopes.push(o.int32());continue}if(82===e){const e=o.uint32()+o.pos;for(;o.pos<e;)n.requestedPermissionScopes.push(o.int32());continue}break;case 11:if(88!==e)break;n.renderVersion=o.int32();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({id:isSet$1(e.id)?globalThis.String(e.id):"",slug:isSet$1(e.slug)?globalThis.String(e.slug):"",name:isSet$1(e.name)?globalThis.String(e.name):"",visibility:isSet$1(e.visibility)?appVisibilityFromJSON(e.visibility):0,owner:isSet$1(e.owner)?AppOwner.fromJSON(e.owner):void 0,version:isSet$1(e.version)?globalThis.String(e.version):"",adsConfig:isSet$1(e.adsConfig)?AdsConfig.fromJSON(e.adsConfig):void 0,termsAndConditions:isSet$1(e.termsAndConditions)?globalThis.String(e.termsAndConditions):"",privacyPolicy:isSet$1(e.privacyPolicy)?globalThis.String(e.privacyPolicy):"",requestedPermissionScopes:globalThis.Array.isArray(e?.requestedPermissionScopes)?e.requestedPermissionScopes.map((e=>scopeFromJSON(e))):[],renderVersion:isSet$1(e.renderVersion)?globalThis.Number(e.renderVersion):void 0}),toJSON(e){const t={};return""!==e.id&&(t.id=e.id),""!==e.slug&&(t.slug=e.slug),""!==e.name&&(t.name=e.name),0!==e.visibility&&(t.visibility=appVisibilityToJSON(e.visibility)),void 0!==e.owner&&(t.owner=AppOwner.toJSON(e.owner)),""!==e.version&&(t.version=e.version),void 0!==e.adsConfig&&(t.adsConfig=AdsConfig.toJSON(e.adsConfig)),""!==e.termsAndConditions&&(t.termsAndConditions=e.termsAndConditions),""!==e.privacyPolicy&&(t.privacyPolicy=e.privacyPolicy),e.requestedPermissionScopes?.length&&(t.requestedPermissionScopes=e.requestedPermissionScopes.map((e=>scopeToJSON(e)))),void 0!==e.renderVersion&&(t.renderVersion=Math.round(e.renderVersion)),t},create:e=>App.fromPartial(e??{}),fromPartial(e){const t=createBaseApp();return t.id=e.id??"",t.slug=e.slug??"",t.name=e.name??"",t.visibility=e.visibility??0,t.owner=void 0!==e.owner&&null!==e.owner?AppOwner.fromPartial(e.owner):void 0,t.version=e.version??"",t.adsConfig=void 0!==e.adsConfig&&null!==e.adsConfig?AdsConfig.fromPartial(e.adsConfig):void 0,t.termsAndConditions=e.termsAndConditions??"",t.privacyPolicy=e.privacyPolicy??"",t.requestedPermissionScopes=e.requestedPermissionScopes?.map((e=>e))||[],t.renderVersion=e.renderVersion??void 0,t}};function createBaseAppOwner(){return{userId:"",userName:""}}messageTypeRegistry.set(App.$type,App);const AppOwner={$type:"reddit.devvit.common.v1.AppOwner",encode:(e,t=_m0.Writer.create())=>(""!==e.userId&&t.uint32(10).string(e.userId),""!==e.userName&&t.uint32(18).string(e.userName),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseAppOwner();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.userId=o.string();continue;case 2:if(18!==e)break;n.userName=o.string();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({userId:isSet$1(e.userId)?globalThis.String(e.userId):"",userName:isSet$1(e.userName)?globalThis.String(e.userName):""}),toJSON(e){const t={};return""!==e.userId&&(t.userId=e.userId),""!==e.userName&&(t.userName=e.userName),t},create:e=>AppOwner.fromPartial(e??{}),fromPartial(e){const t=createBaseAppOwner();return t.userId=e.userId??"",t.userName=e.userName??"",t}};function createBaseAppConfig(){return{entrypoints:{}}}messageTypeRegistry.set(AppOwner.$type,AppOwner);const AppConfig={$type:"reddit.devvit.common.v1.AppConfig",encode:(e,t=_m0.Writer.create())=>(Object.entries(e.entrypoints).forEach((([e,o])=>{AppConfig_EntrypointsEntry.encode({key:e,value:o},t.uint32(10).fork()).ldelim()})),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseAppConfig();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;const t=AppConfig_EntrypointsEntry.decode(o,o.uint32());void 0!==t.value&&(n.entrypoints[t.key]=t.value);continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({entrypoints:isObject$1(e.entrypoints)?Object.entries(e.entrypoints).reduce(((e,[t,o])=>(e[t]=String(o),e)),{}):{}}),toJSON(e){const t={};if(e.entrypoints){const o=Object.entries(e.entrypoints);o.length>0&&(t.entrypoints={},o.forEach((([e,o])=>{t.entrypoints[e]=o})))}return t},create:e=>AppConfig.fromPartial(e??{}),fromPartial(e){const t=createBaseAppConfig();return t.entrypoints=Object.entries(e.entrypoints??{}).reduce(((e,[t,o])=>(void 0!==o&&(e[t]=globalThis.String(o)),e)),{}),t}};function createBaseAppConfig_EntrypointsEntry(){return{key:"",value:""}}messageTypeRegistry.set(AppConfig.$type,AppConfig);const AppConfig_EntrypointsEntry={$type:"reddit.devvit.common.v1.AppConfig.EntrypointsEntry",encode:(e,t=_m0.Writer.create())=>(""!==e.key&&t.uint32(10).string(e.key),""!==e.value&&t.uint32(18).string(e.value),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseAppConfig_EntrypointsEntry();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.key=o.string();continue;case 2:if(18!==e)break;n.value=o.string();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({key:isSet$1(e.key)?globalThis.String(e.key):"",value:isSet$1(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.key&&(t.key=e.key),""!==e.value&&(t.value=e.value),t},create:e=>AppConfig_EntrypointsEntry.fromPartial(e??{}),fromPartial(e){const t=createBaseAppConfig_EntrypointsEntry();return t.key=e.key??"",t.value=e.value??"",t}};function isObject$1(e){return"object"==typeof e&&null!==e}function isSet$1(e){return null!=e}var Client,Height;function clientFromJSON(e){switch(e){case 0:case"CLIENT_UNSPECIFIED":return Client.CLIENT_UNSPECIFIED;case 1:case"ANDROID":return Client.ANDROID;case 2:case"IOS":return Client.IOS;case 3:case"SHREDDIT":return Client.SHREDDIT;default:return Client.UNRECOGNIZED}}function clientToJSON(e){switch(e){case Client.CLIENT_UNSPECIFIED:return 0;case Client.ANDROID:return 1;case Client.IOS:return 2;case Client.SHREDDIT:return 3;case Client.UNRECOGNIZED:default:return-1}}function createBaseBridgeContext(){return{postData:void 0,shareParam:void 0,webViewContext:void 0,webbitToken:"",devvitDebug:"",client:0,nativeVersion:void 0,shredditVersion:void 0,appPermissionState:void 0,viewMode:void 0,signedRequestContext:void 0,webViewClientData:void 0,startTime:void 0}}messageTypeRegistry.set(AppConfig_EntrypointsEntry.$type,AppConfig_EntrypointsEntry),function(e){e[e.CLIENT_UNSPECIFIED=0]="CLIENT_UNSPECIFIED",e[e.ANDROID=1]="ANDROID",e[e.IOS=2]="IOS",e[e.SHREDDIT=3]="SHREDDIT",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Client||(Client={})),function(e){e[e.HEIGHT_UNSPECIFIED=0]="HEIGHT_UNSPECIFIED",e[e.REGULAR=1]="REGULAR",e[e.TALL=2]="TALL",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Height||(Height={}));const BridgeContext={$type:"devvit.ui.effects.web_view.v1alpha.BridgeContext",encode:(e,t=_m0.Writer.create())=>(void 0!==e.postData&&DevvitPostData.encode(e.postData,t.uint32(10).fork()).ldelim(),void 0!==e.shareParam&&ShareParam.encode(e.shareParam,t.uint32(18).fork()).ldelim(),void 0!==e.webViewContext&&WebViewContext.encode(e.webViewContext,t.uint32(26).fork()).ldelim(),""!==e.webbitToken&&t.uint32(34).string(e.webbitToken),""!==e.devvitDebug&&t.uint32(42).string(e.devvitDebug),0!==e.client&&t.uint32(48).int32(e.client),void 0!==e.nativeVersion&&NativeClientVersion.encode(e.nativeVersion,t.uint32(58).fork()).ldelim(),void 0!==e.shredditVersion&&SemVer.encode(e.shredditVersion,t.uint32(66).fork()).ldelim(),void 0!==e.appPermissionState&&AppPermissionState.encode(e.appPermissionState,t.uint32(74).fork()).ldelim(),void 0!==e.viewMode&&t.uint32(80).int32(e.viewMode),void 0!==e.signedRequestContext&&t.uint32(98).string(e.signedRequestContext),void 0!==e.webViewClientData&&Struct.encode(Struct.wrap(e.webViewClientData),t.uint32(106).fork()).ldelim(),void 0!==e.startTime&&t.uint32(113).double(e.startTime),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseBridgeContext();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.postData=DevvitPostData.decode(o,o.uint32());continue;case 2:if(18!==e)break;n.shareParam=ShareParam.decode(o,o.uint32());continue;case 3:if(26!==e)break;n.webViewContext=WebViewContext.decode(o,o.uint32());continue;case 4:if(34!==e)break;n.webbitToken=o.string();continue;case 5:if(42!==e)break;n.devvitDebug=o.string();continue;case 6:if(48!==e)break;n.client=o.int32();continue;case 7:if(58!==e)break;n.nativeVersion=NativeClientVersion.decode(o,o.uint32());continue;case 8:if(66!==e)break;n.shredditVersion=SemVer.decode(o,o.uint32());continue;case 9:if(74!==e)break;n.appPermissionState=AppPermissionState.decode(o,o.uint32());continue;case 10:if(80!==e)break;n.viewMode=o.int32();continue;case 12:if(98!==e)break;n.signedRequestContext=o.string();continue;case 13:if(106!==e)break;n.webViewClientData=Struct.unwrap(Struct.decode(o,o.uint32()));continue;case 14:if(113!==e)break;n.startTime=o.double();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({postData:isSet(e.postData)?DevvitPostData.fromJSON(e.postData):void 0,shareParam:isSet(e.shareParam)?ShareParam.fromJSON(e.shareParam):void 0,webViewContext:isSet(e.webViewContext)?WebViewContext.fromJSON(e.webViewContext):void 0,webbitToken:isSet(e.webbitToken)?globalThis.String(e.webbitToken):"",devvitDebug:isSet(e.devvitDebug)?globalThis.String(e.devvitDebug):"",client:isSet(e.client)?clientFromJSON(e.client):0,nativeVersion:isSet(e.nativeVersion)?NativeClientVersion.fromJSON(e.nativeVersion):void 0,shredditVersion:isSet(e.shredditVersion)?SemVer.fromJSON(e.shredditVersion):void 0,appPermissionState:isSet(e.appPermissionState)?AppPermissionState.fromJSON(e.appPermissionState):void 0,viewMode:isSet(e.viewMode)?webViewImmersiveModeFromJSON(e.viewMode):void 0,signedRequestContext:isSet(e.signedRequestContext)?globalThis.String(e.signedRequestContext):void 0,webViewClientData:isObject(e.webViewClientData)?e.webViewClientData:void 0,startTime:isSet(e.startTime)?globalThis.Number(e.startTime):void 0}),toJSON(e){const t={};return void 0!==e.postData&&(t.postData=DevvitPostData.toJSON(e.postData)),void 0!==e.shareParam&&(t.shareParam=ShareParam.toJSON(e.shareParam)),void 0!==e.webViewContext&&(t.webViewContext=WebViewContext.toJSON(e.webViewContext)),""!==e.webbitToken&&(t.webbitToken=e.webbitToken),""!==e.devvitDebug&&(t.devvitDebug=e.devvitDebug),0!==e.client&&(t.client=clientToJSON(e.client)),void 0!==e.nativeVersion&&(t.nativeVersion=NativeClientVersion.toJSON(e.nativeVersion)),void 0!==e.shredditVersion&&(t.shredditVersion=SemVer.toJSON(e.shredditVersion)),void 0!==e.appPermissionState&&(t.appPermissionState=AppPermissionState.toJSON(e.appPermissionState)),void 0!==e.viewMode&&(t.viewMode=webViewImmersiveModeToJSON(e.viewMode)),void 0!==e.signedRequestContext&&(t.signedRequestContext=e.signedRequestContext),void 0!==e.webViewClientData&&(t.webViewClientData=e.webViewClientData),void 0!==e.startTime&&(t.startTime=e.startTime),t},create:e=>BridgeContext.fromPartial(e??{}),fromPartial(e){const t=createBaseBridgeContext();return t.postData=void 0!==e.postData&&null!==e.postData?DevvitPostData.fromPartial(e.postData):void 0,t.shareParam=void 0!==e.shareParam&&null!==e.shareParam?ShareParam.fromPartial(e.shareParam):void 0,t.webViewContext=void 0!==e.webViewContext&&null!==e.webViewContext?WebViewContext.fromPartial(e.webViewContext):void 0,t.webbitToken=e.webbitToken??"",t.devvitDebug=e.devvitDebug??"",t.client=e.client??0,t.nativeVersion=void 0!==e.nativeVersion&&null!==e.nativeVersion?NativeClientVersion.fromPartial(e.nativeVersion):void 0,t.shredditVersion=void 0!==e.shredditVersion&&null!==e.shredditVersion?SemVer.fromPartial(e.shredditVersion):void 0,t.appPermissionState=void 0!==e.appPermissionState&&null!==e.appPermissionState?AppPermissionState.fromPartial(e.appPermissionState):void 0,t.viewMode=e.viewMode??void 0,t.signedRequestContext=e.signedRequestContext??void 0,t.webViewClientData=e.webViewClientData??void 0,t.startTime=e.startTime??void 0,t}};function createBaseNativeClientVersion(){return{yyyy:0,release:0,attempt:0,number:0}}messageTypeRegistry.set(BridgeContext.$type,BridgeContext);const NativeClientVersion={$type:"devvit.ui.effects.web_view.v1alpha.NativeClientVersion",encode:(e,t=_m0.Writer.create())=>(0!==e.yyyy&&t.uint32(8).int32(e.yyyy),0!==e.release&&t.uint32(16).int32(e.release),0!==e.attempt&&t.uint32(24).int32(e.attempt),0!==e.number&&t.uint32(32).int32(e.number),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseNativeClientVersion();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(8!==e)break;n.yyyy=o.int32();continue;case 2:if(16!==e)break;n.release=o.int32();continue;case 3:if(24!==e)break;n.attempt=o.int32();continue;case 4:if(32!==e)break;n.number=o.int32();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({yyyy:isSet(e.yyyy)?globalThis.Number(e.yyyy):0,release:isSet(e.release)?globalThis.Number(e.release):0,attempt:isSet(e.attempt)?globalThis.Number(e.attempt):0,number:isSet(e.number)?globalThis.Number(e.number):0}),toJSON(e){const t={};return 0!==e.yyyy&&(t.yyyy=Math.round(e.yyyy)),0!==e.release&&(t.release=Math.round(e.release)),0!==e.attempt&&(t.attempt=Math.round(e.attempt)),0!==e.number&&(t.number=Math.round(e.number)),t},create:e=>NativeClientVersion.fromPartial(e??{}),fromPartial(e){const t=createBaseNativeClientVersion();return t.yyyy=e.yyyy??0,t.release=e.release??0,t.attempt=e.attempt??0,t.number=e.number??0,t}};function createBaseSemVer(){return{major:0,minor:0,patch:0,version:""}}messageTypeRegistry.set(NativeClientVersion.$type,NativeClientVersion);const SemVer={$type:"devvit.ui.effects.web_view.v1alpha.SemVer",encode:(e,t=_m0.Writer.create())=>(0!==e.major&&t.uint32(8).int32(e.major),0!==e.minor&&t.uint32(16).int32(e.minor),0!==e.patch&&t.uint32(24).int32(e.patch),""!==e.version&&t.uint32(34).string(e.version),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseSemVer();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(8!==e)break;n.major=o.int32();continue;case 2:if(16!==e)break;n.minor=o.int32();continue;case 3:if(24!==e)break;n.patch=o.int32();continue;case 4:if(34!==e)break;n.version=o.string();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({major:isSet(e.major)?globalThis.Number(e.major):0,minor:isSet(e.minor)?globalThis.Number(e.minor):0,patch:isSet(e.patch)?globalThis.Number(e.patch):0,version:isSet(e.version)?globalThis.String(e.version):""}),toJSON(e){const t={};return 0!==e.major&&(t.major=Math.round(e.major)),0!==e.minor&&(t.minor=Math.round(e.minor)),0!==e.patch&&(t.patch=Math.round(e.patch)),""!==e.version&&(t.version=e.version),t},create:e=>SemVer.fromPartial(e??{}),fromPartial(e){const t=createBaseSemVer();return t.major=e.major??0,t.minor=e.minor??0,t.patch=e.patch??0,t.version=e.version??"",t}};function createBaseWebViewClientData(){return{appConfig:void 0}}messageTypeRegistry.set(SemVer.$type,SemVer);const WebViewClientData={$type:"devvit.ui.effects.web_view.v1alpha.WebViewClientData",encode:(e,t=_m0.Writer.create())=>(void 0!==e.appConfig&&AppConfig.encode(e.appConfig,t.uint32(10).fork()).ldelim(),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseWebViewClientData();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.appConfig=AppConfig.decode(o,o.uint32());continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({appConfig:isSet(e.appConfig)?AppConfig.fromJSON(e.appConfig):void 0}),toJSON(e){const t={};return void 0!==e.appConfig&&(t.appConfig=AppConfig.toJSON(e.appConfig)),t},create:e=>WebViewClientData.fromPartial(e??{}),fromPartial(e){const t=createBaseWebViewClientData();return t.appConfig=void 0!==e.appConfig&&null!==e.appConfig?AppConfig.fromPartial(e.appConfig):void 0,t}};function createBaseWebViewContext(){return{subredditId:"",subredditName:"",userId:"",appName:"",appVersion:"",postId:""}}messageTypeRegistry.set(WebViewClientData.$type,WebViewClientData);const WebViewContext={$type:"devvit.ui.effects.web_view.v1alpha.WebViewContext",encode:(e,t=_m0.Writer.create())=>(""!==e.subredditId&&t.uint32(10).string(e.subredditId),""!==e.subredditName&&t.uint32(18).string(e.subredditName),""!==e.userId&&t.uint32(26).string(e.userId),""!==e.appName&&t.uint32(34).string(e.appName),""!==e.appVersion&&t.uint32(42).string(e.appVersion),""!==e.postId&&t.uint32(50).string(e.postId),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseWebViewContext();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.subredditId=o.string();continue;case 2:if(18!==e)break;n.subredditName=o.string();continue;case 3:if(26!==e)break;n.userId=o.string();continue;case 4:if(34!==e)break;n.appName=o.string();continue;case 5:if(42!==e)break;n.appVersion=o.string();continue;case 6:if(50!==e)break;n.postId=o.string();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({subredditId:isSet(e.subredditId)?globalThis.String(e.subredditId):"",subredditName:isSet(e.subredditName)?globalThis.String(e.subredditName):"",userId:isSet(e.userId)?globalThis.String(e.userId):"",appName:isSet(e.appName)?globalThis.String(e.appName):"",appVersion:isSet(e.appVersion)?globalThis.String(e.appVersion):"",postId:isSet(e.postId)?globalThis.String(e.postId):""}),toJSON(e){const t={};return""!==e.subredditId&&(t.subredditId=e.subredditId),""!==e.subredditName&&(t.subredditName=e.subredditName),""!==e.userId&&(t.userId=e.userId),""!==e.appName&&(t.appName=e.appName),""!==e.appVersion&&(t.appVersion=e.appVersion),""!==e.postId&&(t.postId=e.postId),t},create:e=>WebViewContext.fromPartial(e??{}),fromPartial(e){const t=createBaseWebViewContext();return t.subredditId=e.subredditId??"",t.subredditName=e.subredditName??"",t.userId=e.userId??"",t.appName=e.appName??"",t.appVersion=e.appVersion??"",t.postId=e.postId??"",t}};function createBaseDevvitPostData(){return{splash:void 0,developerData:void 0}}messageTypeRegistry.set(WebViewContext.$type,WebViewContext);const DevvitPostData={$type:"devvit.ui.effects.web_view.v1alpha.DevvitPostData",encode:(e,t=_m0.Writer.create())=>(void 0!==e.splash&&SplashPostData.encode(e.splash,t.uint32(26).fork()).ldelim(),void 0!==e.developerData&&Struct.encode(Struct.wrap(e.developerData),t.uint32(18).fork()).ldelim(),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseDevvitPostData();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 3:if(26!==e)break;n.splash=SplashPostData.decode(o,o.uint32());continue;case 2:if(18!==e)break;n.developerData=Struct.unwrap(Struct.decode(o,o.uint32()));continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({splash:isSet(e.splash)?SplashPostData.fromJSON(e.splash):void 0,developerData:isObject(e.developerData)?e.developerData:void 0}),toJSON(e){const t={};return void 0!==e.splash&&(t.splash=SplashPostData.toJSON(e.splash)),void 0!==e.developerData&&(t.developerData=e.developerData),t},create:e=>DevvitPostData.fromPartial(e??{}),fromPartial(e){const t=createBaseDevvitPostData();return t.splash=void 0!==e.splash&&null!==e.splash?SplashPostData.fromPartial(e.splash):void 0,t.developerData=e.developerData??void 0,t}};function createBaseShareParam(){return{path:"",params:{},hash:"",userData:void 0}}messageTypeRegistry.set(DevvitPostData.$type,DevvitPostData);const ShareParam={$type:"devvit.ui.effects.web_view.v1alpha.ShareParam",encode:(e,t=_m0.Writer.create())=>(""!==e.path&&t.uint32(10).string(e.path),Object.entries(e.params).forEach((([e,o])=>{ShareParam_ParamsEntry.encode({key:e,value:o},t.uint32(18).fork()).ldelim()})),""!==e.hash&&t.uint32(26).string(e.hash),void 0!==e.userData&&t.uint32(34).string(e.userData),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseShareParam();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.path=o.string();continue;case 2:if(18!==e)break;const t=ShareParam_ParamsEntry.decode(o,o.uint32());void 0!==t.value&&(n.params[t.key]=t.value);continue;case 3:if(26!==e)break;n.hash=o.string();continue;case 4:if(34!==e)break;n.userData=o.string();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({path:isSet(e.path)?globalThis.String(e.path):"",params:isObject(e.params)?Object.entries(e.params).reduce(((e,[t,o])=>(e[t]=String(o),e)),{}):{},hash:isSet(e.hash)?globalThis.String(e.hash):"",userData:isSet(e.userData)?globalThis.String(e.userData):void 0}),toJSON(e){const t={};if(""!==e.path&&(t.path=e.path),e.params){const o=Object.entries(e.params);o.length>0&&(t.params={},o.forEach((([e,o])=>{t.params[e]=o})))}return""!==e.hash&&(t.hash=e.hash),void 0!==e.userData&&(t.userData=e.userData),t},create:e=>ShareParam.fromPartial(e??{}),fromPartial(e){const t=createBaseShareParam();return t.path=e.path??"",t.params=Object.entries(e.params??{}).reduce(((e,[t,o])=>(void 0!==o&&(e[t]=globalThis.String(o)),e)),{}),t.hash=e.hash??"",t.userData=e.userData??void 0,t}};function createBaseShareParam_ParamsEntry(){return{key:"",value:""}}messageTypeRegistry.set(ShareParam.$type,ShareParam);const ShareParam_ParamsEntry={$type:"devvit.ui.effects.web_view.v1alpha.ShareParam.ParamsEntry",encode:(e,t=_m0.Writer.create())=>(""!==e.key&&t.uint32(10).string(e.key),""!==e.value&&t.uint32(18).string(e.value),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseShareParam_ParamsEntry();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.key=o.string();continue;case 2:if(18!==e)break;n.value=o.string();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({key:isSet(e.key)?globalThis.String(e.key):"",value:isSet(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.key&&(t.key=e.key),""!==e.value&&(t.value=e.value),t},create:e=>ShareParam_ParamsEntry.fromPartial(e??{}),fromPartial(e){const t=createBaseShareParam_ParamsEntry();return t.key=e.key??"",t.value=e.value??"",t}};function createBaseSplashPostData(){return{appDisplayName:void 0,appIconUri:void 0,backgroundUri:void 0,buttonLabel:void 0,description:void 0,entry:void 0,title:void 0}}messageTypeRegistry.set(ShareParam_ParamsEntry.$type,ShareParam_ParamsEntry);const SplashPostData={$type:"devvit.ui.effects.web_view.v1alpha.SplashPostData",encode:(e,t=_m0.Writer.create())=>(void 0!==e.appDisplayName&&t.uint32(10).string(e.appDisplayName),void 0!==e.appIconUri&&t.uint32(18).string(e.appIconUri),void 0!==e.backgroundUri&&t.uint32(26).string(e.backgroundUri),void 0!==e.buttonLabel&&t.uint32(34).string(e.buttonLabel),void 0!==e.description&&t.uint32(42).string(e.description),void 0!==e.entry&&t.uint32(74).string(e.entry),void 0!==e.title&&t.uint32(58).string(e.title),t),decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseSplashPostData();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(10!==e)break;n.appDisplayName=o.string();continue;case 2:if(18!==e)break;n.appIconUri=o.string();continue;case 3:if(26!==e)break;n.backgroundUri=o.string();continue;case 4:if(34!==e)break;n.buttonLabel=o.string();continue;case 5:if(42!==e)break;n.description=o.string();continue;case 9:if(74!==e)break;n.entry=o.string();continue;case 7:if(58!==e)break;n.title=o.string();continue}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({appDisplayName:isSet(e.appDisplayName)?globalThis.String(e.appDisplayName):void 0,appIconUri:isSet(e.appIconUri)?globalThis.String(e.appIconUri):void 0,backgroundUri:isSet(e.backgroundUri)?globalThis.String(e.backgroundUri):void 0,buttonLabel:isSet(e.buttonLabel)?globalThis.String(e.buttonLabel):void 0,description:isSet(e.description)?globalThis.String(e.description):void 0,entry:isSet(e.entry)?globalThis.String(e.entry):void 0,title:isSet(e.title)?globalThis.String(e.title):void 0}),toJSON(e){const t={};return void 0!==e.appDisplayName&&(t.appDisplayName=e.appDisplayName),void 0!==e.appIconUri&&(t.appIconUri=e.appIconUri),void 0!==e.backgroundUri&&(t.backgroundUri=e.backgroundUri),void 0!==e.buttonLabel&&(t.buttonLabel=e.buttonLabel),void 0!==e.description&&(t.description=e.description),void 0!==e.entry&&(t.entry=e.entry),void 0!==e.title&&(t.title=e.title),t},create:e=>SplashPostData.fromPartial(e??{}),fromPartial(e){const t=createBaseSplashPostData();return t.appDisplayName=e.appDisplayName??void 0,t.appIconUri=e.appIconUri??void 0,t.backgroundUri=e.backgroundUri??void 0,t.buttonLabel=e.buttonLabel??void 0,t.description=e.description??void 0,t.entry=e.entry??void 0,t.title=e.title??void 0,t}};function createBaseAppPermissionState(){return{consentStatus:0,grantedScopes:[],requestedScopes:[]}}messageTypeRegistry.set(SplashPostData.$type,SplashPostData);const AppPermissionState={$type:"devvit.ui.effects.web_view.v1alpha.AppPermissionState",encode(e,t=_m0.Writer.create()){0!==e.consentStatus&&t.uint32(8).int32(e.consentStatus),t.uint32(18).fork();for(const o of e.grantedScopes)t.int32(o);t.ldelim(),t.uint32(26).fork();for(const o of e.requestedScopes)t.int32(o);return t.ldelim(),t},decode(e,t){const o=e instanceof _m0.Reader?e:_m0.Reader.create(e);let r=void 0===t?o.len:o.pos+t;const n=createBaseAppPermissionState();for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:if(8!==e)break;n.consentStatus=o.int32();continue;case 2:if(16===e){n.grantedScopes.push(o.int32());continue}if(18===e){const e=o.uint32()+o.pos;for(;o.pos<e;)n.grantedScopes.push(o.int32());continue}break;case 3:if(24===e){n.requestedScopes.push(o.int32());continue}if(26===e){const e=o.uint32()+o.pos;for(;o.pos<e;)n.requestedScopes.push(o.int32());continue}}if(4==(7&e)||0===e)break;o.skipType(7&e)}return n},fromJSON:e=>({consentStatus:isSet(e.consentStatus)?consentStatusFromJSON(e.consentStatus):0,grantedScopes:globalThis.Array.isArray(e?.grantedScopes)?e.grantedScopes.map((e=>scopeFromJSON(e))):[],requestedScopes:globalThis.Array.isArray(e?.requestedScopes)?e.requestedScopes.map((e=>scopeFromJSON(e))):[]}),toJSON(e){const t={};return 0!==e.consentStatus&&(t.consentStatus=consentStatusToJSON(e.consentStatus)),e.grantedScopes?.length&&(t.grantedScopes=e.grantedScopes.map((e=>scopeToJSON(e)))),e.requestedScopes?.length&&(t.requestedScopes=e.requestedScopes.map((e=>scopeToJSON(e)))),t},create:e=>AppPermissionState.fromPartial(e??{}),fromPartial(e){const t=createBaseAppPermissionState();return t.consentStatus=e.consentStatus??0,t.grantedScopes=e.grantedScopes?.map((e=>e))||[],t.requestedScopes=e.requestedScopes?.map((e=>e))||[],t}};function isObject(e){return"object"==typeof e&&null!==e}function isSet(e){return null!=e}messageTypeRegistry.set(AppPermissionState.$type,AppPermissionState);const queryParamDevvitDebug="devvitdebug",queryParamDevvitShare="devvitshare";function getDevvitDebug(){return getQueryParam(queryParamDevvitDebug)}function getDevvitShareParam(){return getQueryParam(queryParamDevvitShare)}function initDevvitGlobal(){var e,t,o;if(globalThis.devvit??(globalThis.devvit={}),globalThis.devvit.debug)return;(e=globalThis.devvit).debug??(e.debug={});const r={blocks:void 0,emitSnapshots:void 0,emitState:void 0,realtime:void 0,runtime:void 0,surface:void 0,useAsync:void 0,payments:void 0,bootstrap:void 0,webView:void 0},n={};for(const e in r)n[e.toLowerCase()]=e;let a=getDevvitDebug();if(null!=a){"all"===a&&(a=Object.keys(r).filter((e=>"emitSnapshots"!==e&&"emitState"!==e)).join());for(const e of a.split(",")??[]){let[r,a]=e.split("=");r&&(r.toLowerCase()in n?r=n[r.toLowerCase()]:console.warn(`[devvit] unknown devvitdebug parameter "${r}"`),(t=globalThis.devvit.debug)[o=r]??(t[o]=a||"true"),console.info(`[devvit] set devvitdebug ${r}=${globalThis.devvit.debug[r]}`))}}}function getQueryParam(e){const t=new URL(globalThis.location?location.href:"file://");return[...t.searchParams].find((([t])=>t.toLowerCase()===e))?.[1]}const _str=(e,...t)=>({strTag:!0,strings:e,values:t}),str=_str,isStrTagged=e=>"string"!=typeof e&&"strTag"in e,joinStringsAndValues=(e,t,o)=>{let r=e[0];for(let o=1;o<e.length;o++)r+=t[o-1],r+=e[o];return r},defaultMsg=e=>isStrTagged(e)?joinStringsAndValues(e.strings,e.values):e;let msg=defaultMsg;class Deferred{constructor(){this.settled=!1,this.promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t}))}resolve(e){this.settled=!0,this._resolve(e)}reject(e){this.settled=!0,this._reject(e)}}for(let e=0;e<256;e++)(e>>4&15).toString(16),(15&e).toString(16);let loading=new Deferred;loading.resolve();const stylesCSS="faceplate-expandable-section-helper {    display: contents;    /* [rpl] just to boost the selector */    /*    Target the [open] attribute on either the root element OR the details    element to rotate the chevron. This is to handle rotating chevrons both    before and after the faceplate-expandable-section-helper component is defined.        Before the component is defined, the [open] attribute on the component will not    toggle if the user clicks on details, but the [open] attribute will toggle on    the details element, so we need to target details too.      The reason we can't target only the details element is because once the web    component is defined, we delay toggling the [open] attribute on the details    element until AFTER the animation finishes. So if we only targeted the details    element for the chevron rotation the chevron wouldn't rotate until after the    collapse animation finished and we finally toggle the [open] attriubte on the    details element.    */    /*      Specific handling for nested menus. We only need to handle collapse menus inside of      expanded menus, not expanded menus inside collapsed menus because you can't see those!    */  }  faceplate-expandable-section-helper > details > summary {    list-style-type: none;    /* For Safari */  }  faceplate-expandable-section-helper > details > summary::marker,  faceplate-expandable-section-helper > details > summary::-webkit-details-marker {    display: none;  }  faceplate-expandable-section-helper[rpl] > details > summary {    /* override details.less */    margin: 0;  }  faceplate-expandable-section-helper > details > summary [icon-name='caret-down-outline'] {    transition: transform 0.22s ease-in-out;  }  faceplate-expandable-section-helper[open] > details > summary svg[rpl][icon-name='caret-down-outline'],  faceplate-expandable-section-helper:not(:defined) > details[open] > summary svg[rpl][icon-name='caret-down-outline'] {    transform: rotate(180deg);  }  faceplate-expandable-section-helper:not([open]) > details > summary svg[rpl][icon-name='caret-down-outline'],  faceplate-expandable-section-helper:not(:defined) > details[open] > summary svg[rpl][icon-name='caret-down-outline'] {    transform: rotate(0deg);  }  faceplate-hovercard:not(:defined) > [slot='content'] {    display: none;  }  faceplate-hovercard[trigger='mouse'] a,  faceplate-hovercard[trigger='mouse'] button,  faceplate-hovercard[trigger='mouse'] [faceplate-focusable],  faceplate-hovercard[trigger='mouse'] [tabindex='0'] {    outline: none;  }  /*   * This is a Tailwind CSS file, it must be run through the PostCSS compiler   * with the Tailwind plugin, not Less. The `postcss-import` plugin is also   * needed, if you have other additions to your Tailwind entry point CSS.   *   * @example   * // tailwind.css   * @import '@reddit/faceplate/styles/tailwind-components.css'   * @tailwind components;   * @tailwind utilities;   *   * // styles.less   * @import (less) '@reddit/faceplate/faceplate.css';   * @import (less) './tailwind-build.css';   */  /* rem-based sizing units referenced by equivalent pixel sizes */  :root,  .theme-light {    --rem360: 22.5rem;    --rem320: 20rem;    --rem192: 12rem;    --rem144: 9rem;    --rem128: 8rem;    --rem96: 6rem;    --rem90: 5.625rem;    --rem88: 5.5rem;    --rem64: 4rem;    --rem56: 3.5rem;    --rem48: 3rem;    --rem40: 2.5rem;    --rem36: 2.25rem;    --rem32: 2rem;    --rem28: 1.75rem;    --rem26: 1.625rem;    --rem24: 1.5rem;    --rem22: 1.375rem;    --rem20: 1.25rem;    --rem18: 1.125rem;    --rem16: 1rem;    --rem15: 0.9375rem;    --rem14: 0.875rem;    --rem12: 0.75rem;    --rem10: 0.625rem;    --rem8: 0.5rem;    --rem6: 0.375rem;    --rem4: 0.25rem;    --rem2: 0.125rem;    --rem1: 0.0625rem;    --spacer-4xs: 0.125rem;    --spacer-2xs: 0.25rem;    --spacer-xs: 0.5rem;    --spacer-sm: 0.75rem;    --spacer-md: 1rem;    --spacer-lg: 1.5rem;    --spacer-xl: 2rem;    --spacer-2xl: 3rem;    --spacer-a-px: 0px;    --spacer-button-lg-px: var(--spacer-lg);    --spacer-button-md-px: var(--spacer-lg);    --spacer-button-sm-px: var(--spacer-md);    --spacer-input-padding-left: 0px;    --spacer-input-padding-top: 0px;    --spacer-label-default: 0px;    --spacer-switch-input-active-pl: 0px;    --size-2xs: 0.25rem;    --size-xs: 0.5rem;    --size-sm: 0.75rem;    --size-md: 1rem;    --size-lg: 1.5rem;    --size-xl: 2rem;    --size-2xl: 3rem;    --size-3xl: 4rem;    --size-4xl: 6rem;    --size-5xl: 8rem;    --size-button-lg-h: 3.375rem;    --size-button-md-h: 2.75rem;    --size-button-sm-h: 2.125rem;    --size-button-xs-h: 1.375rem;    --size-switch-input-h: 1.25rem;    --size-switch-input-w: 2rem;    --line-sm: 0.0625rem;    --line-md: 0.125rem;    --line-lg: 0.25rem;    --line-a-focus: 0px;    --line-a-outline-moz: 0.0625rem;    --line-a-outline-wb: 0.3125rem;    --line-button-lg-border: 0.0625rem;    --line-button-md-border: 0.0625rem;    --line-button-sm-border: 0.0625rem;    --line-button-xs-border: 0.0625rem;    --line-button-border-activated: 0.0625rem;    --line-input-border: var(--line-sm);    --radius-sm: 0.25rem;    --radius-lg: 2rem;    --radius-full: 624.9375rem;    --radius-accordion-size: var(--radius-sm);    --font-10-15-bold: normal 700 0.625rem / 0.9375rem var(--font-sans);    --font-button-lg: normal 700 1.125rem / 1.375rem var(--font-sans);    --font-button-md: normal 700 1rem / 1.25rem var(--font-sans);    --font-button-sm: normal 700 0.875rem / 1.125rem var(--font-sans);    --font-button-xs: normal 700 0.75rem / 0.875rem var(--font-sans);    --font-label-default: var(--font-10-15-bold);    --misc-accordion-border: 1px solid var(--color-tone-5);    --misc-accordion-open-list-style-type: disclosure-open;    --misc-accordion-closed-list-style-type: disclosure-closed;    --misc-divider-margin: 0.5rem auto;    --misc-label-text-transform: uppercase;    --misc-label-letter-spacing: 0.5px;    --color-primary-visited: #660099;    --color-primary-background: #24a0ed;    --color-primary-background-hover: #006cbf;    --color-danger-content: #ea0027;    --color-success-content: #46d160;    --color-global-black: #000000;    --color-global-white: #ffffff;    --color-global-orangered: #D93900;    --color-global-alienblue: #0079d3;    --color-global-darkblue: #1d2535;    --color-tone-1: #1a1a1b;    --color-tone-2: #6a6d6f;    --color-tone-3: #878a8c;    --color-tone-4: #d3d6da;    --color-tone-5: #edeff1;    --color-tone-6: #f6f7f8;    --color-tone-7: #ffffff;    --color-action-primary: var(--color-primary-background);    --color-action-secondary: var(--color-primary-background-hover);    --color-action-upvote: var(--color-global-orangered);    --color-action-downvote: #7193ff;    --color-alert-positive: var(--color-success-content);    --color-alert-negative: var(--color-danger-content);    --color-alert-caution: #ffb000;    --color-identity-admin: var(--color-global-orangered);    --color-identity-moderator: #46d160;    --color-identity-self: #0dd3bb;    --color-identity-coins: #ddbd37;    --color-category-live: var(--color-global-orangered);    --color-category-nsfw: #ff3881;    --color-category-spoiler: var(--color-tone-1);    --color-ui-canvas: var(--color-tone-5);    --color-ui-modalbackground: var(--color-tone-7);    --color-opacity-highlight: linear-gradient(#006cbf1a, var(--color-tone-6));    --color-opacity-08: #1a1a1b14;    --color-opacity-50: #00000080;    --color-scrim: #1a1a1b4d;    --color-a-default: var(--color-primary-background-hover);    --color-a-hover: var(--color-primary-background-hover);    --color-a-visited: var(--color-primary-background-hover);    --color-button-overlay-focus: #ffffff1a;    --color-button-overlay-active: #00000014;    --color-button-primary-background-hover: var(--color-primary-background);    --color-button-primary-background-disabled: var(--color-tone-6);    --color-button-primary-border-hover: transparent;    --color-button-primary-border-active: transparent;    --color-button-primary-border-activated: transparent;    --color-button-primary-border-disabled: transparent;    --color-button-primary-text-disabled: var(--color-tone-2);    --color-button-secondary-background: transparent;    --color-button-secondary-background-focus: transparent;    --color-button-secondary-background-hover: transparent;    --color-button-secondary-background-disabled: var(--color-tone-6);    --color-button-secondary-background-activated: transparent;    --color-button-secondary-border: var(--color-primary-background-hover);    --color-button-secondary-border-hover: var(--color-primary-background-hover);    --color-button-secondary-border-active: var(--color-primary-background-hover);    --color-button-secondary-border-activated: var(--color-primary-background-hover);    --color-button-secondary-border-disabled: var(--color-tone-2);    --color-button-secondary-text: var(--color-primary-background-hover);    --color-button-secondary-text-disabled: var(--color-tone-2);    --color-button-secondary-text-activated: var(--color-button-secondary-text);    --color-button-tertiary-background: var(--color-tone-6);    --color-button-tertiary-background-focus: var(--color-tone-6);    --color-button-tertiary-background-hover: var(--color-tone-6);    --color-button-tertiary-background-disabled: var(--color-tone-6);    --color-button-tertiary-background-activated: var(--color-tone-6);    --color-button-tertiary-border-hover: transparent;    --color-button-tertiary-border-active: transparent;    --color-button-tertiary-text: var(--color-primary-background-hover);    --color-button-tertiary-text-disabled: var(--color-tone-2);    --color-button-tertiary-text-activated: var(--color-primary-background-hover);    --color-button-plain-background-hover: transparent;    --color-button-plain-background-disabled: var(--color-tone-7);    --color-button-plain-background-activated: transparent;    --color-button-plain-border-hover: transparent;    --color-button-plain-border-active: transparent;    --color-button-plain-text: var(--color-primary-background-hover);    --color-button-plain-text-disabled: var(--color-tone-2);    --color-button-plain-text-activated: var(--color-primary-background-hover);    --color-divider-default: var(--color-tone-5);    --color-input-default: var(--color-tone-6);    --color-input-hover: var(--color-primary-background-hover);    --color-input-border: var(--color-tone-5);    --color-input-text: var(--color-tone-1);    --color-input-helper-text: var(--color-tone-1);    --color-label-default: var(--color-tone-1);    --color-switch-input-background-default: var(--color-tone-3);    --color-switch-input-background-checked: var(--color-global-alienblue);    --color-switch-input-background-disabled: var(--color-tone-6);    --color-switch-input-background-checked-disabled: var(--color-tone-5);    --color-switch-input-background-hover: var(--color-tone-3);    --color-switch-input-background-checked-hover: var(--color-global-alienblue);    --elevation-xs: 0 0.0625rem 0.125rem 0 #00000040;    --elevation-sm: 0 0.0625rem 0.25rem 0 #00000026, 0 0.25rem 0.25rem 0 #00000026;    --elevation-md: 0 0.25rem 0.5rem 0 #0000001a, 0 0.375rem 0.75rem 0 #00000040;    --elevation-lg: 0 0.75rem 0.75rem 0 #00000026, 0 1rem 2rem 0 #00000040;    --elevation-focus-ring: 0 0 0 0.25rem var(--color-global-alienblue);    --font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,      'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif;    --font-mono: Noto Mono, Menlo, Monaco, Consolas, monospace;    /* https://www.figma.com/file/iu3o6C8NVE1a3BPHVA6G2U/Reddit-Design-Kit---Desktop?node-id=73%3A7092 */    --font-title-h0: normal 500 1.625rem / 2rem var(--font-sans);    --font-title-h1: normal 500 1.375rem / 1.625rem var(--font-sans);    --font-title-h2: normal 500 1.25rem / 1.5rem var(--font-sans);    --font-title-h3: normal 500 1.125rem / 1.375rem var(--font-sans);    --font-title-h4: normal 500 1rem / 1.25rem var(--font-sans);    --font-title-h5: normal 500 0.875rem / 1.125rem var(--font-sans);    --font-title-h6: normal 500 0.75rem / 1rem var(--font-sans);    --font-body: 0.875rem;    --font-small: 0.75rem;    --font-code: 0.875rem;    --font-subheading: 0.75rem;    --font-label: 0.625rem;    --font-button-b1: normal bold 1.125rem / 1.375rem var(--font-sans);    --font-button-b2: normal bold 1rem / 1.25rem var(--font-sans);    --font-button-b3: normal bold 0.875rem / 1.125rem var(--font-sans);    --font-button-b4: normal bold 0.75rem / 0.875rem var(--font-sans);    --color-gradient-orangeyellow: linear-gradient(89.94deg, #ec0623 0%, #ff8717 100%);    --color-gradient-bluepink: linear-gradient(89.94deg, #51b9ff 0%, #7785ff 52.6%, #b279ff 73.96%, #ff81ed 100%);    --boxshadow-modal: 0px 2px 15px rgba(26, 26, 27, 0.3);    --boxshadow-navigation: 0px 4px 14px rgba(0, 0, 0, 0.1);    --boxshadow-tooltip: 0 1px 4px rgba(0, 0, 0, 0.15), 0 4px 4px rgba(0, 0, 0, 0.15);    color-scheme: light;  }  :root dialog::backdrop,  .theme-light dialog::backdrop {    --color-dialog-background: #00000080;  }  @media (prefers-color-scheme: dark) {    :root:not(.theme-light) {      --color-primary-visited: #c58af9;      --color-primary-background: #006cbf;      --color-primary-background-hover: #24a0ed;      --color-tone-1: #d7dadc;      --color-tone-2: #818384;      --color-tone-3: #565758;      --color-tone-4: #3a3a3c;      --color-tone-5: #272729;      --color-tone-6: #1a1a1b;      --color-tone-7: #121213;      --color-identity-coins: #ffe600;      --color-ui-canvas: #050505;      --color-ui-modalbackground: var(--color-tone-6);      --color-opacity-50: #d7dadc80;      --color-scrim: #0000004d;      --elevation-xs: 0 0.0625rem 0.125rem 0 #000000ab;      --elevation-sm: 0 0.0625rem 0.25rem 0 #00000054, 0 0.25rem 0.25rem 0 #00000054;      --elevation-md: 0 0.25rem 0.5rem 0 #00000033, 0 0.375rem 0.75rem 0 #00000080;      --elevation-lg: 0 0.75rem 0.75rem 0 #00000033, 0 1rem 2rem 0 #00000080;      --boxshadow-modal: 0px 2px 15px rgba(0, 0, 0, 0.3);      --boxshadow-tooltip: 0 1px 4px rgba(0, 0, 0, 0.33), 0 4px 4px rgba(0, 0, 0, 0.33);      color-scheme: dark;    }    :root:not(.theme-light) dialog::backdrop {      --color-dialog-background: #d7dadc80;    }  }  .theme-dark {    --color-primary-visited: #c58af9;    --color-primary-background: #006cbf;    --color-primary-background-hover: #24a0ed;    --color-tone-1: #d7dadc;    --color-tone-2: #818384;    --color-tone-3: #565758;    --color-tone-4: #3a3a3c;    --color-tone-5: #272729;    --color-tone-6: #1a1a1b;    --color-tone-7: #121213;    --color-identity-coins: #ffe600;    --color-ui-canvas: #050505;    --color-ui-modalbackground: var(--color-tone-6);    --color-opacity-50: #d7dadc80;    --color-scrim: #0000004d;    --elevation-xs: 0 0.0625rem 0.125rem 0 #000000ab;    --elevation-sm: 0 0.0625rem 0.25rem 0 #00000054, 0 0.25rem 0.25rem 0 #00000054;    --elevation-md: 0 0.25rem 0.5rem 0 #00000033, 0 0.375rem 0.75rem 0 #00000080;    --elevation-lg: 0 0.75rem 0.75rem 0 #00000033, 0 1rem 2rem 0 #00000080;    --boxshadow-modal: 0px 2px 15px rgba(0, 0, 0, 0.3);    --boxshadow-tooltip: 0 1px 4px rgba(0, 0, 0, 0.33), 0 4px 4px rgba(0, 0, 0, 0.33);    color-scheme: dark;  }  .theme-dark dialog::backdrop {    --color-dialog-background: #d7dadc80;  }  .theme-beta,  .theme-light.theme-beta {    --spacer-a-px: 0.125rem;    --spacer-button-lg-px: var(--spacer-md);    --spacer-button-md-px: var(--spacer-md);    --spacer-button-sm-px: var(--spacer-sm);    --spacer-input-padding-left: var(--spacer-md);    --spacer-input-padding-top: var(--spacer-2xs);    --spacer-label-default: var(--spacer-md);    --spacer-switch-input-active-pl: var(--spacer-xs);    --size-banner-height: var(--size-rem40);    --size-button-lg-h: var(--size-2xl);    --size-button-md-h: 2.5rem;    --size-button-sm-h: var(--size-xl);    --size-button-xs-h: var(--size-lg);    --size-switch-input-h: var(--size-xl);    --size-switch-input-w: var(--size-2xl);    --line-a-focus: var(--line-md);    --line-a-outline-moz: 0px;    --line-a-outline-wb: 0px;    --line-button-lg-border: var(--line-sm);    --line-button-md-border: var(--line-sm);    --line-button-sm-border: var(--line-sm);    --line-button-xs-border: var(--line-sm);    --line-button-border-activated: var(--line-lg);    --line-input-border: var(--line-lg);    --radius-md: 1.25rem;    --radius-accordion-size: 0px;    --font-10: normal undefined null / null var(--font-sans);    --font-12: normal undefined null / null var(--font-sans);    --font-14: normal undefined null / null var(--font-sans);    --font-16: normal undefined null / null var(--font-sans);    --font-18: normal undefined null / null var(--font-sans);    --font-20: normal undefined null / null var(--font-sans);    --font-24: normal undefined null / null var(--font-sans);    --font-32: normal undefined null / null var(--font-sans);    --font-48: normal undefined null / null var(--font-sans);    --font-64: normal undefined null / null var(--font-sans);    --font-title-h0: var(--font-64);    --font-title-h1: var(--font-32);    --font-title-h2: var(--font-24);    --font-title-h3: var(--font-18);    --font-title-h4: var(--font-16);    --font-title-h5: var(--font-14);    --font-title-h6: var(--font-12);    --font-14-20-regular: normal 400 0.875rem / 1.25rem var(--font-sans);    --font-14-20-semibold: normal 600 0.875rem / 1.25rem var(--font-sans);    --font-16-20-regular: normal 400 1rem / 1.25rem var(--font-sans);    --font-12-16-regular: normal 400 0.75rem / 1rem var(--font-sans);    --font-12-16-semibold: normal 600 0.75rem / 1rem var(--font-sans);    --font-button-lg: var(--font-14-20-semibold);    --font-button-md: var(--font-14-20-semibold);    --font-button-sm: var(--font-12-16-semibold);    --font-label-default: var(--font-12-16-regular);    --misc-accordion-border: 0;    --misc-accordion-open-list-style-type: none;    --misc-accordion-closed-list-style-type: none;    --misc-divider-margin: 0;    --misc-label-text-transform: capitalize;    --misc-label-letter-spacing: initial;    --blur-sm: 0.25rem;    --blur-normal: 0.5rem;    --blur-md: 0.75rem;    --blur-lg: 1rem;    --blur-xl: 1.5rem;    --blur-2xl: 2.5rem;    --blur-3xl: 4rem;    --color-action-downvote: #6A5CFF;    --color-action-upvote: #D93900;    --color-ai-background-weaker: #E7FDF5;    --color-ai-plain: #006C56;    --color-ai-plain-hover: #015140;    --color-alert-caution: #977000;    --color-avatar-gradient: linear-gradient(0deg, #97AFBCff, #ffffffff 75%);    --color-avatar-media-gradient: linear-gradient(0deg, #00000099, #181C1Fff 75%);    --color-brand-background: #D93900;    --color-brand-background-hover: #AE2C00;    --color-brand-gradient-active: linear-gradient(180deg, #cd3700ff, #db3b00ff 68%, #D93900ff 100%);    --color-brand-gradient-active-highlight: linear-gradient(83deg, #db3f0000 80%, #D93900ff 100%);    --color-brand-gradient-default: linear-gradient(180deg, #D93900ff, #db3b00ff 30%, #AE2C00ff 100%);    --color-brand-gradient-default-highlight: linear-gradient(258deg, #db3f0000 80%, #D93900ff 100%);    --color-brand-gradient-hover: linear-gradient(180deg, #e23d00ff 15%, #cb3600ff 49%, #b43000ff 100%);    --color-brand-gradient-hover-highlight: linear-gradient(323deg, #cb360000 65%, #cb3600ff 100%);    --color-brand-onBackground: #FFFFFF;    --color-category-live: #D93900;    --color-category-nsfw: #DE019F;    --color-category-spoiler: var(--color-tone-1);    --color-caution-background: #FFBF0B;    --color-caution-background-hover: #D8A100;    --color-caution-onBackground: #000000;    --color-caution-plain: #785800;    --color-caution-plain-hover: #5B4200;    --color-danger-background: #EB001F;    --color-danger-background-disabled: #FDB3A4;    --color-danger-background-hover: #BC0117;    --color-danger-background-weaker: #FBDBD4;    --color-danger-content: #BC0117;    --color-danger-content-default: #ffffff;    --color-danger-content-hover: #90000F;    --color-danger-onBackground: #FFFFFF;    --color-danger-plain: #BC0117;    --color-danger-plain-hover: #90000F;    --color-downvote-background: #6A5CFF;    --color-downvote-background-disabled: rgba(106, 92, 255, 0.3);    --color-downvote-background-hover: #523DFF;    --color-downvote-content: #523DFF;    --color-downvote-content-weak: #6A5CFF;    --color-downvote-disabled: #523DFF4d;    --color-downvote-onBackground: #FFFFFF;    --color-downvote-onStrongScrim: #B29FFF;    --color-downvote-onStrongScrim-disabled: rgba(178, 159, 255, 0.3);    --color-downvote-onStrongScrim-weaker: #9580FF;    --color-downvote-plain: #523DFF;    --color-downvote-plain-disabled: rgba(82, 61, 255, 0.3);    --color-downvote-plain-weaker: #6A5CFF;    --color-elevation-large1: #0000003F;    --color-elevation-large2: #00000026;    --color-elevation-medium1: #0000003F;    --color-elevation-medium2: #00000019;    --color-elevation-small: #00000026;    --color-elevation-xsmall: #0000003F;    --color-favorite: #977000;    --color-global-admin: #D93900;    --color-global-alienblue: #1870F4;    --color-global-black: #000000;    --color-global-brand-orangered: #FF4500;    --color-global-darkblue: #2A3236;    --color-global-focus: #029DD5;    --color-global-gold: #B78800;    --color-global-moderator: #008A10;    --color-global-nsfw: #DE019F;    --color-global-offline: #667780;    --color-global-online: #00C61C;    --color-global-orangered: #FF4500;    --color-global-stars: #977000;    --color-global-white: #FFFFFF;    --color-gradient-media: linear-gradient(180deg, #00000000, #0000008a 60%, #00000099 100%);    --color-gradient-media-strong: linear-gradient(180deg, #00000000, #000000cc 60%, #000000e6 100%);    --color-identity-admin: #D93900;    --color-identity-coins: #B78800;    --color-identity-moderator: #008A10;    --color-identity-self: #01876D;    --color-interactive-background-disabled: #0000000C;    --color-interactive-content-disabled: #0000003F;    --color-interactive-focused: #007FAE;    --color-interactive-pressed: #00000026;    --color-inverted-interactive-background-disabled: #FFFFFF0C;    --color-inverted-interactive-content-disabled: #FFFFFF3F;    --color-inverted-interactive-pressed: #FFFFFF26;    --color-inverted-neutral-background: #0E1113;    --color-inverted-neutral-background-hover: #181C1F;    --color-inverted-neutral-border: #FFFFFF33;    --color-inverted-neutral-content: #B7CAD4;    --color-inverted-neutral-content-strong: #EEF1F3;    --color-inverted-secondary-background: #2A3236;    --color-inverted-secondary-background-hover: #333D42;    --color-inverted-secondary-background-selected: #3D494E;    --color-inverted-secondary-onBackground: #FFFFFF;    --color-inverted-secondary-plain: #DBE4E9;    --color-inverted-secondary-plain-hover: #FFFFFF;    --color-media-background: rgba(0, 0, 0, 0.6);    --color-media-background-hover: rgba(0, 0, 0, 0.8);    --color-media-background-selected: rgba(0, 0, 0, 0.8);    --color-media-border-selected: #FFFFFF;    --color-media-border-weak: #FFFFFF19;    --color-media-onBackground: #FFFFFF;    --color-media-onBackground-disabled: #FFFFFF3F;    --color-media-onBackground-weak: #E5EBEE;    --color-media-onbackground: #ffffff;    --color-media-onbackground-disabled: #ffffff40;    --color-media-onbackground-weak: #B7CAD4;    --color-neutral-background: #FFFFFF;    --color-neutral-background-container: #F6F8F9;    --color-neutral-background-container-hover: #EEF1F3;    --color-neutral-background-container-strong: #EEF1F3;    --color-neutral-background-container-strong-hover: #E5EBEE;    --color-neutral-background-gilded: #FFF9E0;    --color-neutral-background-gilded-hover: #FFF3C0;    --color-neutral-background-hover: #F6F8F9;    --color-neutral-background-medium: #F8F8F8;    --color-neutral-background-pinned: #FFFFFF;    --color-neutral-background-selected: #E5EBEE;    --color-neutral-background-strong: #FFFFFF;    --color-neutral-background-strong-hover: #F6F8F9;    --color-neutral-background-weak: #F6F8F9;    --color-neutral-background-weak-hover: #EEF1F3;    --color-neutral-border: #00000033;    --color-neutral-border-medium: #0000007F;    --color-neutral-border-strong: #181C1F;    --color-neutral-border-weak: #00000019;    --color-neutral-content: #333D42;    --color-neutral-content-disabled: #D6D6D6;    --color-neutral-content-strong: #181C1F;    --color-neutral-content-weak: #5C6C74;    --color-offline: #767676;    --color-online: #01A816;    --color-opacity-08: #13131314;    --color-opacity-50: #00000080;    --color-opacity-highlight: linear-gradient(#0A2F6C1a, var(--color-tone-6));    --color-pizzaRed: #ef5350;    --color-primary: #115BCA;    --color-primary-background: #0A449B;    --color-primary-background-hover: #0A2F6C;    --color-primary-background-selected: #0A1A3F;    --color-primary-border: #0A449B;    --color-primary-border-hover: #0A2F6C;    --color-primary-hover: #0A449B;    --color-primary-onBackground: #FFFFFF;    --color-primary-onBackground-selected: #FFFFFF;    --color-primary-plain: #0A449B;    --color-primary-plain-hover: #0A2F6C;    --color-primary-plain-visited: #7600A3;    --color-primary-visited: #9B00D4;    --color-scrim: #00000099;    --color-scrim-background: #00000099;    --color-scrim-background-strong: #000000CC;    --color-scrim-gradient: linear-gradient(180deg, #00000000, #0000008a 60%, #00000099 100%);    --color-scrim-strong: #000000cc;    --color-secondary: #21272A;    --color-secondary-background: #E5EBEE;    --color-secondary-background-hover: #DBE4E9;    --color-secondary-background-selected: #C9D7DE;    --color-secondary-hover: #000000;    --color-secondary-onBackground: #000000;    --color-secondary-plain: #181C1F;    --color-secondary-plain-hover: #000000;    --color-secondary-plain-weak: #5C6C74;    --color-secondary-weak: #576F76;    --color-success-background: #008A10;    --color-success-background-hover: #016E0B;    --color-success-content: #016E0B;    --color-success-hover: #005306;    --color-success-onBackground: #FFFFFF;    --color-success-plain: #016E0B;    --color-success-plain-hover: #005306;    --color-tone-1: #131313;    --color-tone-2: #434343;    --color-tone-3: #ACACAC;    --color-tone-4: #E4E4E4;    --color-tone-5: #F2F2F2;    --color-tone-6: #F8F8F8;    --color-tone-7: #ffffff;    --color-transparent-background-hover: #7487911a;    --color-ui-canvas: var(--color-tone-5);    --color-ui-modalbackground: var(--color-neutral-background-strong);    --color-upvote-background: #D93900;    --color-upvote-background-disabled: rgba(217, 57, 0, 0.3);    --color-upvote-background-hover: #AE2C00;    --color-upvote-content: #AE2C00;    --color-upvote-content-weak: var(--color-global-brand-orangered);    --color-upvote-disabled: #AE2C004d;    --color-upvote-onBackground: #FFFFFF;    --color-upvote-onStrongScrim: #FF895D;    --color-upvote-onStrongScrim-disabled: rgba(255, 137, 93, 0.3);    --color-upvote-onStrongScrim-weaker: #FF4500;    --color-upvote-plain: #AE2C00;    --color-upvote-plain-disabled: rgba(174, 44, 0, 0.3);    --color-upvote-plain-weaker: #FF4500;    --color-warning-background: #B78800;    --color-warning-background-hover: #977000;    --color-warning-content: #785800;    --color-warning-content-hover: #5B4200;    --color-warning-onBackground: #000000;    --color-a-default: var(--color-primary);    --color-a-hover: var(--color-primary-hover);    --color-a-visited: var(--color-primary-visited);    --color-banner-plain: var(--color-neutral-background-strong);    --color-banner-plain-inverted: var(--color-neutral-content-strong);    --color-banner-error: var(--color-danger-background);    --color-banner-caution: var(--color-warning-background);    --color-banner-success: var(--color-success-background);    --color-banner-brand: var(--color-brand-background);    --color-banner-plain-text: var(--color-neutral-content);    --color-banner-plain-inverted-text: var(--color-neutral-background-weak);    --color-banner-error-text: var(--color-danger-onBackground);    --color-banner-caution-text: var(--color-warning-onBackground);    --color-banner-caution-hover: var(--color-warning-background-hover);    --color-banner-success-text: var(--color-success-onBackground);    --color-banner-brand-text: var(--color-brand-onBackground);    --color-button-overlay-focus: transparent;    --color-button-overlay-active: transparent;    --color-button-border-width: tomato;    --color-button-border-width-activated: tomato;    --color-button-primary-background-hover: var(--color-primary-background-hover);    --color-button-primary-background-activated: var(--color-primary-background-selected);    --color-button-primary-background-disabled: var(--color-interactive-background-disabled);    --color-button-primary-border-hover: var(--color-primary-background);    --color-button-primary-border-active: var(--color-primary-background-hover);    --color-button-primary-text-disabled: var(--color-interactive-content-disabled);    --color-button-primary-text-activated: var(--color-primary-onBackground-selected);    --color-button-secondary-background: var(--color-secondary-background);    --color-button-secondary-background-focus: var(--color-secondary-background);    --color-button-secondary-background-hover: var(--color-secondary-background-hover);    --color-button-secondary-background-disabled: var(--color-interactive-background-disabled);    --color-button-secondary-background-activated: var(--color-secondary-background-selected);    --color-button-secondary-border: transparent;    --color-button-secondary-border-hover: var(--color-secondary-background);    --color-button-secondary-border-active: var(--color-secondary-background-hover);    --color-button-secondary-border-activated: transparent;    --color-button-secondary-border-disabled: transparent;    --color-button-secondary-text: var(--color-secondary-onBackground);    --color-button-secondary-text-disabled: var(--color-interactive-content-disabled);    --color-button-secondary-text-activated: var(--color-secondary-onBackground);    --color-button-tertiary-background: transparent;    --color-button-tertiary-background-focus: transparent;    --color-button-tertiary-background-hover: var(--color-secondary-background-hover);    --color-button-tertiary-background-disabled: transparent;    --color-button-tertiary-background-activated: var(--color-neutral-content);    --color-button-tertiary-border-hover: var(--color-secondary-background);    --color-button-tertiary-border-active: var(--color-secondary-background-hover);    --color-button-tertiary-text: var(--color-neutral-content-strong);    --color-button-tertiary-text-disabled: var(--color-neutral-content-disabled);    --color-button-tertiary-text-activated: var(--color-neutral-background);    --color-button-plain-background-hover: var(--color-secondary-background-hover);    --color-button-plain-background-disabled: transparent;    --color-button-plain-background-activated: var(--color-secondary-background-selected);    --color-button-plain-border-hover: var(--color-secondary-background);    --color-button-plain-border-active: var(--color-secondary-background-hover);    --color-button-plain-text: var(--color-secondary-plain);    --color-button-plain-text-hover: var(--color-secondary-plain-hover);    --color-button-plain-text-disabled: var(--color-interactive-content-disabled);    --color-button-plain-text-activated: var(--color-secondary-onBackground);    --color-button-primary-border-activated: var(--color-primary-background);    --color-button-plain-text-weak: var(--color-secondary-plain-weak);    --color-button-plain-inverted-background-activated: var(--color-neutral-content);    --color-button-plain-inverted-text-activated: var(--color-neutral-background);    --color-button-media-border-color-activated: var(--color-media-border-selected);    --color-button-favorite-text: var(--color-favorite);    --color-button-caution-background: var(--color-caution-background);    --color-button-caution-background-hover: var(--color-caution-background-hover);    --color-button-caution-background-disabled: var(--color-interactive-background-disabled);    --color-button-caution-text: var(--color-caution-onBackground);    --color-divider-default: var(--color-neutral-border);    --color-input-secondary: var(--color-secondary-background);    --color-input-secondary-hover: var(--color-secondary-background-hover);    --color-input-border: transparent;    --color-input-bordered: transparent;    --color-input-bordered-hover: var(--color-neutral-background-hover);    --color-input-secondary-text: var(--color-secondary-onBackground);    --color-input-bordered-text: var(--color-secondary-plain);    --color-input-helper-text: var(--color-neutral-content-weak);    --color-input-pressed: var(--color-interactive-pressed);    --color-input-radio: var(--color-secondary-plain-weak);    --color-input-radio-hover: var(--color-neutral-content-strong);    --color-label-default: var(--color-neutral-content-weak);    --color-shimmer-background: #00000008;    --color-shimmer-gradient-overlay: linear-gradient(to right, #00000000, #00000005 20%, #0000000f 50%, #00000008 70%, #00000000 100%);    --color-switch-input-background-pressed-scrim: var(--color-interactive-pressed);    --color-switch-input-background-handle: var(--color-global-white);    --color-switch-input-background-handle-disabled: var(--color-secondary-background);    --color-switch-input-background-default: var(--color-secondary-background);    --color-switch-input-background-default-hover: var(--color-secondary-background-hover);    --color-switch-input-background-default-disabled: var(--color-interactive-background-disabled);    --color-switch-input-background-checked: var(--color-primary-background);    --color-switch-input-background-checked-hover: var(--color-primary-background-hover);    --color-switch-input-background-checked-disabled: var(--color-interactive-content-disabled);    --color-tooltip-bg-neutral: var(--color-neutral-background-strong);    --color-tooltip-text-neutral: var(--color-neutral-content);    --color-tooltip-bg-inverted: var(--color-neutral-content);    --color-tooltip-text-inverted: var(--color-neutral-background);    --color-tooltip-bg-primary: var(--color-primary-background);    --color-tooltip-text-primary: var(--color-primary-onBackground);    --elevation-sm-inset: inset 0 0.0625rem 0.125rem 0 #00000021;    --elevation-button-focus: var(--elevation-focus-ring);    --elevation-switch-input-default-inset: var(--elevation-sm-inset);  }  @media (prefers-color-scheme: dark) {    :root:not(.theme-light) .theme-beta,    :root:not(.theme-light).theme-beta {      --color-ai-background-weaker: #00382B;      --color-ai-plain: #01A484;      --color-ai-plain-hover: #00C29D;      --color-avatar-gradient: linear-gradient(0deg, #48545Bff, #181C1Fff 75%);      --color-brand-background: #D93900;      --color-brand-background-hover: #AE2C00;      --color-brand-onBackground: #FFFFFF;      --color-caution-background: #D8A100;      --color-caution-background-hover: #FFBF0B;      --color-caution-onBackground: #000000;      --color-caution-plain: #FFBF0B;      --color-caution-plain-hover: #FFE284;      --color-danger-background: #BC0117;      --color-danger-background-disabled: #340F05;      --color-danger-background-hover: #EB001F;      --color-danger-background-weaker: #650405;      --color-danger-content: #FF4F40;      --color-danger-content-hover: #FF8773;      --color-danger-onBackground: #FFFFFF;      --color-danger-plain: #FF8773;      --color-danger-plain-hover: #FDB3A4;      --color-downvote-background: #6A5CFF;      --color-downvote-background-disabled: rgba(106, 92, 255, 0.3);      --color-downvote-background-hover: #523DFF;      --color-downvote-content: #9580FF;      --color-downvote-content-weak: #6A5CFF;      --color-downvote-disabled: #9580FF4d;      --color-downvote-onBackground: #FFFFFF;      --color-downvote-onStrongScrim: #B29FFF;      --color-downvote-onStrongScrim-disabled: rgba(178, 159, 255, 0.3);      --color-downvote-onStrongScrim-weaker: #9580FF;      --color-downvote-plain: #9580FF;      --color-downvote-plain-disabled: rgba(149, 128, 255, 0.3);      --color-downvote-plain-weaker: #6A5CFF;      --color-elevation-large1: #0000007F;      --color-elevation-large2: #00000033;      --color-elevation-medium1: #0000007F;      --color-elevation-medium2: #00000033;      --color-elevation-small: #00000054;      --color-elevation-xsmall: #000000AA;      --color-favorite: #B78800;      --color-global-admin: #D93900;      --color-global-black: #000000;      --color-global-brand-orangered: #FF4500;      --color-global-focus: #007FAE;      --color-global-gold: #D8A100;      --color-global-moderator: #008A10;      --color-global-nsfw: #DE019F;      --color-global-offline: #667780;      --color-global-online: #00C61C;      --color-global-orangered: #FF4500;      --color-global-stars: #D8A100;      --color-global-white: #FFFFFF;      --color-interactive-background-disabled: #FFFFFF0C;      --color-interactive-content-disabled: #FFFFFF3F;      --color-interactive-focused: #007FAE;      --color-interactive-pressed: #FFFFFF26;      --color-inverted-interactive-background-disabled: #0000000C;      --color-inverted-interactive-content-disabled: #0000003F;      --color-inverted-interactive-pressed: #00000026;      --color-inverted-neutral-background: #FFFFFF;      --color-inverted-neutral-background-hover: #F6F8F9;      --color-inverted-neutral-border: #00000033;      --color-inverted-neutral-content: #333D42;      --color-inverted-neutral-content-strong: #181C1F;      --color-inverted-secondary-background: #E5EBEE;      --color-inverted-secondary-background-hover: #DBE4E9;      --color-inverted-secondary-background-selected: #C9D7DE;      --color-inverted-secondary-onBackground: #000000;      --color-inverted-secondary-plain: #181C1F;      --color-inverted-secondary-plain-hover: #000000;      --color-media-background: rgba(0, 0, 0, 0.6);      --color-media-background-hover: rgba(0, 0, 0, 0.8);      --color-media-background-selected: rgba(0, 0, 0, 0.8);      --color-media-border-selected: #FFFFFF;      --color-media-border-weak: #FFFFFF19;      --color-media-onBackground: #FFFFFF;      --color-media-onBackground-disabled: #FFFFFF3F;      --color-media-onBackground-weak: #E5EBEE;      --color-neutral-background: #0E1113;      --color-neutral-background-container: #181C1F;      --color-neutral-background-container-hover: #21272A;      --color-neutral-background-container-strong: #21272A;      --color-neutral-background-container-strong-hover: #2A3236;      --color-neutral-background-gilded: #181C1F;      --color-neutral-background-gilded-hover: #21272A;      --color-neutral-background-hover: #181C1F;      --color-neutral-background-medium: #131313;      --color-neutral-background-pinned: #0E1113;      --color-neutral-background-selected: #2A3236;      --color-neutral-background-strong: #181C1F;      --color-neutral-background-strong-hover: #21272A;      --color-neutral-background-weak: #000000;      --color-neutral-background-weak-hover: #0E1113;      --color-neutral-border: #FFFFFF33;      --color-neutral-border-medium: #FFFFFF7F;      --color-neutral-border-strong: #F6F8F9;      --color-neutral-border-weak: #FFFFFF19;      --color-neutral-content: #B7CAD4;      --color-neutral-content-disabled: #303030;      --color-neutral-content-strong: #EEF1F3;      --color-neutral-content-weak: #8BA2AD;      --color-offline: #767676;      --color-online: #01A816;      --color-opacity-50: #F2F2F280;      --color-pizzaRed: #c62828;      --color-primary: #648EFC;      --color-primary-background: #115BCA;      --color-primary-background-hover: #1870F4;      --color-primary-background-selected: #648EFC;      --color-primary-border: #648EFC;      --color-primary-border-hover: #90A9FD;      --color-primary-hover: #90A9FD;      --color-primary-onBackground: #FFFFFF;      --color-primary-onBackground-selected: #000000;      --color-primary-plain: #648EFC;      --color-primary-plain-hover: #90A9FD;      --color-primary-plain-visited: #CF5FFF;      --color-primary-visited: #CF5FFF;      --color-scrim-background: #00000099;      --color-scrim-background-strong: #000000CC;      --color-secondary: #DBE4E9;      --color-secondary-background: #2A3236;      --color-secondary-background-hover: #333D42;      --color-secondary-background-selected: #3D494E;      --color-secondary-hover: #ffffff;      --color-secondary-onBackground: #FFFFFF;      --color-secondary-plain: #DBE4E9;      --color-secondary-plain-hover: #FFFFFF;      --color-secondary-plain-weak: #8BA2AD;      --color-secondary-weak: #748791;      --color-success-background: #016E0B;      --color-success-background-hover: #008A10;      --color-success-content: #01A816;      --color-success-hover: #00C61C;      --color-success-onBackground: #FFFFFF;      --color-success-plain: #00C61C;      --color-success-plain-hover: #58E15B;      --color-tone-1: #F2F2F2;      --color-tone-2: #ACACAC;      --color-tone-3: #434343;      --color-tone-4: #303030;      --color-tone-5: #1E1E1E;      --color-tone-6: #131313;      --color-tone-7: #080808;      --color-transparent-background-hover: #6677801a;      --color-ui-canvas: #080808;      --color-ui-modalbackground: var(--color-neutral-background-strong);      --color-upvote-background: #D93900;      --color-upvote-background-disabled: rgba(217, 57, 0, 0.3);      --color-upvote-background-hover: #AE2C00;      --color-upvote-content: #FF4500;      --color-upvote-content-weak: var(--color-global-brand-orangered);      --color-upvote-disabled: #FF45004d;      --color-upvote-onBackground: #FFFFFF;      --color-upvote-onStrongScrim: #FF895D;      --color-upvote-onStrongScrim-disabled: rgba(255, 137, 93, 0.3);      --color-upvote-onStrongScrim-weaker: #FF4500;      --color-upvote-plain: #FF895D;      --color-upvote-plain-disabled: rgba(255, 137, 93, 0.3);      --color-upvote-plain-weaker: #FF4500;      --color-warning-background: #B78800;      --color-warning-background-hover: #D8A100;      --color-warning-content: #B78800;      --color-warning-content-hover: #D8A100;      --color-warning-onBackground: #000000;      --color-button-primary-border-activated: transparent;      --color-button-plain-inverted-activated-text: var(--color-neutral-background);      --color-input-radio-hover: var(--color-secondary-plain);      --color-shimmer-background: #ffffff08;      --color-shimmer-gradient-overlay: linear-gradient(to right, #ffffff00, #ffffff05 20%, #ffffff0f 50%, #ffffff08 70%, #ffffff00 100%);    }  }  .theme-dark .theme-beta,  .theme-dark.theme-beta {    --color-ai-background-weaker: #00382B;    --color-ai-plain: #01A484;    --color-ai-plain-hover: #00C29D;    --color-avatar-gradient: linear-gradient(0deg, #48545Bff, #181C1Fff 75%);    --color-brand-background: #D93900;    --color-brand-background-hover: #AE2C00;    --color-brand-onBackground: #FFFFFF;    --color-caution-background: #D8A100;    --color-caution-background-hover: #FFBF0B;    --color-caution-onBackground: #000000;    --color-caution-plain: #FFBF0B;    --color-caution-plain-hover: #FFE284;    --color-danger-background: #BC0117;    --color-danger-background-disabled: #340F05;    --color-danger-background-hover: #EB001F;    --color-danger-background-weaker: #650405;    --color-danger-content: #FF4F40;    --color-danger-content-hover: #FF8773;    --color-danger-onBackground: #FFFFFF;    --color-danger-plain: #FF8773;    --color-danger-plain-hover: #FDB3A4;    --color-downvote-background: #6A5CFF;    --color-downvote-background-disabled: rgba(106, 92, 255, 0.3);    --color-downvote-background-hover: #523DFF;    --color-downvote-content: #9580FF;    --color-downvote-content-weak: #6A5CFF;    --color-downvote-disabled: #9580FF4d;    --color-downvote-onBackground: #FFFFFF;    --color-downvote-onStrongScrim: #B29FFF;    --color-downvote-onStrongScrim-disabled: rgba(178, 159, 255, 0.3);    --color-downvote-onStrongScrim-weaker: #9580FF;    --color-downvote-plain: #9580FF;    --color-downvote-plain-disabled: rgba(149, 128, 255, 0.3);    --color-downvote-plain-weaker: #6A5CFF;    --color-elevation-large1: #0000007F;    --color-elevation-large2: #00000033;    --color-elevation-medium1: #0000007F;    --color-elevation-medium2: #00000033;    --color-elevation-small: #00000054;    --color-elevation-xsmall: #000000AA;    --color-favorite: #B78800;    --color-global-admin: #D93900;    --color-global-black: #000000;    --color-global-brand-orangered: #FF4500;    --color-global-focus: #007FAE;    --color-global-gold: #D8A100;    --color-global-moderator: #008A10;    --color-global-nsfw: #DE019F;    --color-global-offline: #667780;    --color-global-online: #00C61C;    --color-global-orangered: #FF4500;    --color-global-stars: #D8A100;    --color-global-white: #FFFFFF;    --color-interactive-background-disabled: #FFFFFF0C;    --color-interactive-content-disabled: #FFFFFF3F;    --color-interactive-focused: #007FAE;    --color-interactive-pressed: #FFFFFF26;    --color-inverted-interactive-background-disabled: #0000000C;    --color-inverted-interactive-content-disabled: #0000003F;    --color-inverted-interactive-pressed: #00000026;    --color-inverted-neutral-background: #FFFFFF;    --color-inverted-neutral-background-hover: #F6F8F9;    --color-inverted-neutral-border: #00000033;    --color-inverted-neutral-content: #333D42;    --color-inverted-neutral-content-strong: #181C1F;    --color-inverted-secondary-background: #E5EBEE;    --color-inverted-secondary-background-hover: #DBE4E9;    --color-inverted-secondary-background-selected: #C9D7DE;    --color-inverted-secondary-onBackground: #000000;    --color-inverted-secondary-plain: #181C1F;    --color-inverted-secondary-plain-hover: #000000;    --color-media-background: rgba(0, 0, 0, 0.6);    --color-media-background-hover: rgba(0, 0, 0, 0.8);    --color-media-background-selected: rgba(0, 0, 0, 0.8);    --color-media-border-selected: #FFFFFF;    --color-media-border-weak: #FFFFFF19;    --color-media-onBackground: #FFFFFF;    --color-media-onBackground-disabled: #FFFFFF3F;    --color-media-onBackground-weak: #E5EBEE;    --color-neutral-background: #0E1113;    --color-neutral-background-container: #181C1F;    --color-neutral-background-container-hover: #21272A;    --color-neutral-background-container-strong: #21272A;    --color-neutral-background-container-strong-hover: #2A3236;    --color-neutral-background-gilded: #181C1F;    --color-neutral-background-gilded-hover: #21272A;    --color-neutral-background-hover: #181C1F;    --color-neutral-background-medium: #131313;    --color-neutral-background-pinned: #0E1113;    --color-neutral-background-selected: #2A3236;    --color-neutral-background-strong: #181C1F;    --color-neutral-background-strong-hover: #21272A;    --color-neutral-background-weak: #000000;    --color-neutral-background-weak-hover: #0E1113;    --color-neutral-border: #FFFFFF33;    --color-neutral-border-medium: #FFFFFF7F;    --color-neutral-border-strong: #F6F8F9;    --color-neutral-border-weak: #FFFFFF19;    --color-neutral-content: #B7CAD4;    --color-neutral-content-disabled: #303030;    --color-neutral-content-strong: #EEF1F3;    --color-neutral-content-weak: #8BA2AD;    --color-offline: #767676;    --color-online: #01A816;    --color-opacity-50: #F2F2F280;    --color-pizzaRed: #c62828;    --color-primary: #648EFC;    --color-primary-background: #115BCA;    --color-primary-background-hover: #1870F4;    --color-primary-background-selected: #648EFC;    --color-primary-border: #648EFC;    --color-primary-border-hover: #90A9FD;    --color-primary-hover: #90A9FD;    --color-primary-onBackground: #FFFFFF;    --color-primary-onBackground-selected: #000000;    --color-primary-plain: #648EFC;    --color-primary-plain-hover: #90A9FD;    --color-primary-plain-visited: #CF5FFF;    --color-primary-visited: #CF5FFF;    --color-scrim-background: #00000099;    --color-scrim-background-strong: #000000CC;    --color-secondary: #DBE4E9;    --color-secondary-background: #2A3236;    --color-secondary-background-hover: #333D42;    --color-secondary-background-selected: #3D494E;    --color-secondary-hover: #ffffff;    --color-secondary-onBackground: #FFFFFF;    --color-secondary-plain: #DBE4E9;    --color-secondary-plain-hover: #FFFFFF;    --color-secondary-plain-weak: #8BA2AD;    --color-secondary-weak: #748791;    --color-success-background: #016E0B;    --color-success-background-hover: #008A10;    --color-success-content: #01A816;    --color-success-hover: #00C61C;    --color-success-onBackground: #FFFFFF;    --color-success-plain: #00C61C;    --color-success-plain-hover: #58E15B;    --color-tone-1: #F2F2F2;    --color-tone-2: #ACACAC;    --color-tone-3: #434343;    --color-tone-4: #303030;    --color-tone-5: #1E1E1E;    --color-tone-6: #131313;    --color-tone-7: #080808;    --color-transparent-background-hover: #6677801a;    --color-ui-canvas: #080808;    --color-ui-modalbackground: var(--color-neutral-background-strong);    --color-upvote-background: #D93900;    --color-upvote-background-disabled: rgba(217, 57, 0, 0.3);    --color-upvote-background-hover: #AE2C00;    --color-upvote-content: #FF4500;    --color-upvote-content-weak: var(--color-global-brand-orangered);    --color-upvote-disabled: #FF45004d;    --color-upvote-onBackground: #FFFFFF;    --color-upvote-onStrongScrim: #FF895D;    --color-upvote-onStrongScrim-disabled: rgba(255, 137, 93, 0.3);    --color-upvote-onStrongScrim-weaker: #FF4500;    --color-upvote-plain: #FF895D;    --color-upvote-plain-disabled: rgba(255, 137, 93, 0.3);    --color-upvote-plain-weaker: #FF4500;    --color-warning-background: #B78800;    --color-warning-background-hover: #D8A100;    --color-warning-content: #B78800;    --color-warning-content-hover: #D8A100;    --color-warning-onBackground: #000000;    --color-button-primary-border-activated: transparent;    --color-button-plain-inverted-activated-text: var(--color-neutral-background);    --color-input-radio-hover: var(--color-secondary-plain);    --color-shimmer-background: #ffffff08;    --color-shimmer-gradient-overlay: linear-gradient(to right, #ffffff00, #ffffff05 20%, #ffffff0f 50%, #ffffff08 70%, #ffffff00 100%);  }  .theme-rpl,  .theme-light.theme-rpl {    --spacer-a-px: 0.125rem;    --spacer-button-lg-px: var(--spacer-md);    --spacer-button-md-px: var(--spacer-md);    --spacer-button-sm-px: var(--spacer-sm);    --spacer-input-padding-left: var(--spacer-md);    --spacer-input-padding-top: var(--spacer-2xs);    --spacer-label-default: var(--spacer-md);    --spacer-switch-input-active-pl: var(--spacer-xs);    --size-banner-height: var(--size-rem40);    --size-button-lg-h: var(--size-2xl);    --size-button-md-h: 2.5rem;    --size-button-sm-h: var(--size-xl);    --size-button-xs-h: var(--size-lg);    --size-switch-input-h: var(--size-xl);    --size-switch-input-w: var(--size-2xl);    --line-a-focus: var(--line-md);    --line-a-outline-moz: 0px;    --line-a-outline-wb: 0px;    --line-button-lg-border: var(--line-sm);    --line-button-md-border: var(--line-sm);    --line-button-sm-border: var(--line-sm);    --line-button-xs-border: var(--line-sm);    --line-button-border-activated: var(--line-lg);    --line-input-border: var(--line-lg);    --radius-md: 1.25rem;    --radius-accordion-size: 0px;    --font-10: normal undefined null / null var(--font-sans);    --font-12: normal undefined null / null var(--font-sans);    --font-14: normal undefined null / null var(--font-sans);    --font-16: normal undefined null / null var(--font-sans);    --font-18: normal undefined null / null var(--font-sans);    --font-20: normal undefined null / null var(--font-sans);    --font-24: normal undefined null / null var(--font-sans);    --font-32: normal undefined null / null var(--font-sans);    --font-48: normal undefined null / null var(--font-sans);    --font-64: normal undefined null / null var(--font-sans);    --font-title-h0: var(--font-64);    --font-title-h1: var(--font-32);    --font-title-h2: var(--font-24);    --font-title-h3: var(--font-18);    --font-title-h4: var(--font-16);    --font-title-h5: var(--font-14);    --font-title-h6: var(--font-12);    --font-14-20-regular: normal 400 0.875rem / 1.25rem var(--font-sans);    --font-14-20-semibold: normal 600 0.875rem / 1.25rem var(--font-sans);    --font-16-20-regular: normal 400 1rem / 1.25rem var(--font-sans);    --font-12-16-regular: normal 400 0.75rem / 1rem var(--font-sans);    --font-12-16-semibold: normal 600 0.75rem / 1rem var(--font-sans);    --font-button-lg: var(--font-14-20-semibold);    --font-button-md: var(--font-14-20-semibold);    --font-button-sm: var(--font-12-16-semibold);    --font-label-default: var(--font-12-16-regular);    --misc-accordion-border: 0;    --misc-accordion-open-list-style-type: none;    --misc-accordion-closed-list-style-type: none;    --misc-divider-margin: 0;    --misc-label-text-transform: capitalize;    --misc-label-letter-spacing: initial;    --blur-sm: 0.25rem;    --blur-normal: 0.5rem;    --blur-md: 0.75rem;    --blur-lg: 1rem;    --blur-xl: 1.5rem;    --blur-2xl: 2.5rem;    --blur-3xl: 4rem;    --color-action-downvote: #6A5CFF;    --color-action-upvote: #D93900;    --color-ai-background-weaker: #E7FDF5;    --color-ai-plain: #006C56;    --color-ai-plain-hover: #015140;    --color-alert-caution: #977000;    --color-avatar-gradient: linear-gradient(0deg, #97AFBCff, #ffffffff 75%);    --color-avatar-media-gradient: linear-gradient(0deg, #00000099, #181C1Fff 75%);    --color-brand-background: #D93900;    --color-brand-background-hover: #AE2C00;    --color-brand-gradient-active: linear-gradient(180deg, #cd3700ff, #db3b00ff 68%, #D93900ff 100%);    --color-brand-gradient-active-highlight: linear-gradient(83deg, #db3f0000 80%, #D93900ff 100%);    --color-brand-gradient-default: linear-gradient(180deg, #D93900ff, #db3b00ff 30%, #AE2C00ff 100%);    --color-brand-gradient-default-highlight: linear-gradient(258deg, #db3f0000 80%, #D93900ff 100%);    --color-brand-gradient-hover: linear-gradient(180deg, #e23d00ff 15%, #cb3600ff 49%, #b43000ff 100%);    --color-brand-gradient-hover-highlight: linear-gradient(323deg, #cb360000 65%, #cb3600ff 100%);    --color-brand-onBackground: #FFFFFF;    --color-category-live: #D93900;    --color-category-nsfw: #DE019F;    --color-category-spoiler: var(--color-tone-1);    --color-caution-background: #FFBF0B;    --color-caution-background-hover: #D8A100;    --color-caution-onBackground: #000000;    --color-caution-plain: #785800;    --color-caution-plain-hover: #5B4200;    --color-danger-background: #EB001F;    --color-danger-background-disabled: #FDB3A4;    --color-danger-background-hover: #BC0117;    --color-danger-background-weaker: #FBDBD4;    --color-danger-content: #BC0117;    --color-danger-content-default: #ffffff;    --color-danger-content-hover: #90000F;    --color-danger-onBackground: #FFFFFF;    --color-danger-plain: #BC0117;    --color-danger-plain-hover: #90000F;    --color-downvote-background: #6A5CFF;    --color-downvote-background-disabled: rgba(106, 92, 255, 0.3);    --color-downvote-background-hover: #523DFF;    --color-downvote-content: #523DFF;    --color-downvote-content-weak: #6A5CFF;    --color-downvote-disabled: #523DFF4d;    --color-downvote-onBackground: #FFFFFF;    --color-downvote-onStrongScrim: #B29FFF;    --color-downvote-onStrongScrim-disabled: rgba(178, 159, 255, 0.3);    --color-downvote-onStrongScrim-weaker: #9580FF;    --color-downvote-plain: #523DFF;    --color-downvote-plain-disabled: rgba(82, 61, 255, 0.3);    --color-downvote-plain-weaker: #6A5CFF;    --color-elevation-large1: #0000003F;    --color-elevation-large2: #00000026;    --color-elevation-medium1: #0000003F;    --color-elevation-medium2: #00000019;    --color-elevation-small: #00000026;    --color-elevation-xsmall: #0000003F;    --color-favorite: #977000;    --color-global-admin: #D93900;    --color-global-alienblue: #1870F4;    --color-global-black: #000000;    --color-global-brand-orangered: #FF4500;    --color-global-darkblue: #2A3236;    --color-global-focus: #029DD5;    --color-global-gold: #B78800;    --color-global-moderator: #008A10;    --color-global-nsfw: #DE019F;    --color-global-offline: #667780;    --color-global-online: #00C61C;    --color-global-orangered: #FF4500;    --color-global-stars: #977000;    --color-global-white: #FFFFFF;    --color-gradient-media: linear-gradient(180deg, #00000000, #0000008a 60%, #00000099 100%);    --color-gradient-media-strong: linear-gradient(180deg, #00000000, #000000cc 60%, #000000e6 100%);    --color-identity-admin: #D93900;    --color-identity-coins: #B78800;    --color-identity-moderator: #008A10;    --color-identity-self: #01876D;    --color-interactive-background-disabled: #0000000C;    --color-interactive-content-disabled: #0000003F;    --color-interactive-focused: #007FAE;    --color-interactive-pressed: #00000026;    --color-inverted-interactive-background-disabled: #FFFFFF0C;    --color-inverted-interactive-content-disabled: #FFFFFF3F;    --color-inverted-interactive-pressed: #FFFFFF26;    --color-inverted-neutral-background: #0E1113;    --color-inverted-neutral-background-hover: #181C1F;    --color-inverted-neutral-border: #FFFFFF33;    --color-inverted-neutral-content: #B7CAD4;    --color-inverted-neutral-content-strong: #EEF1F3;    --color-inverted-secondary-background: #2A3236;    --color-inverted-secondary-background-hover: #333D42;    --color-inverted-secondary-background-selected: #3D494E;    --color-inverted-secondary-onBackground: #FFFFFF;    --color-inverted-secondary-plain: #DBE4E9;    --color-inverted-secondary-plain-hover: #FFFFFF;    --color-media-background: rgba(0, 0, 0, 0.6);    --color-media-background-hover: rgba(0, 0, 0, 0.8);    --color-media-background-selected: rgba(0, 0, 0, 0.8);    --color-media-border-selected: #FFFFFF;    --color-media-border-weak: #FFFFFF19;    --color-media-onBackground: #FFFFFF;    --color-media-onBackground-disabled: #FFFFFF3F;    --color-media-onBackground-weak: #E5EBEE;    --color-media-onbackground: #ffffff;    --color-media-onbackground-disabled: #ffffff40;    --color-media-onbackground-weak: #B7CAD4;    --color-neutral-background: #FFFFFF;    --color-neutral-background-container: #F6F8F9;    --color-neutral-background-container-hover: #EEF1F3;    --color-neutral-background-container-strong: #EEF1F3;    --color-neutral-background-container-strong-hover: #E5EBEE;    --color-neutral-background-gilded: #FFF9E0;    --color-neutral-background-gilded-hover: #FFF3C0;    --color-neutral-background-hover: #F6F8F9;    --color-neutral-background-medium: #F8F8F8;    --color-neutral-background-pinned: #FFFFFF;    --color-neutral-background-selected: #E5EBEE;    --color-neutral-background-strong: #FFFFFF;    --color-neutral-background-strong-hover: #F6F8F9;    --color-neutral-background-weak: #F6F8F9;    --color-neutral-background-weak-hover: #EEF1F3;    --color-neutral-border: #00000033;    --color-neutral-border-medium: #0000007F;    --color-neutral-border-strong: #181C1F;    --color-neutral-border-weak: #00000019;    --color-neutral-content: #333D42;    --color-neutral-content-disabled: #D6D6D6;    --color-neutral-content-strong: #181C1F;    --color-neutral-content-weak: #5C6C74;    --color-offline: #767676;    --color-online: #01A816;    --color-opacity-08: #13131314;    --color-opacity-50: #00000080;    --color-opacity-highlight: linear-gradient(#0A2F6C1a, var(--color-tone-6));    --color-pizzaRed: #ef5350;    --color-primary: #115BCA;    --color-primary-background: #0A449B;    --color-primary-background-hover: #0A2F6C;    --color-primary-background-selected: #0A1A3F;    --color-primary-border: #0A449B;    --color-primary-border-hover: #0A2F6C;    --color-primary-hover: #0A449B;    --color-primary-onBackground: #FFFFFF;    --color-primary-onBackground-selected: #FFFFFF;    --color-primary-plain: #0A449B;    --color-primary-plain-hover: #0A2F6C;    --color-primary-plain-visited: #7600A3;    --color-primary-visited: #9B00D4;    --color-scrim: #00000099;    --color-scrim-background: #00000099;    --color-scrim-background-strong: #000000CC;    --color-scrim-gradient: linear-gradient(180deg, #00000000, #0000008a 60%, #00000099 100%);    --color-scrim-strong: #000000cc;    --color-secondary: #21272A;    --color-secondary-background: #E5EBEE;    --color-secondary-background-hover: #DBE4E9;    --color-secondary-background-selected: #C9D7DE;    --color-secondary-hover: #000000;    --color-secondary-onBackground: #000000;    --color-secondary-plain: #181C1F;    --color-secondary-plain-hover: #000000;    --color-secondary-plain-weak: #5C6C74;    --color-secondary-weak: #576F76;    --color-success-background: #008A10;    --color-success-background-hover: #016E0B;    --color-success-content: #016E0B;    --color-success-hover: #005306;    --color-success-onBackground: #FFFFFF;    --color-success-plain: #016E0B;    --color-success-plain-hover: #005306;    --color-tone-1: #131313;    --color-tone-2: #434343;    --color-tone-3: #ACACAC;    --color-tone-4: #E4E4E4;    --color-tone-5: #F2F2F2;    --color-tone-6: #F8F8F8;    --color-tone-7: #ffffff;    --color-transparent-background-hover: #7487911a;    --color-ui-canvas: var(--color-tone-5);    --color-ui-modalbackground: var(--color-neutral-background-strong);    --color-upvote-background: #D93900;    --color-upvote-background-disabled: rgba(217, 57, 0, 0.3);    --color-upvote-background-hover: #AE2C00;    --color-upvote-content: #AE2C00;    --color-upvote-content-weak: var(--color-global-brand-orangered);    --color-upvote-disabled: #AE2C004d;    --color-upvote-onBackground: #FFFFFF;    --color-upvote-onStrongScrim: #FF895D;    --color-upvote-onStrongScrim-disabled: rgba(255, 137, 93, 0.3);    --color-upvote-onStrongScrim-weaker: #FF4500;    --color-upvote-plain: #AE2C00;    --color-upvote-plain-disabled: rgba(174, 44, 0, 0.3);    --color-upvote-plain-weaker: #FF4500;    --color-warning-background: #B78800;    --color-warning-background-hover: #977000;    --color-warning-content: #785800;    --color-warning-content-hover: #5B4200;    --color-warning-onBackground: #000000;    --color-a-default: var(--color-primary);    --color-a-hover: var(--color-primary-hover);    --color-a-visited: var(--color-primary-visited);    --color-banner-plain: var(--color-neutral-background-strong);    --color-banner-plain-inverted: var(--color-neutral-content-strong);    --color-banner-error: var(--color-danger-background);    --color-banner-caution: var(--color-warning-background);    --color-banner-success: var(--color-success-background);    --color-banner-brand: var(--color-brand-background);    --color-banner-plain-text: var(--color-neutral-content);    --color-banner-plain-inverted-text: var(--color-neutral-background-weak);    --color-banner-error-text: var(--color-danger-onBackground);    --color-banner-caution-text: var(--color-warning-onBackground);    --color-banner-caution-hover: var(--color-warning-background-hover);    --color-banner-success-text: var(--color-success-onBackground);    --color-banner-brand-text: var(--color-brand-onBackground);    --color-button-overlay-focus: transparent;    --color-button-overlay-active: transparent;    --color-button-border-width: tomato;    --color-button-border-width-activated: tomato;    --color-button-primary-background-hover: var(--color-primary-background-hover);    --color-button-primary-background-activated: var(--color-primary-background-selected);    --color-button-primary-background-disabled: var(--color-interactive-background-disabled);    --color-button-primary-border-hover: var(--color-primary-background);    --color-button-primary-border-active: var(--color-primary-background-hover);    --color-button-primary-text-disabled: var(--color-interactive-content-disabled);    --color-button-primary-text-activated: var(--color-primary-onBackground-selected);    --color-button-secondary-background: var(--color-secondary-background);    --color-button-secondary-background-focus: var(--color-secondary-background);    --color-button-secondary-background-hover: var(--color-secondary-background-hover);    --color-button-secondary-background-disabled: var(--color-interactive-background-disabled);    --color-button-secondary-background-activated: var(--color-secondary-background-selected);    --color-button-secondary-border: transparent;    --color-button-secondary-border-hover: var(--color-secondary-background);    --color-button-secondary-border-active: var(--color-secondary-background-hover);    --color-button-secondary-border-activated: transparent;    --color-button-secondary-border-disabled: transparent;    --color-button-secondary-text: var(--color-secondary-onBackground);    --color-button-secondary-text-disabled: var(--color-interactive-content-disabled);    --color-button-secondary-text-activated: var(--color-secondary-onBackground);    --color-button-tertiary-background: transparent;    --color-button-tertiary-background-focus: transparent;    --color-button-tertiary-background-hover: var(--color-secondary-background-hover);    --color-button-tertiary-background-disabled: transparent;    --color-button-tertiary-background-activated: var(--color-neutral-content);    --color-button-tertiary-border-hover: var(--color-secondary-background);    --color-button-tertiary-border-active: var(--color-secondary-background-hover);    --color-button-tertiary-text: var(--color-neutral-content-strong);    --color-button-tertiary-text-disabled: var(--color-neutral-content-disabled);    --color-button-tertiary-text-activated: var(--color-neutral-background);    --color-button-plain-background-hover: var(--color-secondary-background-hover);    --color-button-plain-background-disabled: transparent;    --color-button-plain-background-activated: var(--color-secondary-background-selected);    --color-button-plain-border-hover: var(--color-secondary-background);    --color-button-plain-border-active: var(--color-secondary-background-hover);    --color-button-plain-text: var(--color-secondary-plain);    --color-button-plain-text-hover: var(--color-secondary-plain-hover);    --color-button-plain-text-disabled: var(--color-interactive-content-disabled);    --color-button-plain-text-activated: var(--color-secondary-onBackground);    --color-button-primary-border-activated: var(--color-primary-background);    --color-button-plain-text-weak: var(--color-secondary-plain-weak);    --color-button-plain-inverted-background-activated: var(--color-neutral-content);    --color-button-plain-inverted-text-activated: var(--color-neutral-background);    --color-button-media-border-color-activated: var(--color-media-border-selected);    --color-button-favorite-text: var(--color-favorite);    --color-button-caution-background: var(--color-caution-background);    --color-button-caution-background-hover: var(--color-caution-background-hover);    --color-button-caution-background-disabled: var(--color-interactive-background-disabled);    --color-button-caution-text: var(--color-caution-onBackground);    --color-divider-default: var(--color-neutral-border);    --color-input-secondary: var(--color-secondary-background);    --color-input-secondary-hover: var(--color-secondary-background-hover);    --color-input-border: transparent;    --color-input-bordered: transparent;    --color-input-bordered-hover: var(--color-neutral-background-hover);    --color-input-secondary-text: var(--color-secondary-onBackground);    --color-input-bordered-text: var(--color-secondary-plain);    --color-input-helper-text: var(--color-neutral-content-weak);    --color-input-pressed: var(--color-interactive-pressed);    --color-input-radio: var(--color-secondary-plain-weak);    --color-input-radio-hover: var(--color-neutral-content-strong);    --color-label-default: var(--color-neutral-content-weak);    --color-shimmer-background: #00000008;    --color-shimmer-gradient-overlay: linear-gradient(to right, #00000000, #00000005 20%, #0000000f 50%, #00000008 70%, #00000000 100%);    --color-switch-input-background-pressed-scrim: var(--color-interactive-pressed);    --color-switch-input-background-handle: var(--color-global-white);    --color-switch-input-background-handle-disabled: var(--color-secondary-background);    --color-switch-input-background-default: var(--color-secondary-background);    --color-switch-input-background-default-hover: var(--color-secondary-background-hover);    --color-switch-input-background-default-disabled: var(--color-interactive-background-disabled);    --color-switch-input-background-checked: var(--color-primary-background);    --color-switch-input-background-checked-hover: var(--color-primary-background-hover);    --color-switch-input-background-checked-disabled: var(--color-interactive-content-disabled);    --color-tooltip-bg-neutral: var(--color-neutral-background-strong);    --color-tooltip-text-neutral: var(--color-neutral-content);    --color-tooltip-bg-inverted: var(--color-neutral-content);    --color-tooltip-text-inverted: var(--color-neutral-background);    --color-tooltip-bg-primary: var(--color-primary-background);    --color-tooltip-text-primary: var(--color-primary-onBackground);    --elevation-sm-inset: inset 0 0.0625rem 0.125rem 0 #00000021;    --elevation-button-focus: var(--elevation-focus-ring);    --elevation-switch-input-default-inset: var(--elevation-sm-inset);  }  @media (prefers-color-scheme: dark) {    :root:not(.theme-light) .theme-rpl,    :root:not(.theme-light).theme-rpl {      --color-ai-background-weaker: #00382B;      --color-ai-plain: #01A484;      --color-ai-plain-hover: #00C29D;      --color-avatar-gradient: linear-gradient(0deg, #48545Bff, #181C1Fff 75%);      --color-brand-background: #D93900;      --color-brand-background-hover: #AE2C00;      --color-brand-onBackground: #FFFFFF;      --color-caution-background: #D8A100;      --color-caution-background-hover: #FFBF0B;      --color-caution-onBackground: #000000;      --color-caution-plain: #FFBF0B;      --color-caution-plain-hover: #FFE284;      --color-danger-background: #BC0117;      --color-danger-background-disabled: #340F05;      --color-danger-background-hover: #EB001F;      --color-danger-background-weaker: #650405;      --color-danger-content: #FF4F40;      --color-danger-content-hover: #FF8773;      --color-danger-onBackground: #FFFFFF;      --color-danger-plain: #FF8773;      --color-danger-plain-hover: #FDB3A4;      --color-downvote-background: #6A5CFF;      --color-downvote-background-disabled: rgba(106, 92, 255, 0.3);      --color-downvote-background-hover: #523DFF;      --color-downvote-content: #9580FF;      --color-downvote-content-weak: #6A5CFF;      --color-downvote-disabled: #9580FF4d;      --color-downvote-onBackground: #FFFFFF;      --color-downvote-onStrongScrim: #B29FFF;      --color-downvote-onStrongScrim-disabled: rgba(178, 159, 255, 0.3);      --color-downvote-onStrongScrim-weaker: #9580FF;      --color-downvote-plain: #9580FF;      --color-downvote-plain-disabled: rgba(149, 128, 255, 0.3);      --color-downvote-plain-weaker: #6A5CFF;      --color-elevation-large1: #0000007F;      --color-elevation-large2: #00000033;      --color-elevation-medium1: #0000007F;      --color-elevation-medium2: #00000033;      --color-elevation-small: #00000054;      --color-elevation-xsmall: #000000AA;      --color-favorite: #B78800;      --color-global-admin: #D93900;      --color-global-black: #000000;      --color-global-brand-orangered: #FF4500;      --color-global-focus: #007FAE;      --color-global-gold: #D8A100;      --color-global-moderator: #008A10;      --color-global-nsfw: #DE019F;      --color-global-offline: #667780;      --color-global-online: #00C61C;      --color-global-orangered: #FF4500;      --color-global-stars: #D8A100;      --color-global-white: #FFFFFF;      --color-interactive-background-disabled: #FFFFFF0C;      --color-interactive-content-disabled: #FFFFFF3F;      --color-interactive-focused: #007FAE;      --color-interactive-pressed: #FFFFFF26;      --color-inverted-interactive-background-disabled: #0000000C;      --color-inverted-interactive-content-disabled: #0000003F;      --color-inverted-interactive-pressed: #00000026;      --color-inverted-neutral-background: #FFFFFF;      --color-inverted-neutral-background-hover: #F6F8F9;      --color-inverted-neutral-border: #00000033;      --color-inverted-neutral-content: #333D42;      --color-inverted-neutral-content-strong: #181C1F;      --color-inverted-secondary-background: #E5EBEE;      --color-inverted-secondary-background-hover: #DBE4E9;      --color-inverted-secondary-background-selected: #C9D7DE;      --color-inverted-secondary-onBackground: #000000;      --color-inverted-secondary-plain: #181C1F;      --color-inverted-secondary-plain-hover: #000000;      --color-media-background: rgba(0, 0, 0, 0.6);      --color-media-background-hover: rgba(0, 0, 0, 0.8);      --color-media-background-selected: rgba(0, 0, 0, 0.8);      --color-media-border-selected: #FFFFFF;      --color-media-border-weak: #FFFFFF19;      --color-media-onBackground: #FFFFFF;      --color-media-onBackground-disabled: #FFFFFF3F;      --color-media-onBackground-weak: #E5EBEE;      --color-neutral-background: #0E1113;      --color-neutral-background-container: #181C1F;      --color-neutral-background-container-hover: #21272A;      --color-neutral-background-container-strong: #21272A;      --color-neutral-background-container-strong-hover: #2A3236;      --color-neutral-background-gilded: #181C1F;      --color-neutral-background-gilded-hover: #21272A;      --color-neutral-background-hover: #181C1F;      --color-neutral-background-medium: #131313;      --color-neutral-background-pinned: #0E1113;      --color-neutral-background-selected: #2A3236;      --color-neutral-background-strong: #181C1F;      --color-neutral-background-strong-hover: #21272A;      --color-neutral-background-weak: #000000;      --color-neutral-background-weak-hover: #0E1113;      --color-neutral-border: #FFFFFF33;      --color-neutral-border-medium: #FFFFFF7F;      --color-neutral-border-strong: #F6F8F9;      --color-neutral-border-weak: #FFFFFF19;      --color-neutral-content: #B7CAD4;      --color-neutral-content-disabled: #303030;      --color-neutral-content-strong: #EEF1F3;      --color-neutral-content-weak: #8BA2AD;      --color-offline: #767676;      --color-online: #01A816;      --color-opacity-50: #F2F2F280;      --color-pizzaRed: #c62828;      --color-primary: #648EFC;      --color-primary-background: #115BCA;      --color-primary-background-hover: #1870F4;      --color-primary-background-selected: #648EFC;      --color-primary-border: #648EFC;      --color-primary-border-hover: #90A9FD;      --color-primary-hover: #90A9FD;      --color-primary-onBackground: #FFFFFF;      --color-primary-onBackground-selected: #000000;      --color-primary-plain: #648EFC;      --color-primary-plain-hover: #90A9FD;      --color-primary-plain-visited: #CF5FFF;      --color-primary-visited: #CF5FFF;      --color-scrim-background: #00000099;      --color-scrim-background-strong: #000000CC;      --color-secondary: #DBE4E9;      --color-secondary-background: #2A3236;      --color-secondary-background-hover: #333D42;      --color-secondary-background-selected: #3D494E;      --color-secondary-hover: #ffffff;      --color-secondary-onBackground: #FFFFFF;      --color-secondary-plain: #DBE4E9;      --color-secondary-plain-hover: #FFFFFF;      --color-secondary-plain-weak: #8BA2AD;      --color-secondary-weak: #748791;      --color-success-background: #016E0B;      --color-success-background-hover: #008A10;      --color-success-content: #01A816;      --color-success-hover: #00C61C;      --color-success-onBackground: #FFFFFF;      --color-success-plain: #00C61C;      --color-success-plain-hover: #58E15B;      --color-tone-1: #F2F2F2;      --color-tone-2: #ACACAC;      --color-tone-3: #434343;      --color-tone-4: #303030;      --color-tone-5: #1E1E1E;      --color-tone-6: #131313;      --color-tone-7: #080808;      --color-transparent-background-hover: #6677801a;      --color-ui-canvas: #080808;      --color-ui-modalbackground: var(--color-neutral-background-strong);      --color-upvote-background: #D93900;      --color-upvote-background-disabled: rgba(217, 57, 0, 0.3);      --color-upvote-background-hover: #AE2C00;      --color-upvote-content: #FF4500;      --color-upvote-content-weak: var(--color-global-brand-orangered);      --color-upvote-disabled: #FF45004d;      --color-upvote-onBackground: #FFFFFF;      --color-upvote-onStrongScrim: #FF895D;      --color-upvote-onStrongScrim-disabled: rgba(255, 137, 93, 0.3);      --color-upvote-onStrongScrim-weaker: #FF4500;      --color-upvote-plain: #FF895D;      --color-upvote-plain-disabled: rgba(255, 137, 93, 0.3);      --color-upvote-plain-weaker: #FF4500;      --color-warning-background: #B78800;      --color-warning-background-hover: #D8A100;      --color-warning-content: #B78800;      --color-warning-content-hover: #D8A100;      --color-warning-onBackground: #000000;      --color-button-primary-border-activated: transparent;      --color-button-plain-inverted-activated-text: var(--color-neutral-background);      --color-input-radio-hover: var(--color-secondary-plain);      --color-shimmer-background: #ffffff08;      --color-shimmer-gradient-overlay: linear-gradient(to right, #ffffff00, #ffffff05 20%, #ffffff0f 50%, #ffffff08 70%, #ffffff00 100%);    }  }  .theme-dark .theme-rpl,  .theme-dark.theme-rpl {    --color-ai-background-weaker: #00382B;    --color-ai-plain: #01A484;    --color-ai-plain-hover: #00C29D;    --color-avatar-gradient: linear-gradient(0deg, #48545Bff, #181C1Fff 75%);    --color-brand-background: #D93900;    --color-brand-background-hover: #AE2C00;    --color-brand-onBackground: #FFFFFF;    --color-caution-background: #D8A100;    --color-caution-background-hover: #FFBF0B;    --color-caution-onBackground: #000000;    --color-caution-plain: #FFBF0B;    --color-caution-plain-hover: #FFE284;    --color-danger-background: #BC0117;    --color-danger-background-disabled: #340F05;    --color-danger-background-hover: #EB001F;    --color-danger-background-weaker: #650405;    --color-danger-content: #FF4F40;    --color-danger-content-hover: #FF8773;    --color-danger-onBackground: #FFFFFF;    --color-danger-plain: #FF8773;    --color-danger-plain-hover: #FDB3A4;    --color-downvote-background: #6A5CFF;    --color-downvote-background-disabled: rgba(106, 92, 255, 0.3);    --color-downvote-background-hover: #523DFF;    --color-downvote-content: #9580FF;    --color-downvote-content-weak: #6A5CFF;    --color-downvote-disabled: #9580FF4d;    --color-downvote-onBackground: #FFFFFF;    --color-downvote-onStrongScrim: #B29FFF;    --color-downvote-onStrongScrim-disabled: rgba(178, 159, 255, 0.3);    --color-downvote-onStrongScrim-weaker: #9580FF;    --color-downvote-plain: #9580FF;    --color-downvote-plain-disabled: rgba(149, 128, 255, 0.3);    --color-downvote-plain-weaker: #6A5CFF;    --color-elevation-large1: #0000007F;    --color-elevation-large2: #00000033;    --color-elevation-medium1: #0000007F;    --color-elevation-medium2: #00000033;    --color-elevation-small: #00000054;    --color-elevation-xsmall: #000000AA;    --color-favorite: #B78800;    --color-global-admin: #D93900;    --color-global-black: #000000;    --color-global-brand-orangered: #FF4500;    --color-global-focus: #007FAE;    --color-global-gold: #D8A100;    --color-global-moderator: #008A10;    --color-global-nsfw: #DE019F;    --color-global-offline: #667780;    --color-global-online: #00C61C;    --color-global-orangered: #FF4500;    --color-global-stars: #D8A100;    --color-global-white: #FFFFFF;    --color-interactive-background-disabled: #FFFFFF0C;    --color-interactive-content-disabled: #FFFFFF3F;    --color-interactive-focused: #007FAE;    --color-interactive-pressed: #FFFFFF26;    --color-inverted-interactive-background-disabled: #0000000C;    --color-inverted-interactive-content-disabled: #0000003F;    --color-inverted-interactive-pressed: #00000026;    --color-inverted-neutral-background: #FFFFFF;    --color-inverted-neutral-background-hover: #F6F8F9;    --color-inverted-neutral-border: #00000033;    --color-inverted-neutral-content: #333D42;    --color-inverted-neutral-content-strong: #181C1F;    --color-inverted-secondary-background: #E5EBEE;    --color-inverted-secondary-background-hover: #DBE4E9;    --color-inverted-secondary-background-selected: #C9D7DE;    --color-inverted-secondary-onBackground: #000000;    --color-inverted-secondary-plain: #181C1F;    --color-inverted-secondary-plain-hover: #000000;    --color-media-background: rgba(0, 0, 0, 0.6);    --color-media-background-hover: rgba(0, 0, 0, 0.8);    --color-media-background-selected: rgba(0, 0, 0, 0.8);    --color-media-border-selected: #FFFFFF;    --color-media-border-weak: #FFFFFF19;    --color-media-onBackground: #FFFFFF;    --color-media-onBackground-disabled: #FFFFFF3F;    --color-media-onBackground-weak: #E5EBEE;    --color-neutral-background: #0E1113;    --color-neutral-background-container: #181C1F;    --color-neutral-background-container-hover: #21272A;    --color-neutral-background-container-strong: #21272A;    --color-neutral-background-container-strong-hover: #2A3236;    --color-neutral-background-gilded: #181C1F;    --color-neutral-background-gilded-hover: #21272A;    --color-neutral-background-hover: #181C1F;    --color-neutral-background-medium: #131313;    --color-neutral-background-pinned: #0E1113;    --color-neutral-background-selected: #2A3236;    --color-neutral-background-strong: #181C1F;    --color-neutral-background-strong-hover: #21272A;    --color-neutral-background-weak: #000000;    --color-neutral-background-weak-hover: #0E1113;    --color-neutral-border: #FFFFFF33;    --color-neutral-border-medium: #FFFFFF7F;    --color-neutral-border-strong: #F6F8F9;    --color-neutral-border-weak: #FFFFFF19;    --color-neutral-content: #B7CAD4;    --color-neutral-content-disabled: #303030;    --color-neutral-content-strong: #EEF1F3;    --color-neutral-content-weak: #8BA2AD;    --color-offline: #767676;    --color-online: #01A816;    --color-opacity-50: #F2F2F280;    --color-pizzaRed: #c62828;    --color-primary: #648EFC;    --color-primary-background: #115BCA;    --color-primary-background-hover: #1870F4;    --color-primary-background-selected: #648EFC;    --color-primary-border: #648EFC;    --color-primary-border-hover: #90A9FD;    --color-primary-hover: #90A9FD;    --color-primary-onBackground: #FFFFFF;    --color-primary-onBackground-selected: #000000;    --color-primary-plain: #648EFC;    --color-primary-plain-hover: #90A9FD;    --color-primary-plain-visited: #CF5FFF;    --color-primary-visited: #CF5FFF;    --color-scrim-background: #00000099;    --color-scrim-background-strong: #000000CC;    --color-secondary: #DBE4E9;    --color-secondary-background: #2A3236;    --color-secondary-background-hover: #333D42;    --color-secondary-background-selected: #3D494E;    --color-secondary-hover: #ffffff;    --color-secondary-onBackground: #FFFFFF;    --color-secondary-plain: #DBE4E9;    --color-secondary-plain-hover: #FFFFFF;    --color-secondary-plain-weak: #8BA2AD;    --color-secondary-weak: #748791;    --color-success-background: #016E0B;    --color-success-background-hover: #008A10;    --color-success-content: #01A816;    --color-success-hover: #00C61C;    --color-success-onBackground: #FFFFFF;    --color-success-plain: #00C61C;    --color-success-plain-hover: #58E15B;    --color-tone-1: #F2F2F2;    --color-tone-2: #ACACAC;    --color-tone-3: #434343;    --color-tone-4: #303030;    --color-tone-5: #1E1E1E;    --color-tone-6: #131313;    --color-tone-7: #080808;    --color-transparent-background-hover: #6677801a;    --color-ui-canvas: #080808;    --color-ui-modalbackground: var(--color-neutral-background-strong);    --color-upvote-background: #D93900;    --color-upvote-background-disabled: rgba(217, 57, 0, 0.3);    --color-upvote-background-hover: #AE2C00;    --color-upvote-content: #FF4500;    --color-upvote-content-weak: var(--color-global-brand-orangered);    --color-upvote-disabled: #FF45004d;    --color-upvote-onBackground: #FFFFFF;    --color-upvote-onStrongScrim: #FF895D;    --color-upvote-onStrongScrim-disabled: rgba(255, 137, 93, 0.3);    --color-upvote-onStrongScrim-weaker: #FF4500;    --color-upvote-plain: #FF895D;    --color-upvote-plain-disabled: rgba(255, 137, 93, 0.3);    --color-upvote-plain-weaker: #FF4500;    --color-warning-background: #B78800;    --color-warning-background-hover: #D8A100;    --color-warning-content: #B78800;    --color-warning-content-hover: #D8A100;    --color-warning-onBackground: #000000;    --color-button-primary-border-activated: transparent;    --color-button-plain-inverted-activated-text: var(--color-neutral-background);    --color-input-radio-hover: var(--color-secondary-plain);    --color-shimmer-background: #ffffff08;    --color-shimmer-gradient-overlay: linear-gradient(to right, #ffffff00, #ffffff05 20%, #ffffff0f 50%, #ffffff08 70%, #ffffff00 100%);  }  :root {    font-family: var(--font-sans);    font-size: 16px;  }  :root,  .theme-light,  .theme-dark {    background: var(--color-tone-7);    color: var(--color-neutral-content, var(--color-tone-1));  }  /* iOS form zoom fix */  body {    font-size: var(--font-body);  }  /*  Fix FOUC by hiding custom elements until they are registered.  Certain components that gaurantee that they do not affect layout may be excluded.  */  :not(:defined):not(faceplate-auto-height-animator, faceplate-dropdown-menu, faceplate-expandable-section-helper, faceplate-hovercard, faceplate-tracker) {    visibility: hidden;  }  faceplate-hovercard:not(:defined) > [slot='content'] {    display: none;  }  /*  Override the _color_ of the default user-agent outline ring on focus-visible  */  :focus-visible {    outline-color: var(--color-global-focus);  }  faceplate-banner [slot='closeButton'] {    margin-left: var(--spacer-sm);  }  faceplate-banner [slot='actionButtons'] button:first-of-type {    margin-right: var(--spacer-xs);  }  faceplate-banner[appearance='caution'] button {    color: var(--color-banner-caution-text);  }  faceplate-banner[appearance='caution'] button:hover {    background-color: var(--color-banner-caution-hover);  }  /**   * The blockquote style module   *   * This LESS module provides the default Faceplate styles for `<blockquote>` elements.   *   * ```less   * @import '@reddit/faceplate-ui/styles/elements/blockquote.less';   *   * // To apply styles to <blockquote> elements within a scope (e.g. a shadow DOM)   * blockquote {   *   .blockquote();   * }   *   * // To apply styles to a custom element directly   * :host {   *   display: block;   *   .blockquote();   * }   * ```   *   * ---   *   * Faceplate includes these styles on the `<blockquote>` element by default.   *   * ```demo:html   * <blockquote>   *   that happened to me once but instead of clapping it was eating doritos   * </blockquote>   * ```   *   * @packageDocumentation   */  /* Toggle Buttons */  .button-favorite {    --button-color-background-focus: transparent;    --button-color-background-hover: var(--color-button-plain-background-hover);    --button-color-background-disabled: var(--color-button-plain-background-disabled);    --button-color-background-activated: var(--color-button-plain-background-activated);    --button-color-background-active: linear-gradient(var(--color-button-secondary-background-hover), var(--color-button-secondary-background-hover));    --button-color-text-default: var(--color-button-plain-text);    --button-color-text-disabled: var(--color-button-plain-text-disabled);    --button-color-text-activated: var(--color-button-plain-text-activated);    --button-color-text-hover: var(--color-button-plain-text-hover);    --button-border-color-default: transparent;    --button-color-text-default: var(--color-neutral-content-weak);    --button-color-background-default: transparent;    --button-color-text-hover: var(--color-secondary-onBackground);  }  .button-favorite-toggled {    --button-color-background-focus: transparent;    --button-color-background-hover: var(--color-button-plain-background-hover);    --button-color-background-disabled: var(--color-button-plain-background-disabled);    --button-color-background-activated: var(--color-button-plain-background-activated);    --button-color-background-active: linear-gradient(var(--color-button-secondary-background-hover), var(--color-button-secondary-background-hover));    --button-color-text-default: var(--color-button-plain-text);    --button-color-text-disabled: var(--color-button-plain-text-disabled);    --button-color-text-activated: var(--color-button-plain-text-activated);    --button-color-text-hover: var(--color-button-plain-text-hover);    --button-border-color-default: transparent;    --button-color-background-default: transparent;    --button-color-text-default: var(--color-button-favorite-text);    --button-color-text-hover: var(--color-button-favorite-text);  }  .button-secondary-toggled {    --button-color-background-default: var(--color-button-secondary-background);    --button-color-background-focus: var(--color-button-secondary-background-focus);    --button-color-background-hover: var(--color-button-secondary-background-hover);    --button-color-background-active: linear-gradient(var(--color-button-secondary-background-hover), var(--color-button-secondary-background-hover));    --button-color-background-disabled: var(--color-button-secondary-background-disabled);    --button-color-background-activated: var(--color-button-secondary-background-activated);    --button-color-text-default: var(--color-button-secondary-text);    --button-color-text-disabled: var(--color-button-secondary-text-disabled);    --button-color-text-activated: var(--color-button-secondary-text-activated);    --button-border-color-default: var(--color-button-secondary-border);    --button-color-background-default: var(--color-button-secondary-background-activated);    --button-border-color-default: var(--color-neutral-border);  }  .button-caution {    --button-color-background-default: var(--color-button-caution-background);    --button-color-background-hover: var(--color-button-caution-background-hover);    --button-color-background-disabled: var(--color-button-caution-background-disabled);    --button-color-text-default: var(--color-button-caution-text);  }  .rpl-vote-button-group {    /* APPEARANCE AGNOSTIC STYLES */    /* PLAIN APPEARANCE */    /* SECONDARY APPEARANCE */    /* BORDERED APPEARANCE */    --vote-button-divider-color: var(--color-neutral-border-weak);    /* MEDIA APPEARANCE */  }  .rpl-vote-button-group:not([disabled]) .rpl-vote-button-group-label {    color: var(--vote-button-label-color);  }  .rpl-vote-button-group:not([disabled]):hover.rpl-vote-button-group-label {    color: var(--vote-button-label-color-hover);  }  .rpl-vote-button-group .rpl-vote-button-group-divider {    background-color: var(--vote-button-divider-color);  }  .rpl-vote-button-group[disabled] button[rpl]:disabled {    --button-color-background-disabled: transparent;  }  .rpl-vote-button-group.button-plain {    --vote-button-label-color: var(--color-secondary-plain);    --vote-button-label-color-hover: var(--color-secondary-plain);  }  .rpl-vote-button-group.button-plain button[rpl]:first-child {    --button-color-text-hover: var(--color-upvote-plain-weaker);  }  .rpl-vote-button-group.button-plain button[rpl]:last-child {    --button-color-text-hover: var(--color-downvote-plain-weaker);  }  .rpl-vote-button-group.button-plain.upvote {    --vote-button-label-color: var(--color-upvote-plain);  }  .rpl-vote-button-group.button-plain.upvote button[rpl]:first-child {    --button-color-text-default: var(--color-upvote-plain-weaker);    --button-color-text-hover: var(--color-upvote-plain-weaker);    --button-color-text-disabled: var(--color-upvote-plain-disabled);    --button-color-text-activated: var(--color-upvote-plain-weaker);  }  .rpl-vote-button-group.button-plain.downvote {    --vote-button-label-color: var(--color-downvote-plain);  }  .rpl-vote-button-group.button-plain.downvote button[rpl]:last-child {    --button-color-text-default: var(--color-downvote-plain-weaker);    --button-color-text-disabled: var(--color-downvote-plain-disabled);    --button-color-text-activated: var(--color-downvote-plain-weaker);  }  .rpl-vote-button-group.button-secondary {    --vote-button-label-color: var(--color-secondary-plain);    --vote-button-label-color-hover: var(--color-secondary-plain);    --vote-button-divider-color: var(--color-neutral-border);  }  .rpl-vote-button-group.button-secondary button[rpl]:first-child {    --button-color-text-hover: var(--color-upvote-plain-weaker);  }  .rpl-vote-button-group.button-secondary button[rpl]:last-child {    --button-color-text-hover: var(--color-downvote-plain-weaker);  }  .rpl-vote-button-group.button-secondary.upvote,  .rpl-vote-button-group.button-secondary.upvote button[rpl] {    --button-color-text-default: var(--color-upvote-onBackground);    --button-color-text-hover: var(--color-upvote-onBackground);    --button-color-text-disabled: var(--color-upvote-disabled);    --button-color-text-activated: var(--color-upvote-onBackground);  }  .rpl-vote-button-group.button-secondary.upvote:not([disabled]),  .rpl-vote-button-group.button-secondary.upvote button[rpl]:not([disabled]) {    --button-color-background-default: var(--color-upvote-background);    --button-color-background-hover: var(--color-upvote-background-hover);    --button-color-background-active: var(--color-upvote-background-hover);    --vote-button-divider-color: var(--color-upvote-onBackground);    --vote-button-label-color: var(--color-media-onBackground);  }  .rpl-vote-button-group.button-secondary.downvote,  .rpl-vote-button-group.button-secondary.downvote button[rpl] {    --button-color-text-default: var(--color-downvote-onBackground);    --button-color-text-hover: var(--color-downvote-onBackground);    --button-color-text-disabled: var(--color-downvote-disabled);    --button-color-text-activated: var(--color-downvote-onBackground);  }  .rpl-vote-button-group.button-secondary.downvote:not([disabled]),  .rpl-vote-button-group.button-secondary.downvote button[rpl]:not([disabled]) {    --button-color-background-default: var(--color-downvote-background);    --button-color-background-hover: var(--color-downvote-background-hover);    --button-color-background-active: var(--color-downvote-background-hover);    --vote-button-divider-color: var(--color-upvote-onBackground);    --vote-button-label-color: var(--color-media-onBackground);  }  .rpl-vote-button-group.button-bordered-cab {    --vote-button-label-color: var(--color-secondary-plain);    --vote-button-label-color-hover: var(--color-secondary-plain);  }  .rpl-vote-button-group.button-bordered-cab button[rpl]:first-child {    --button-color-text-hover: var(--color-upvote-plain-weaker);  }  .rpl-vote-button-group.button-bordered-cab button[rpl]:last-child {    --button-color-text-hover: var(--color-downvote-plain-weaker);  }  .rpl-vote-button-group.button-bordered-cab.upvote {    --vote-button-label-color: var(--color-upvote-plain);  }  .rpl-vote-button-group.button-bordered-cab.upvote button[rpl]:first-child {    --button-color-text-default: var(--color-upvote-plain-weaker);    --button-color-text-hover: var(--color-upvote-plain-weaker);    --button-color-text-disabled: var(--color-upvote-plain-disabled);    --button-color-text-activated: var(--color-upvote-plain-weaker);  }  .rpl-vote-button-group.button-bordered-cab.downvote {    --vote-button-label-color: var(--color-downvote-plain);  }  .rpl-vote-button-group.button-bordered-cab.downvote button[rpl]:last-child {    --button-color-text-default: var(--color-downvote-plain-weaker);    --button-color-text-hover: var(--color-downvote-plain-weaker);    --button-color-text-disabled: var(--color-downvote-plain-disabled);    --button-color-text-activated: var(--color-downvote-plain-weaker);  }  .rpl-vote-button-group.button-media-cab {    --vote-button-label-color: var(--color-media-onBackground);    --vote-button-label-color-hover: var(--color-media-onBackground);    --vote-button-divider-color: var(--color-media-border-weak);  }  .rpl-vote-button-group.button-media-cab button[rpl]:first-child {    --button-color-text-hover: var(--color-upvote-onStrongScrim-weaker);  }  .rpl-vote-button-group.button-media-cab button[rpl]:last-child {    --button-color-text-hover: var(--color-downvote-onStrongScrim-weaker);  }  .rpl-vote-button-group.button-media-cab.upvote {    --vote-button-label-color: var(--color-upvote-onStrongScrim);  }  .rpl-vote-button-group.button-media-cab.upvote button[rpl]:first-child {    --button-color-text-default: var(--color-upvote-onStrongScrim-weaker);    --button-color-text-activated: var(--color-upvote-onStrongScrim-weaker);    --button-color-text-disabled: var(--color-upvote-onStrongScrim-disabled);  }  .rpl-vote-button-group.button-media-cab.downvote {    --vote-button-label-color: var(--color-downvote-onStrongScrim);  }  .rpl-vote-button-group.button-media-cab.downvote button[rpl]:last-child {    --button-color-text-default: var(--color-downvote-onStrongScrim-weaker);    --button-color-text-activated: var(--color-downvote-onStrongScrim-weaker);    --button-color-text-disabled: var(--color-downvote-onStrongScrim-disabled);  }  /**   * The code style module   *   * This LESS module provides the default Faceplate styles for `<code>` elements.   *   * ```less   * @import '@reddit/faceplate-ui/styles/elements/code.less';   *   * // To apply styles to <code> elements within a scope (e.g. a shadow DOM)   * code {   *   .code();   * }   *   * // To apply styles to a custom element directly   * :host {   *   display: block;   *   .code();   * }   * ```   *   * ---   *   * Faceplate includes these styles on the following elements:   *   * - `<code>`   * - `<pre>`   * - `<kbd>`   * - `<samp>`   *   * ```demo:html   * <p>This is some <code>inline code</code>.</p>   *   * <pre><code>This is some   * preformatted   * code   * </code></pre>   *   * <p>This is a <samp>sample</samp> element.</p>   *   * <p>This is a <kbd>keyboard</kbd> element.</p>   * ```   *   * @packageDocumentation   */  /**   * The details style module   *   * This LESS module provides the default Faceplate styles for `<details>` elements, and `<summary>`   * elements nested in them.   *   * ```less   * @import '@reddit/faceplate-ui/styles/elements/details.less';   *   * // To apply styles to <details> elements within a scope (e.g. a shadow DOM)   * details {   *   .details();   * }   * ```   *   * ---   *    * Faceplate includes these styles on the `details` element by default.   *    * ```demo:html   * <details>   *   <summary>Click for more info</summary>   *   <p>More info</p>   * </details>   * ```   *   * @packageDocumentation   */  faceplate-dropdown-menu:not(.connected) [slot='menu'] {    display: none;  }  faceplate-dropdown-menu faceplate-menu li[rpl]:first-child [role='menuitem'] {    border-top-left-radius: var(--rem8);    border-top-right-radius: var(--rem8);  }  faceplate-dropdown-menu faceplate-menu li[rpl]:last-child [role='menuitem'] {    border-bottom-left-radius: var(--rem8);    border-bottom-right-radius: var(--rem8);  }  faceplate-expandable-section-helper {    display: contents;    /* [rpl] just to boost the selector */    /*    Target the [open] attribute on either the root element OR the details    element to rotate the chevron. This is to handle rotating chevrons both    before and after the faceplate-expandable-section-helper component is defined.        Before the component is defined, the [open] attribute on the component will not    toggle if the user clicks on details, but the [open] attribute will toggle on    the details element, so we need to target details too.      The reason we can't target only the details element is because once the web    component is defined, we delay toggling the [open] attribute on the details    element until AFTER the animation finishes. So if we only targeted the details    element for the chevron rotation the chevron wouldn't rotate until after the    collapse animation finished and we finally toggle the [open] attriubte on the    details element.    */    /*      Specific handling for nested menus. We only need to handle collapse menus inside of      expanded menus, not expanded menus inside collapsed menus because you can't see those!    */  }  faceplate-expandable-section-helper > details > summary {    list-style-type: none;    /* For Safari */  }  faceplate-expandable-section-helper > details > summary::marker,  faceplate-expandable-section-helper > details > summary::-webkit-details-marker {    display: none;  }  faceplate-expandable-section-helper[rpl] > details > summary {    /* override details.less */    margin: 0;  }  faceplate-expandable-section-helper > details > summary [icon-name='caret-down-outline'] {    transition: transform 0.22s ease-in-out;  }  faceplate-expandable-section-helper[open] > details > summary svg[rpl][icon-name='caret-down-outline'],  faceplate-expandable-section-helper:not(:defined) > details[open] > summary svg[rpl][icon-name='caret-down-outline'] {    transform: rotate(180deg);  }  faceplate-expandable-section-helper:not([open]) > details > summary svg[rpl][icon-name='caret-down-outline'],  faceplate-expandable-section-helper:not(:defined) > details[open] > summary svg[rpl][icon-name='caret-down-outline'] {    transform: rotate(0deg);  }  /**   * The header style module   *   * This LESS module provides the default Faceplate styles for `<header>` elements.  This includes   * the behavior of forcing the element's background to take the full width of the page.   *   * ```less   * @import '@reddit/faceplate-ui/styles/elements/header.less';   *   * // To apply styles to <header> elements within a scope (e.g. a shadow DOM)   * header {   *   .header();   * }   *   * // To apply styles to a custom element directly   * :host {   *   display: block;   *   .header();   * }   * ```   *   * ---   *    * Faceplate applies these styles to the `<header>` element by default.   *    * ```html   * <header>   *   Header content.   * </header>   * ```   *   * @packageDocumentation   */  /**   * The input style module   *   * This LESS module provides the default Faceplate styles for `<input>`, `<textarea>`, and   * `<select>` elements.   *   * ```less   * @import '@reddit/faceplate-ui/styles/elements/input.less';   *   * // To apply styles to <input> elements within a scope (e.g. a shadow DOM)   * input,   * textarea,   * select {   *   .input();   * }   *   * // To apply styles to a custom element directly   * :host {   *   display: block;   *   .input();   * }   * ```   *   * ---   *   * Faceplate applies these styles to the following elements by default:   *   * - `<input>`   * - `<select>`   * - `<textarea>`   *   * ```demo:html   * <p>   *   <input value=\"input\">   * </p>   * <p>   *   <select>   *     <option>select</option>   *   </select>   * </p>   * <p>   *   <textarea>textarea</textarea>   * </p>   * ```   *   * @packageDocumentation   */  /**   * The kbd style module   *   * This LESS module provides the default Faceplate styles for `<kbd>` elements.   *   * ```less   * @import '@reddit/faceplate/styles/elements/kbd.less';   *   * // To apply styles to <kbd> elements within a scope (e.g. a shadow DOM)   * kbd {   *   .kbd();   * }   *   * // To apply styles to a custom element directly   * :host {   *   display: block;   *   .kbd();   * }   * ```   *   * ---   *    * Faceplate applies these styles to `<kdb>` elements _in addition to_ the styles provided by the   * `code.less` module.   *    * ```demo:html   * <p>This is a <kbd>k</kbd>eyboard element.</p>   * ```   *   * @packageDocumentation   */  /**   * The label style module   *   * This LESS module provides the default Faceplate styles for `<label>` elements.   *   * ```less   * @import '@reddit/faceplate-ui/styles/elements/label.less';   *   * // To apply styles to <label> elements within a scope (e.g. a shadow DOM)   * label {   *   .label();   * }   *   * // To apply styles to a custom element directly   * :host {   *   display: block;   *   .label();   * }   * ```   *   * ---   *   * Faceplate applies these styles to the `<label>` element by default, unless the label is an   * _adjacent_ sibling to an input of type \"radio\" or \"checkbox\"   *    * ```demo:html   * <p>   *   <label>   *     Name<br>   *     <input>   *   </label>   * </p>   * <p>   *   <label for=\"desc\">Description</label><br>   *   <textarea id=\"desc\"></textarea>   * </p>   * <p>   *   <input type=\"checkbox\" id=\"enabled\">   *   <label for=\"enabled\">Enabled?</label>   * </p>   * ```   *   * @packageDocumentation   */  /**   * The menu style module   *   * This LESS module provides the default Faceplate styles for `<menu>` elements, and `<li>` elements   * nested in them.   *   * ```less   * @import '@reddit/faceplate-ui/styles/elements/menu.less';   *   * // To apply styles to <menu> elements within a scope (e.g. a shadow DOM)   * menu {   *   .menu();   * }   *   * // To apply styles to a custom element directly   * :host {   *   display: block;   *   .menu();   * }   * ```   *   * ---   *   * Faceplate applies these styles to `<menu>` elements and their descendant `<li>` elements by default.   *    * ```html   * <menu>   *   <li>Option A</li>   *   <li>Option B</li>   *   <li>Option C</li>   * </menu>   * ```   *   * @packageDocumentation   */  /**   * The pre style module   *   * This LESS module provides the default Faceplate styles for `<pre>` elements.   *   * ```less   * @import '@reddit/faceplate-ui/styles/elements/pre.less';   *   * // To apply styles to <pre> elements within a scope (e.g. a shadow DOM)   * pre {   *   .pre();   * }   *   * // To apply styles to a custom element directly   * :host {   *   display: block;   *   .pre();   * }   * ```   *   * ---   *   * Faceplate applies these styles to the `<pre>` element, in addition to the styles provided by   * the `code.less` style module.   *   * ```demo:html   * <pre><code>This is some   * preformatted   * code   * </code></pre>   * ```   *   * @packageDocumentation   */  /**   * The table style module   *   * This LESS module provides the default Faceplate styles for `<table>` elements and their children.   *   * ```less   * @import '@reddit/faceplate-ui/styles/elements/table.less';   *   * // To apply styles to <table> elements within a scope (e.g. a shadow DOM)   * table {   *   .table();   * }   *   * // To apply styles to a custom element directly   * :host {   *   display: block;   *   .table();   * }   * ```   *   * ---   *   * Faceplate applies these styles to the `<table>` element and its descendant `<td>`, `<th>`, `<tr>`,   * and `<caption>` elements by default.   *   * ```demo:html   * <table>   *   <thead>   *     <tr>   *       <th>Name</th>   *       <th>Occupation</th>   *     </tr>   *   </thead>   *   <tbody>   *     <tr>   *       <td>Matt Lee</td>   *       <td>Dorito Muncher</td>   *     </tr>   *   </tbody>   * </table>   * ```   *   * @packageDocumentation   */  /**   * The hr style module   *   * This LESS module provides the default Faceplate styles for `<hr>` element.   *   * ```less   * @import '@reddit/faceplate-ui/styles/elements/hr.less';   *   * // To apply styles to <hr> elements within a scope (e.g. a shadow DOM)   * hr {   *   .hr();   * }   * ```   *   * ---   *    * Faceplate includes these styles on the `details` element by default.   *    * ```demo:html   * <hr />   * ```   *   * @packageDocumentation   */  address,  area,  article,  aside,  audio,  blockquote,  datalist,  details,  dl,  fieldset,  figure,  form,  input,  iframe,  img,  meter,  nav,  ol,  optgroup,  option,  output,  p,  pre,  progress,  ruby,  section,  textarea,  ul,  menu,  video {    /* Margins for most elements */    margin-bottom: 1rem;  }  html,  input,  select,  button {    /* Set body font family and some finicky elements */    font-family: var(--font-sans);  }  body {    --faceplate-body-padding: 1.5rem;    margin: 0 auto;    padding: var(--faceplate-body-padding);    overflow-x: hidden;    word-break: break-word;    overflow-wrap: break-word;    line-height: 1.5;  }  @media (max-width: 599px) {    body {      --faceplate-body-padding: 1rem;    }  }  h1,  h2,  h3,  h4,  h5,  h6 {    margin: 1em 0 0.5em;  }  h1 {    font: var(--font-title-h1);  }  h2 {    font: var(--font-title-h2);  }  h3 {    font: var(--font-title-h3);  }  h4 {    font: var(--font-title-h4);  }  h5 {    font: var(--font-title-h5);  }  h6 {    font: var(--font-title-h6);  }  label {    text-transform: var(--misc-label-text-transform);    letter-spacing: var(--misc-label-letter-spacing);    font: var(--font-label-default);    color: var(--color-label-default);  }  label > input,  label > textarea {    margin-top: var(--spacer-label-default);  }  faceplate-switch-input + label,  input[type='checkbox'] + label,  input[type='radio'] + label {    font-size: inherit;    text-transform: inherit;    letter-spacing: inherit;    font-weight: inherit;    vertical-align: middle;  }  a {    color: var(--color-a-default);    text-decoration: none;  }  a:hover {    text-decoration: underline;  }  abbr:hover {    /* Set the '?' cursor while hovering an abbreviation */    cursor: help;  }  blockquote {    padding: 1.5rem;    background: var(--color-tone-6);    border-left: 5px solid var(--color-tone-5);  }  abbr {    cursor: help;  }  blockquote *:last-child {    padding-bottom: 0;    margin-bottom: 0;  }  header {    padding-left: calc(50vw - 50%);    padding-right: calc(50vw - 50%);    margin-left: calc(0px - (50vw - 50%));    margin-right: calc(0px - (50vw - 50%));    padding-top: var(--faceplate-body-padding);    padding-bottom: var(--faceplate-body-padding);    margin-top: calc(-1 * var(--faceplate-body-padding));    margin-bottom: var(--faceplate-body-padding);    background: var(--color-tone-6);  }  dialog header,  faceplate-dialog header,  article header,  section header,  main header,  aside header {    padding: 0.5rem 0;    margin: 1rem 0;    background: transparent;  }  dialog header h1,  faceplate-dialog header h1,  article header h1,  section header h1,  main header h1,  aside header h1 {    font: var(--font-title-h1);  }  header h1 {    font: var(--font-title-h0);  }  header > *:first-child {    margin-top: 0;  }  header > *:last-child {    margin-bottom: 0;  }  :where(button),  :where(input):where([type='submit'], [type='reset'], [type='button']) {    background: var(--button-color-background);    border-radius: 999px;    border: none;    border: var(--button-border-width, 0) solid var(--button-border-color, transparent);    box-shadow: var(--button-shadow);    box-sizing: border-box;    color: var(--button-color-text);    cursor: pointer;    display: inline-block;    font: var(--button-font);    height: var(--button-height);    line-height: calc(var(--button-height) - (2 * var(--button-border-width, 0px)));    overflow: hidden;    padding: 0 calc(var(--button-padding) - var(--button-border-width, 0px));    text-align: center;    text-decoration: none;    text-overflow: ellipsis;    white-space: nowrap;    outline-offset: 0;    --button-border-color: var(--button-border-color-default);    --button-border-width: var(--button-border-width-default);    --button-color-background: var(--button-color-background-default);    --button-color-text: var(--button-color-text-default);    /* Media query prevents sticky :hover states on mobile */    /* This is :active, AKA Pressed */    /* This is Selected */    --button-height: var(--size-button-sm-h);    --button-padding: var(--spacer-2xs);    --button-font: var(--font-button-sm);    --button-border-width-default: var(--line-button-sm-border);    --button-color-background-default: var(--color-button-secondary-background);    --button-color-background-focus: var(--color-button-secondary-background-focus);    --button-color-background-hover: var(--color-button-secondary-background-hover);    --button-color-background-active: linear-gradient(var(--color-button-secondary-background-hover), var(--color-button-secondary-background-hover));    --button-color-background-disabled: var(--color-button-secondary-background-disabled);    --button-color-background-activated: var(--color-button-secondary-background-activated);    --button-color-text-default: var(--color-button-secondary-text);    --button-color-text-disabled: var(--color-button-secondary-text-disabled);    --button-color-text-activated: var(--color-button-secondary-text-activated);    --button-border-color-default: var(--color-button-secondary-border);  }  :where(button).icon,  :where(input):where([type='submit'], [type='reset'], [type='button']).icon {    width: var(--button-height);  }  :where(button) .button-icon,  :where(input):where([type='submit'], [type='reset'], [type='button']) .button-icon {    margin-right: var(--spacer-xs);  }  :where(button) .dropdown-icon,  :where(input):where([type='submit'], [type='reset'], [type='button']) .dropdown-icon {    transform: rotate(0deg);    transition: transform 0.2s ease-in-out;  }  :where(button):focus,  :where(input):where([type='submit'], [type='reset'], [type='button']):focus {    --button-color-overlay: var(--color-button-overlay-focus);  }  :where(button).hover,  :where(input):where([type='submit'], [type='reset'], [type='button']).hover {    --button-color-overlay: var(--color-button-overlay-focus);    --button-border-color: var(--button-border-color-hover);    --button-color-background: var(--button-color-background-hover);    --button-color-text: var(--button-color-text-hover, var(--button-color-text-default));  }  @media (hover: hover) {    :where(button):hover,    :where(input):where([type='submit'], [type='reset'], [type='button']):hover {      --button-color-overlay: var(--color-button-overlay-focus);      --button-border-color: var(--button-border-color-hover);      --button-color-background: var(--button-color-background-hover);      --button-color-text: var(--button-color-text-hover, var(--button-color-text-default));    }  }  :where(button):active,  :where(input):where([type='submit'], [type='reset'], [type='button']):active,  :where(button).active,  :where(input):where([type='submit'], [type='reset'], [type='button']).active {    --button-color-overlay: var(--color-button-overlay-active);    --button-color-background: linear-gradient(var(--color-interactive-pressed), var(--color-interactive-pressed)),        var(--button-color-background-active);  }  :where(button):disabled,  :where(input):where([type='submit'], [type='reset'], [type='button']):disabled,  :where(button).anchor-disabled,  :where(input):where([type='submit'], [type='reset'], [type='button']).anchor-disabled {    --button-border-color-hover: var(--button-border-color-default);    --button-color-background: var(--button-color-background-disabled);    --button-color-text: var(--button-color-text-disabled);    cursor: not-allowed;    pointer-events: none;  }  :where(button).disabled.pointer-all,  :where(input):where([type='submit'], [type='reset'], [type='button']).disabled.pointer-all {    --button-border-color-hover: var(--button-border-color-default);    --button-color-background: var(--button-color-background-disabled);    --button-color-text: var(--button-color-text-disabled);    cursor: not-allowed;    pointer-events: all;  }  :where(button).button-activated,  :where(input):where([type='submit'], [type='reset'], [type='button']).button-activated {    --button-border-color: var(--button-border-color-activated);    --button-color-background: var(--button-color-background-activated);    --button-color-text: var(--button-color-text-activated);  }  small :where(button),  small :where(input):where([type='submit'], [type='reset'], [type='button']) {    --button-height: var(--size-button-xs-h);    --button-padding: var(--spacer-sm);    --button-font: var(--font-button-xs);    --button-border-width-default: var(--line-button-xs-border);  }  :where(button).button-large,  :where(input):where([type='submit'], [type='reset'], [type='button']).button-large {    --button-height: var(--size-button-lg-h);    --button-padding: var(--spacer-xs);    --button-font: var(--font-button-lg);    --button-border-width-default: var(--line-button-lg-border);  }  :where(button).button-primary,  :where(input):where([type='submit'], [type='reset'], [type='button']).button-primary {    --button-color-background-default: var(--color-primary-background);    --button-color-background-focus: var(--color-primary-background);    --button-color-background-hover: var(--color-button-primary-background-hover);    --button-color-background-active: linear-gradient(var(--color-button-primary-background-hover), var(--color-button-primary-background-hover));    --button-color-background-disabled: var(--color-button-primary-background-disabled);    --button-color-background-activated: var(--color-button-primary-background-activated);    --button-color-text-default: var(--color-global-white);    --button-color-text-disabled: var(--color-button-primary-text-disabled);    --button-color-text-activated: var(--color-button-primary-text-activated);    --button-border-color-default: transparent;  }  :where(button).button-plain,  :where(input):where([type='submit'], [type='reset'], [type='button']).button-plain {    --button-color-background-default: transparent;    --button-color-background-focus: transparent;    --button-color-background-hover: var(--color-button-plain-background-hover);    --button-color-background-disabled: var(--color-button-plain-background-disabled);    --button-color-background-activated: var(--color-button-plain-background-activated);    --button-color-background-active: linear-gradient(var(--color-button-secondary-background-hover), var(--color-button-secondary-background-hover));    --button-color-text-default: var(--color-button-plain-text);    --button-color-text-disabled: var(--color-button-plain-text-disabled);    --button-color-text-activated: var(--color-button-plain-text-activated);    --button-color-text-hover: var(--color-button-plain-text-hover);    --button-border-color-default: transparent;  }  :where(button).button-icon-only,  :where(input):where([type='submit'], [type='reset'], [type='button']).button-icon-only {    --button-padding: 0;    width: var(--button-height);  }  :root {    --button-color-background-default: var(--color-button-secondary-background);    --button-color-background-focus: var(--color-button-secondary-background-focus);    --button-color-background-hover: var(--color-button-secondary-background-hover);    --button-color-background-active: linear-gradient(var(--color-button-secondary-background-hover), var(--color-button-secondary-background-hover));    --button-color-background-disabled: var(--color-button-secondary-background-disabled);    --button-color-background-activated: var(--color-button-secondary-background-activated);    --button-color-text-default: var(--color-button-secondary-text);    --button-color-text-disabled: var(--color-button-secondary-text-disabled);    --button-color-text-activated: var(--color-button-secondary-text-activated);    --button-border-color-default: var(--color-button-secondary-border);  }  :where(button, input):where([type='submit']) {    --button-color-background-default: var(--color-primary-background);    --button-color-background-focus: var(--color-primary-background);    --button-color-background-hover: var(--color-button-primary-background-hover);    --button-color-background-active: linear-gradient(var(--color-button-primary-background-hover), var(--color-button-primary-background-hover));    --button-color-background-disabled: var(--color-button-primary-background-disabled);    --button-color-background-activated: var(--color-button-primary-background-activated);    --button-color-text-default: var(--color-global-white);    --button-color-text-disabled: var(--color-button-primary-text-disabled);    --button-color-text-activated: var(--color-button-primary-text-activated);    --button-border-color-default: transparent;  }  faceplate-tablist button {    border-radius: 0;  }  faceplate-tablist button:first-child {    border-radius: 999px 0 0 999px;  }  faceplate-tablist button:last-child {    border-radius: 0 999px 999px 0;  }  faceplate-tablist a {    border-bottom: 2px solid var(--button-color-primary);    color: inherit;    display: inline-block;    font: var(--font-button-b3);    padding: 0.5rem 1rem 0.375rem;  }  faceplate-tablist a:hover {    text-decoration: none;  }  code,  pre,  kbd,  samp {    font-size: var(--font-code);    font-family: var(--font-mono);    background: var(--color-tone-6);    border: 1px solid var(--color-tone-5);    border-radius: 4px;    padding: 2px 4px;    font-size: 0.9em;  }  pre {    background: var(--color-tone-5);    border-color: var(--color-tone-4);    padding: 1rem 1.4rem;    max-width: 100%;    overflow: auto;  }  kbd {    border-bottom-width: 3px;  }  pre code {    /* When <code> is in a <pre>, reset it's formatting to blend in */    background: inherit;    font-size: inherit;    color: inherit;    border: 0;    padding: 0;    margin: 0;  }  code pre {    /* When <pre> is in a <code>, reset it's formatting to blend in */    display: inline;    background: inherit;    font-size: inherit;    color: inherit;    border: 0;    padding: 0;    margin: 0;  }  details {    /* Make the <details> look more \"clickable\" */    padding: 0.5rem 1rem;    background: var(--color-tone-6);    border: var(--misc-accordion-border);    border-radius: var(--radius-accordion-size);  }  details summary {    /* Makes the <summary> look more like a \"clickable\" link with the pointer cursor */    cursor: pointer;    font-weight: bold;    list-style-type: var(--misc-accordion-closed-list-style-type);  }  details[open] summary {    /* Adjust the <details> padding while open */    margin-bottom: 0.375rem;    list-style-type: var(--misc-accordion-open-list-style-type);  }  details[open] summary icon-caret-down,  details[open] summary svg[rpl][icon-name='caret-down-outline'] {    transform: rotate(180deg);    transition: transform 0.22s ease-in-out;  }  details summary icon-caret-down,  details summary svg[rpl][icon-name='caret-down-outline'] {    transform: rotate(0);    transition: transform 0.22s ease-in-out;  }  details[open] > *:last-child {    /* Resets the bottom margin of the last element in the <details> while <details> is opened. This prevents double margins/paddings. */    margin-bottom: 0;  }  dt {    font-weight: bold;    margin-bottom: 0.5rem;  }  dd {    margin-inline-start: 2rem;  }  hr {    border: 0;    border-bottom: 1px solid var(--color-divider-default);    background-color: transparent;    margin: var(--misc-divider-margin);  }  hr[padding='2xs'] {    padding: var(--spacer-2xs);  }  hr[padding='xs'] {    padding: var(--spacer-xs);  }  hr[padding='sm'] {    padding: var(--spacer-sm);  }  hr[padding='md'] {    padding: var(--spacer-md);  }  hr[color='subdued'] {    border-bottom-color: var(--color-neutral-border-weak);  }  hr[color='inverted'] {    border-bottom-color: var(--color-neutral-border-strong);  }  fieldset {    margin-top: 1rem;    padding: 1rem 2rem;    border: 1px solid var(--color-tone-5);    border-radius: 0.25rem;    background: var(--color-tone-7);    min-width: 0;  }  legend {    padding: 0;    font-weight: bold;  }  table {    /* border-collapse sets the table's elements to share borders, rather than floating as separate \"boxes\". */    border-collapse: collapse;    width: 100%;    word-break: normal;    margin-bottom: 1rem;  }  td,  th {    text-align: left;    padding: 0.5rem;  }  th {    background: var(--color-tone-6);  }  tr:nth-child(even) {    /* Set every other cell slightly darker. Improves readability. */    background: var(--color-tone-6);  }  table caption {    font-weight: bold;    margin-bottom: 0.5rem;  }  textarea {    /* Don't let the <textarea> extend off the screen naturally or when dragged by the user */    max-width: 100%;  }  ol,  ul {    /* Replace the browser default padding */    padding-left: 2rem;  }  li {    margin-top: 0.25rem;  }  menu {    list-style-type: none;    padding-left: 0;    border-radius: 4px;    width: -moz-fit-content;    width: fit-content;    border: 1px solid var(--color-tone-5);  }  menu li {    padding: 0.5rem 0.75rem;    border-block-end: 1px solid var(--color-tone-5);  }  menu li:last-child {    border-block-end: none;  }  menu menu,  ul ul,  ol ul,  ul ol,  ol ol {    margin-bottom: 0;  }  ins {    text-decoration-color: var(--color-success-content);    text-decoration-line: overline underline;    text-underline-position: under;  }  del {    text-decoration-color: var(--color-danger-content);    text-decoration-line: overline underline line-through;    text-underline-position: under;  }  textarea,  select,  input {    font-family: var(--font-sans);    color: var(--color-input-text);    padding: 0.5rem 0.75rem;    margin-bottom: 0.5rem;    background: var(--color-input-default);    border: var(--color-input-default) solid var(--line-input-border);    border-radius: var(--radius-sm);    box-shadow: none;    box-sizing: border-box;    /* iOS form zoom fix */    font-size: 1rem;  }  textarea:disabled,  select:disabled,  input:disabled {    cursor: not-allowed;    opacity: 0.5;  }  textarea:invalid,  select:invalid,  input:invalid {    border-color: var(--color-danger-content);  }  img {    max-width: 100%;  }  input[type='radio'],  input[type='checkbox'] {    vertical-align: middle;    margin-bottom: 0;    margin-top: 0;  }  input[type='color'],  input[type='range'] {    padding: initial;  }  input[type='search'] {    border-radius: 400px;    /* fix appearance in safari */    -webkit-appearance: textfield;  }  input {    max-width: 100%;  }  dialog {    border: 0;    border-radius: 4px;    padding: 1rem;    box-shadow: var(--boxshadow-modal);    background: var(--color-ui-modalbackground);  }  dialog::backdrop {    background: var(--color-scrim);  }  .fp-avatar-container img {    margin-bottom: 0;  }  /** Custom grid behavior for zstacks */  .dx-zstack > * {    grid-column-start: 1;    grid-row-start: 1;  }  /** Text outline classes */  .text-outline-thin-bright {    text-shadow: #000 1px 0 0.5px, #000 -1px 0 0.5px, #000 0 1px 0.5px, #000 0 -1px 0.5px;  }  .text-outline-thick-bright {    text-shadow: #000 1px 0 2px, #000 -1px 0 2px, #000 0 1px 1px, #000 0 -1px 1px, #000 1px 0 2px,      #000 -1px 0 2px, #000 0 1px 1px, #000 0 -1px 1px;  }  .text-outline-thin-dark {    text-shadow: #fff 1px 0 0.5px, #fff -1px 0 0.5px, #fff 0 1px 0.5px, #fff 0 -1px 0.5px;  }  .text-outline-thick-dark {    text-shadow: #fff 1px 0 2px, #fff -1px 0 2px, #fff 0 1px 1px, #fff 0 -1px 1px, #fff 1px 0 2px,      #fff -1px 0 2px, #fff 0 1px 1px, #fff 0 -1px 1px;  }  /** Custom border sizes */  .border-dx-thick {    border-width: 2px;  }  .border-dx-thin {    border-width: 1px;  }  /** Custom border radius sizes */  .rounded-dx-lg {    border-radius: 1.5rem;  }  .rounded-dx-md {    border-radius: 1rem;  }  .rounded-dx-sm {    border-radius: 0.5rem;  }  /** Variables for app-defined colors */  :root {    --dx-text-color-light: inherit;    --dx-text-color-dark: inherit;    --dx-bg-color-light: initial;    --dx-bg-color-dark: initial;    --dx-border-color-light: initial;    --dx-border-color-dark: initial;  }  /** App-defined background color */  .dx-bg-color,  .light .dx-bg-color {    background-color: var(--dx-bg-color-light);  }  /** App-defined border color */  .dx-border-color,  .light .dx-border-color {    border-color: var(--dx-border-color-light);  }  /** App-defined text color */  .dx-text-color,  .light .dx-text-color {    color: var(--dx-text-color-light);  }  /** Theme override dark mode */  .dark .dx-bg-color {    background-color: var(--dx-bg-color-dark);  }  .dark .dx-border-color {    border-color: var(--dx-border-color-dark);  }  .dark .dx-text-color {    color: var(--dx-text-color-dark);  }  /** System specified dark mode */  @media (prefers-color-scheme: dark) {    .dx-bg-color {      background-color: var(--dx-bg-color-dark);    }      .dx-text-color {      color: var(--dx-text-color-dark);    }      .dx-border-color {      border-color: var(--dx-border-color-dark);    }  }  .container {    width: 100%;  }  @media (min-width: 1024px) {    .container {      max-width: 1024px;    }  }  /* Anchor component */  .a {      color: var(--color-a-default);      font-size: 1em;      text-decoration: none;    }  .a:hover {      color: var(--color-a-hover);    }  .a:visited:not(.no-visited),    .a.visited:not(.no-visited) {      color: var(--color-a-visited);    }  /* Button component */  .\\!button {      background: var(--button-color-background) !important;      border-radius: 999px !important;      border: none !important;      border: var(--button-border-width, 0) solid var(--button-border-color, transparent) !important;      box-shadow: var(--button-shadow) !important;      box-sizing: border-box !important;      color: var(--button-color-text) !important;      cursor: pointer !important;      display: inline-block !important;      font: var(--button-font) !important;      height: var(--button-height) !important;      line-height: calc(var(--button-height) - (2 * var(--button-border-width, 0px))) !important;      overflow: hidden !important;      padding: 0 calc(var(--button-padding) - var(--button-border-width, 0px)) !important;      text-align: center !important;      text-decoration: none !important;      text-overflow: ellipsis !important;      white-space: nowrap !important;      outline-offset: 0 !important;      --button-border-color: var(--button-border-color-default) !important;      --button-border-width: var(--button-border-width-default) !important;      --button-color-background: var(--button-color-background-default) !important;      --button-color-text: var(--button-color-text-default) !important;      /* Media query prevents sticky :hover states on mobile */      /* This is :active, AKA Pressed */      /* This is Selected */    }  .button {      background: var(--button-color-background);      border-radius: 999px;      border: none;      border: var(--button-border-width, 0) solid var(--button-border-color, transparent);      box-shadow: var(--button-shadow);      box-sizing: border-box;      color: var(--button-color-text);      cursor: pointer;      display: inline-block;      font: var(--button-font);      height: var(--button-height);      line-height: calc(var(--button-height) - (2 * var(--button-border-width, 0px)));      overflow: hidden;      padding: 0 calc(var(--button-padding) - var(--button-border-width, 0px));      text-align: center;      text-decoration: none;      text-overflow: ellipsis;      white-space: nowrap;      outline-offset: 0;      --button-border-color: var(--button-border-color-default);      --button-border-width: var(--button-border-width-default);      --button-color-background: var(--button-color-background-default);      --button-color-text: var(--button-color-text-default);      /* Media query prevents sticky :hover states on mobile */      /* This is :active, AKA Pressed */      /* This is Selected */    }  .\\!button.icon {      width: var(--button-height) !important;    }  .button.icon {      width: var(--button-height);    }  .\\!button .button-icon {      margin-right: var(--spacer-xs) !important;    }  .button .button-icon {      margin-right: var(--spacer-xs);    }  .\\!button .dropdown-icon {      transform: rotate(0deg) !important;      transition: transform 0.2s ease-in-out !important;    }  .button .dropdown-icon {      transform: rotate(0deg);      transition: transform 0.2s ease-in-out;    }  .\\!button:focus {      --button-color-overlay: var(--color-button-overlay-focus) !important;    }  .button:focus {      --button-color-overlay: var(--color-button-overlay-focus);    }  .\\!button.hover {      --button-color-overlay: var(--color-button-overlay-focus) !important;      --button-border-color: var(--button-border-color-hover) !important;      --button-color-background: var(--button-color-background-hover) !important;      --button-color-text: var(--button-color-text-hover, var(--button-color-text-default)) !important;    }  .button.hover {      --button-color-overlay: var(--color-button-overlay-focus);      --button-border-color: var(--button-border-color-hover);      --button-color-background: var(--button-color-background-hover);      --button-color-text: var(--button-color-text-hover, var(--button-color-text-default));    }  @media (hover: hover) {      .\\!button:hover {        --button-color-overlay: var(--color-button-overlay-focus) !important;        --button-border-color: var(--button-border-color-hover) !important;        --button-color-background: var(--button-color-background-hover) !important;        --button-color-text: var(--button-color-text-hover, var(--button-color-text-default)) !important;      }      .button:hover {        --button-color-overlay: var(--color-button-overlay-focus);        --button-border-color: var(--button-border-color-hover);        --button-color-background: var(--button-color-background-hover);        --button-color-text: var(--button-color-text-hover, var(--button-color-text-default));      }    }  .\\!button:active,    .\\!button.active {      --button-color-overlay: var(--color-button-overlay-active) !important;      --button-color-background: linear-gradient(var(--color-interactive-pressed), var(--color-interactive-pressed)),        var(--button-color-background-active) !important;    }  .button:active,    .button.active {      --button-color-overlay: var(--color-button-overlay-active);      --button-color-background: linear-gradient(var(--color-interactive-pressed), var(--color-interactive-pressed)),        var(--button-color-background-active);    }  .\\!button:active,    .\\!button.active {      --button-color-overlay: var(--color-button-overlay-active) !important;      --button-color-background: linear-gradient(var(--color-interactive-pressed), var(--color-interactive-pressed)),        var(--button-color-background-active) !important;    }      .button.\\!active {      --button-color-overlay: var(--color-button-overlay-active) !important;      --button-color-background: linear-gradient(var(--color-interactive-pressed), var(--color-interactive-pressed)),        var(--button-color-background-active) !important;    }  .\\!button:disabled,    .\\!button.anchor-disabled {      --button-border-color-hover: var(--button-border-color-default) !important;      --button-color-background: var(--button-color-background-disabled) !important;      --button-color-text: var(--button-color-text-disabled) !important;      cursor: not-allowed !important;      pointer-events: none !important;    }  .button:disabled,    .button.anchor-disabled {      --button-border-color-hover: var(--button-border-color-default);      --button-color-background: var(--button-color-background-disabled);      --button-color-text: var(--button-color-text-disabled);      cursor: not-allowed;      pointer-events: none;    }  .\\!button:disabled,    .\\!button.anchor-disabled {      --button-border-color-hover: var(--button-border-color-default) !important;      --button-color-background: var(--button-color-background-disabled) !important;      --button-color-text: var(--button-color-text-disabled) !important;      cursor: not-allowed !important;      pointer-events: none !important;    }  .\\!button.disabled.pointer-all {      --button-border-color-hover: var(--button-border-color-default) !important;      --button-color-background: var(--button-color-background-disabled) !important;      --button-color-text: var(--button-color-text-disabled) !important;      cursor: not-allowed !important;      pointer-events: all !important;    }  .button.disabled.pointer-all {      --button-border-color-hover: var(--button-border-color-default);      --button-color-background: var(--button-color-background-disabled);      --button-color-text: var(--button-color-text-disabled);      cursor: not-allowed;      pointer-events: all;    }  .button.\\!disabled.pointer-all {      --button-border-color-hover: var(--button-border-color-default) !important;      --button-color-background: var(--button-color-background-disabled) !important;      --button-color-text: var(--button-color-text-disabled) !important;      cursor: not-allowed !important;      pointer-events: all !important;    }  .\\!button.button-activated {      --button-border-color: var(--button-border-color-activated) !important;      --button-color-background: var(--button-color-background-activated) !important;      --button-color-text: var(--button-color-text-activated) !important;    }  .button.button-activated {      --button-border-color: var(--button-border-color-activated);      --button-color-background: var(--button-color-background-activated);      --button-color-text: var(--button-color-text-activated);    }  .button-shell {      background: var(--button-color-background);      border-radius: 999px;      border: none;      border: var(--button-border-width, 0) solid var(--button-border-color, transparent);      box-shadow: var(--button-shadow);      box-sizing: border-box;      color: var(--button-color-text);      cursor: pointer;      display: inline-block;      font: var(--button-font);      height: var(--button-height);      line-height: calc(var(--button-height) - (2 * var(--button-border-width, 0px)));      overflow: hidden;      padding: 0 calc(var(--button-padding) - var(--button-border-width, 0px));      text-align: center;      text-decoration: none;      text-overflow: ellipsis;      white-space: nowrap;      outline-offset: 0;      --button-border-color: var(--button-border-color-default);      --button-border-width: var(--button-border-width-default);      --button-color-background: var(--button-color-background-default);      --button-color-text: var(--button-color-text-default);    }  .button-shell.icon {      width: var(--button-height);    }  .button-large {      --button-height: var(--size-button-lg-h);      --button-padding: var(--spacer-xs);      --button-font: var(--font-button-lg);      --button-border-width-default: var(--line-button-lg-border);    }  .button-medium {      --button-height: var(--size-button-md-h);      --button-padding: var(--spacer-xs);      --button-font: var(--font-button-md);      --button-border-width-default: var(--line-button-md-border);    }  .button-small {      --button-height: var(--size-button-sm-h);      --button-padding: var(--spacer-2xs);      --button-font: var(--font-button-sm);      --button-border-width-default: var(--line-button-sm-border);    }  .button-x-small {      --button-height: var(--size-button-xs-h);      --button-padding: var(--spacer-sm);      --button-font: var(--font-button-xs);      --button-border-width-default: var(--line-button-xs-border);    }  .button-primary {      --button-color-background-default: var(--color-primary-background);      --button-color-background-focus: var(--color-primary-background);      --button-color-background-hover: var(--color-button-primary-background-hover);      --button-color-background-active: linear-gradient(var(--color-button-primary-background-hover), var(--color-button-primary-background-hover));      --button-color-background-disabled: var(--color-button-primary-background-disabled);      --button-color-background-activated: var(--color-button-primary-background-activated);      --button-color-text-default: var(--color-global-white);      --button-color-text-disabled: var(--color-button-primary-text-disabled);      --button-color-text-activated: var(--color-button-primary-text-activated);      --button-border-color-default: transparent;    }  .button-secondary {      --button-color-background-default: var(--color-button-secondary-background);      --button-color-background-focus: var(--color-button-secondary-background-focus);      --button-color-background-hover: var(--color-button-secondary-background-hover);      --button-color-background-active: linear-gradient(var(--color-button-secondary-background-hover), var(--color-button-secondary-background-hover));      --button-color-background-disabled: var(--color-button-secondary-background-disabled);      --button-color-background-activated: var(--color-button-secondary-background-activated);      --button-color-text-default: var(--color-button-secondary-text);      --button-color-text-disabled: var(--color-button-secondary-text-disabled);      --button-color-text-activated: var(--color-button-secondary-text-activated);      --button-border-color-default: var(--color-button-secondary-border);    }  .button-tertiary {      --button-color-background-default: var(--color-button-tertiary-background);      --button-color-background-focus: var(--color-button-tertiary-background-focus);      --button-color-background-hover: var(--color-button-tertiary-background-hover);      --button-color-background-disabled: var(--color-button-tertiary-background-disabled);      --button-color-background-activated: var(--color-button-tertiary-background-activated);      --button-color-text-default: var(--color-button-tertiary-text);      --button-color-text-disabled: var(--color-button-tertiary-text-disabled);      --button-color-text-activated: var(--color-button-tertiary-text-activated);      --button-border-color-default: transparent;    }  .button-plain {      --button-color-background-default: transparent;      --button-color-background-focus: transparent;      --button-color-background-hover: var(--color-button-plain-background-hover);      --button-color-background-disabled: var(--color-button-plain-background-disabled);      --button-color-background-activated: var(--color-button-plain-background-activated);      --button-color-background-active: linear-gradient(var(--color-button-secondary-background-hover), var(--color-button-secondary-background-hover));      --button-color-text-default: var(--color-button-plain-text);      --button-color-text-disabled: var(--color-button-plain-text-disabled);      --button-color-text-activated: var(--color-button-plain-text-activated);      --button-color-text-hover: var(--color-button-plain-text-hover);      --button-border-color-default: transparent;    }  .button-plain-weak {      --button-color-background-default: transparent;      --button-color-background-focus: transparent;      --button-color-background-hover: var(--color-button-plain-background-hover);      --button-color-background-disabled: var(--color-button-plain-background-disabled);      --button-color-background-activated: var(--color-button-plain-background-activated);      --button-color-background-active: linear-gradient(var(--color-button-secondary-background-hover), var(--color-button-secondary-background-hover));      --button-color-text-default: var(--color-button-plain-text);      --button-color-text-disabled: var(--color-button-plain-text-disabled);      --button-color-text-activated: var(--color-button-plain-text-activated);      --button-color-text-hover: var(--color-button-plain-text-hover);      --button-border-color-default: transparent;      --button-color-text-default: var(--color-button-plain-text-weak);    }  .button-bordered {      --button-color-background-default: transparent;      --button-color-background-focus: transparent;      --button-color-background-hover: transparent;      --button-color-background-active: linear-gradient(transparent, transparent);      --button-color-background-disabled: transparent;      --button-color-background-activated: var(--color-button-secondary-background-activated);      --button-color-text-default: var(--color-secondary-plain);      --button-color-text-disabled: var(--color-interactive-content-disabled);      --button-color-text-activated: var(--color-neutral-content-strong);      --button-color-text-hover: var(--color-secondary-plain-hover);      --button-border-color-default: var(--color-neutral-border-medium);      --button-border-color-hover: var(--color-neutral-border-strong);      --button-border-color-active: var(--color-neutral-border-strong);      --button-border-color-activated: var(--color-neutral-border-strong);      --button-border-color-disabled: var(--color-neutral-content-disabled);      --button-border-width-default: var(--line-sm);      --button-border-width-activated: var(--line-sm);    }  .button-bordered-cab {      --button-color-background-default: transparent;      --button-color-background-focus: transparent;      --button-color-background-hover: transparent;      --button-color-background-active: linear-gradient(transparent, transparent);      --button-color-background-disabled: transparent;      --button-color-background-activated: var(--color-button-secondary-background-activated);      --button-color-text-default: var(--color-secondary-plain);      --button-color-text-disabled: var(--color-interactive-content-disabled);      --button-color-text-activated: var(--color-neutral-content-strong);      --button-color-text-hover: var(--color-secondary-plain-hover);      --button-border-color-default: var(--color-neutral-border-medium);      --button-border-color-hover: var(--color-neutral-border-strong);      --button-border-color-active: var(--color-neutral-border-strong);      --button-border-color-activated: var(--color-neutral-border-strong);      --button-border-color-disabled: var(--color-neutral-content-disabled);      --button-border-width-default: var(--line-sm);      --button-border-width-activated: var(--line-sm);      --button-color-background-hover: var(--color-button-secondary-background-hover);      --button-border-color-default: var(--color-neutral-border-weak);      --button-border-color-hover: var(--color-neutral-border-weak);      --button-border-color-active: var(--color-neutral-border-weak);      --button-border-color-activated: var(--color-neutral-border-weak);    }  .button-destructive {      --button-color-background-default: var(--color-danger-background);      --button-color-background-focus: var(--color-danger-background-hover);      --button-color-background-hover: var(--color-danger-background-hover);      --button-color-background-active: linear-gradient(var(--color-danger-background-hover), var(--color-danger-background-hover));      --button-color-background-disabled: var(--color-button-secondary-background-disabled);      --button-color-text-default: var(--color-danger-content-default);      --button-color-text-disabled: var(--color-button-secondary-text-disabled);      --button-border-color-default: transparent;      --button-border-color-hover: transparent;      --button-border-color-active: transparent;    }  .button-media {      --button-color-background-default: var(--color-media-background);      --button-color-background-focus: var(--color-media-background-hover);      --button-color-background-hover: var(--color-media-background-hover);      --button-color-background-active: linear-gradient(var(--color-media-background-hover), var(--color-media-background-hover));      --button-border-color-activated: var(--color-neutral-content-strong);      --button-color-text-default: white;      --button-color-text-disabled: var(--color-media-onbackground-disabled);      --button-color-background-disabled: var(--color-media-background);    }  .button-media-cab {      --button-color-background-default: transparent;      --button-color-background-hover: var(--color-media-background-hover);      --button-color-background-disabled: transparent;      --button-color-background-active: linear-gradient(var(--color-media-background-hover), var(--color-media-background-hover));      --button-color-background-activated: var(--color-media-background-selected);      --button-color-text-default: var(--color-media-onBackground);      --button-color-text-activated: var(--color-media-onBackground);      --button-color-text-hover: var(--color-media-onBackground);      --button-color-text-disabled: var(--color-media-onbackground-disabled);      --button-border-color-default: var(--color-media-border-weak);      --button-border-color-hover: var(--color-media-border-weak);      --button-border-color-disabled: var(--color-media-border-weak);      --button-border-width-default: var(--line-sm);    }  .button-brand {      --button-color-background-default: var(--color-brand-background);      --button-color-background-hover: var(--color-brand-background-hover);      --button-color-background-active: linear-gradient(var(--color-brand-background-hover), var(--color-brand-background-hover));      --button-color-background-disabled: var(--color-interactive-background-disabled);      --button-color-text-default: var(--color-danger-content-default);      --button-color-text-disabled: var(--color-interactive-content-disabled);      --button-border-color-default: transparent;    }  .button-success {      --button-color-background-default: var(--color-success-background);      --button-color-background-focus: var(--color-success-background-hover);      --button-color-background-hover: var(--color-success-background-hover);      --button-color-background-active: linear-gradient(var(--color-success-background-hover), var(--color-success-background-hover));      --button-color-background-disabled: var(--color-button-primary-background-disabled);      --button-color-text-default: var(--color-success-onBackground);      --button-color-text-disabled: var(--color-button-primary-text-disabled);      --button-border-color-default: transparent;    }  .button-plain-inverted {      --button-color-background-default: transparent;      --button-color-background-focus: var(--color-neutral-content);      --button-color-background-hover: var(--color-neutral-content);      --button-color-background-active: var(--color-interactive-pressed);      --button-color-background-disabled: transparent;      --button-color-text-default: var(--color-neutral-background-weak);      --button-color-text-disabled: var(--color-neutral-content);      --button-border-color-default: transparent;      --button-color-background-activated: var(--color-button-plain-inverted-background-activated);      --button-color-text-activated: var(--color-button-plain-inverted-text-activated);    }  /* Featured avatar */  .full-snoo-xs {      --full-snoo-size: var(--rem48);      --full-snoo-top-spacer: 0.125rem;      --full-snoo-bottom-spacer: calc(-1 * 0.1875rem);    }  .full-snoo-xs:not(.no-safe-area) {      height: var(--full-snoo-size);      width: var(--full-snoo-size);      margin-top: var(--full-snoo-top-spacer);    }  .full-snoo-xs:not(.no-safe-area) > img {      bottom: var(--full-snoo-bottom-spacer);    }  .full-snoo-xs > img {      width: var(--rem36);    }  .full-snoo-sm {      --full-snoo-size: var(--rem64);      --full-snoo-top-spacer: 0.125rem;      --full-snoo-bottom-spacer: calc(-1 * var(--rem4));    }  .full-snoo-sm:not(.no-safe-area) {      height: var(--full-snoo-size);      width: var(--full-snoo-size);      margin-top: var(--full-snoo-top-spacer);    }  .full-snoo-sm:not(.no-safe-area) > img {      bottom: var(--full-snoo-bottom-spacer);    }  .full-snoo-sm > img {      width: var(--rem48);    }  .full-snoo-md {      --full-snoo-size: var(--rem88);      --full-snoo-top-spacer: var(--spacer-2xs);      --full-snoo-bottom-spacer: calc(-1 * var(--rem6));    }  .full-snoo-md:not(.no-safe-area) {      height: var(--full-snoo-size);      width: var(--full-snoo-size);      margin-top: var(--full-snoo-top-spacer);    }  .full-snoo-md:not(.no-safe-area) > img {      bottom: var(--full-snoo-bottom-spacer);    }  .full-snoo-md > img {      width: var(--rem64);    }  .full-snoo-lg {      --full-snoo-size: var(--rem144);      --full-snoo-top-spacer: 0.375rem;      --full-snoo-bottom-spacer: calc(-1 * var(--rem10));    }  .full-snoo-lg:not(.no-safe-area) {      height: var(--full-snoo-size);      width: var(--full-snoo-size);      margin-top: var(--full-snoo-top-spacer);    }  .full-snoo-lg:not(.no-safe-area) > img {      bottom: var(--full-snoo-bottom-spacer);    }  .full-snoo-lg > img {      width: 6.625rem;    }  .full-snoo-xl {      --full-snoo-size: var(--rem192);      --full-snoo-top-spacer: var(--spacer-xs);      --full-snoo-bottom-spacer: calc(-1 * var(--rem14));    }  .full-snoo-xl:not(.no-safe-area) {      height: var(--full-snoo-size);      width: var(--full-snoo-size);      margin-top: var(--full-snoo-top-spacer);    }  .full-snoo-xl:not(.no-safe-area) > img {      bottom: var(--full-snoo-bottom-spacer);    }  .full-snoo-xl > img {      width: 8.8125rem;    }  .full-snoo-2xl {      --full-snoo-size: var(--rem320);      --full-snoo-top-spacer: var(--spacer-sm);      --full-snoo-bottom-spacer: calc(-1 * var(--rem22));    }  .full-snoo-2xl:not(.no-safe-area) {      height: var(--full-snoo-size);      width: var(--full-snoo-size);      margin-top: var(--full-snoo-top-spacer);    }  .full-snoo-2xl:not(.no-safe-area) > img {      bottom: var(--full-snoo-bottom-spacer);    }  .full-snoo-2xl > img {      width: 14.75rem;    }  .sr-only {    position: absolute;    width: 1px;    height: 1px;    padding: 0;    margin: -1px;    overflow: hidden;    clip: rect(0, 0, 0, 0);    white-space: nowrap;    border-width: 0;  }  .pointer-events-none {    pointer-events: none;  }  .pointer-events-auto {    pointer-events: auto;  }  .\\!visible {    visibility: visible !important;  }  .visible {    visibility: visible;  }  .invisible {    visibility: hidden;  }  .collapse {    visibility: collapse;  }  .static {    position: static;  }  .fixed {    position: fixed;  }  .absolute {    position: absolute;  }  .relative {    position: relative;  }  .inset-0 {    inset: 0px;  }  .-right-\\[\\.65rem\\] {    right: -.65rem;  }  .-right-\\[\\.75rem\\] {    right: -.75rem;  }  .-right-\\[0\\.0625rem\\] {    right: -0.0625rem;  }  .-right-\\[0\\.0825rem\\] {    right: -0.0825rem;  }  .-right-\\[0\\.125rem\\] {    right: -0.125rem;  }  .bottom-0 {    bottom: 0px;  }  .left-0 {    left: 0px;  }  .left-xs {    left: 0.5rem;  }  .right-0 {    right: 0px;  }  .right-\\[0\\.05rem\\] {    right: 0.05rem;  }  .right-\\[0\\.10rem\\] {    right: 0.10rem;  }  .right-xs {    right: 0.5rem;  }  .top-0 {    top: 0px;  }  .top-1\\/2 {    top: 50%;  }  .top-xs {    top: 0.5rem;  }  .isolate {    isolation: isolate;  }  .-z-10 {    z-index: -10;  }  .col-start-1 {    grid-column-start: 1;  }  .row-start-1 {    grid-row-start: 1;  }  .m-0 {    margin: 0px;  }  .-mx-xs {    margin-left: -0.5rem;    margin-right: -0.5rem;  }  .mx-auto {    margin-left: auto;    margin-right: auto;  }  .mx-xs {    margin-left: 0.5rem;    margin-right: 0.5rem;  }  .-ml-\\[var\\(--rem10\\)\\] {    margin-left: calc(var(--rem10) * -1);  }  .-ml-\\[var\\(--rem12\\)\\] {    margin-left: calc(var(--rem12) * -1);  }  .-ml-\\[var\\(--rem14\\)\\] {    margin-left: calc(var(--rem14) * -1);  }  .-ml-\\[var\\(--rem16\\)\\] {    margin-left: calc(var(--rem16) * -1);  }  .-ml-\\[var\\(--rem18\\)\\] {    margin-left: calc(var(--rem18) * -1);  }  .-ml-\\[var\\(--rem20\\)\\] {    margin-left: calc(var(--rem20) * -1);  }  .-ml-\\[var\\(--rem4\\)\\] {    margin-left: calc(var(--rem4) * -1);  }  .-ml-\\[var\\(--rem6\\)\\] {    margin-left: calc(var(--rem6) * -1);  }  .-ml-\\[var\\(--rem8\\)\\] {    margin-left: calc(var(--rem8) * -1);  }  .-mt-2xs {    margin-top: -0.25rem;  }  .-mt-\\[2px\\] {    margin-top: -2px;  }  .mb-0 {    margin-bottom: 0px;  }  .ml-0 {    margin-left: 0px;  }  .ml-2xs {    margin-left: 0.25rem;  }  .ml-\\[-\\.25rem\\] {    margin-left: -.25rem;  }  .ml-\\[-2px\\] {    margin-left: -2px;  }  .ml-\\[3px\\] {    margin-left: 3px;  }  .ml-md {    margin-left: 1rem;  }  .ml-sm {    margin-left: 0.75rem;  }  .ml-xs {    margin-left: 0.5rem;  }  .mr-2xs {    margin-right: 0.25rem;  }  .mr-\\[6px\\] {    margin-right: 6px;  }  .mr-\\[calc\\(var\\(--size-button-sm-h\\)-var\\(--rem10\\)-var\\(--button-border-width-default\\)\\)\\] {    margin-right: calc(var(--size-button-sm-h) - var(--rem10) - var(--button-border-width-default));  }  .mr-\\[var\\(--rem6\\)\\] {    margin-right: var(--rem6);  }  .mr-md {    margin-right: 1rem;  }  .mr-sm {    margin-right: 0.75rem;  }  .mr-xs {    margin-right: 0.5rem;  }  .mt-0 {    margin-top: 0px;  }  .mt-\\[-0\\.125rem\\] {    margin-top: -0.125rem;  }  .mt-\\[-0\\.25rem\\] {    margin-top: -0.25rem;  }  .mt-xs {    margin-top: 0.5rem;  }  .box-border {    box-sizing: border-box;  }  .box-content {    box-sizing: content-box;  }  .line-clamp-1 {    overflow: hidden;    display: -webkit-box;    -webkit-box-orient: vertical;    -webkit-line-clamp: 1;  }  .\\!block {    display: block !important;  }  .block {    display: block;  }  .inline-block {    display: inline-block;  }  .inline {    display: inline;  }  .flex {    display: flex;  }  .inline-flex {    display: inline-flex;  }  .table {    display: table;  }  .grid {    display: grid;  }  .contents {    display: contents;  }  .list-item {    display: list-item;  }  .hidden {    display: none;  }  .aspect-square {    aspect-ratio: 1 / 1;  }  .h-100 {    height: 100%;  }  .h-2xl {    height: 3rem;  }  .h-2xs {    height: 0.25rem;  }  .h-\\[\\.25rem\\] {    height: .25rem;  }  .h-\\[\\.375rem\\] {    height: .375rem;  }  .h-\\[\\.625rem\\] {    height: .625rem;  }  .h-\\[1\\.25rem\\] {    height: 1.25rem;  }  .h-\\[1\\.5rem\\] {    height: 1.5rem;  }  .h-\\[1rem\\] {    height: 1rem;  }  .h-\\[2\\.5rem\\] {    height: 2.5rem;  }  .h-\\[2\\.875rem\\] {    height: 2.875rem;  }  .h-\\[20px\\] {    height: 20px;  }  .h-\\[2px\\] {    height: 2px;  }  .h-\\[2rem\\] {    height: 2rem;  }  .h-\\[3\\.25rem\\] {    height: 3.25rem;  }  .h-\\[3\\.5rem\\] {    height: 3.5rem;  }  .h-\\[3rem\\] {    height: 3rem;  }  .h-\\[4\\.5rem\\] {    height: 4.5rem;  }  .h-\\[4rem\\] {    height: 4rem;  }  .h-\\[5\\.5rem\\] {    height: 5.5rem;  }  .h-auto {    height: auto;  }  .h-full {    height: 100%;  }  .h-lg {    height: 1.5rem;  }  .h-md {    height: 1rem;  }  .h-px {    height: 1px;  }  .h-sm {    height: 0.75rem;  }  .h-xl {    height: 2rem;  }  .h-xs {    height: 0.5rem;  }  .max-h-\\[596px\\] {    max-height: 596px;  }  .max-h-\\[max\\(23vw\\2c 250px\\)\\] {    max-height: max(23vw,250px);  }  .max-h-\\[min\\(20vw\\2c 150px\\)\\] {    max-height: min(20vw,150px);  }  .max-h-\\[var\\(--rem20\\)\\] {    max-height: var(--rem20);  }  .min-h-\\[1\\.5rem\\] {    min-height: 1.5rem;  }  .min-h-\\[1rem\\] {    min-height: 1rem;  }  .min-h-\\[2\\.5rem\\] {    min-height: 2.5rem;  }  .min-h-\\[2\\.875rem\\] {    min-height: 2.875rem;  }  .min-h-\\[2rem\\] {    min-height: 2rem;  }  .min-h-\\[3\\.25rem\\] {    min-height: 3.25rem;  }  .min-h-\\[3rem\\] {    min-height: 3rem;  }  .min-h-\\[4\\.5rem\\] {    min-height: 4.5rem;  }  .min-h-\\[min\\(20vw\\2c 150px\\)\\] {    min-height: min(20vw,150px);  }  .w-100 {    width: 100%;  }  .w-2xl {    width: 3rem;  }  .w-2xs {    width: 0.25rem;  }  .w-3xl {    width: 4rem;  }  .w-\\[\\.25rem\\] {    width: .25rem;  }  .w-\\[\\.375rem\\] {    width: .375rem;  }  .w-\\[\\.625rem\\] {    width: .625rem;  }  .w-\\[1\\.25rem\\] {    width: 1.25rem;  }  .w-\\[1\\.5rem\\] {    width: 1.5rem;  }  .w-\\[1rem\\] {    width: 1rem;  }  .w-\\[2\\.5rem\\] {    width: 2.5rem;  }  .w-\\[2\\.875rem\\] {    width: 2.875rem;  }  .w-\\[2rem\\] {    width: 2rem;  }  .w-\\[3\\.25rem\\] {    width: 3.25rem;  }  .w-\\[3\\.5rem\\] {    width: 3.5rem;  }  .w-\\[32rem\\] {    width: 32rem;  }  .w-\\[3rem\\] {    width: 3rem;  }  .w-\\[4\\.5rem\\] {    width: 4.5rem;  }  .w-\\[4rem\\] {    width: 4rem;  }  .w-\\[5\\.5rem\\] {    width: 5.5rem;  }  .w-\\[95vw\\] {    width: 95vw;  }  .w-full {    width: 100%;  }  .w-lg {    width: 1.5rem;  }  .w-md {    width: 1rem;  }  .w-px {    width: 1px;  }  .w-sm {    width: 0.75rem;  }  .w-xl {    width: 2rem;  }  .w-xs {    width: 0.5rem;  }  .min-w-0 {    min-width: 0px;  }  .min-w-\\[0\\.5rem\\] {    min-width: 0.5rem;  }  .min-w-\\[1\\.5rem\\] {    min-width: 1.5rem;  }  .min-w-\\[1rem\\] {    min-width: 1rem;  }  .min-w-\\[2\\.5rem\\] {    min-width: 2.5rem;  }  .min-w-\\[2\\.875rem\\] {    min-width: 2.875rem;  }  .min-w-\\[2rem\\] {    min-width: 2rem;  }  .min-w-\\[3\\.25rem\\] {    min-width: 3.25rem;  }  .min-w-\\[3rem\\] {    min-width: 3rem;  }  .min-w-\\[4\\.5rem\\] {    min-width: 4.5rem;  }  .max-w-\\[480px\\] {    max-width: 480px;  }  .max-w-full {    max-width: 100%;  }  .max-w-xl {    max-width: 36rem;  }  .flex-1 {    flex: 1 1 0%;  }  .flex-shrink {    flex-shrink: 1;  }  .shrink {    flex-shrink: 1;  }  .shrink-0 {    flex-shrink: 0;  }  .flex-grow {    flex-grow: 1;  }  .grow {    flex-grow: 1;  }  .grow-0 {    flex-grow: 0;  }  .translate-x-px {    --tw-translate-x: 1px;    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));  }  .-scale-x-100 {    --tw-scale-x: -1;    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));  }  .scale-x-100 {    --tw-scale-x: 1;    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));  }  .transform {    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));  }  @keyframes spin {    to {      transform: rotate(360deg);    }  }  .animate-spin {    animation: spin 1s linear infinite;  }  .cursor-auto {    cursor: auto;  }  .cursor-pointer {    cursor: pointer;  }  .select-none {    -webkit-user-select: none;       -moz-user-select: none;            user-select: none;  }  .select-text {    -webkit-user-select: text;       -moz-user-select: text;            user-select: text;  }  .select-auto {    -webkit-user-select: auto;       -moz-user-select: auto;            user-select: auto;  }  .resize {    resize: both;  }  .list-none {    list-style-type: none;  }  .auto-cols-fr {    grid-auto-columns: minmax(0, 1fr);  }  .auto-rows-fr {    grid-auto-rows: minmax(0, 1fr);  }  .grid-cols-1 {    grid-template-columns: repeat(1, minmax(0, 1fr));  }  .flex-row {    flex-direction: row;  }  .flex-row-reverse {    flex-direction: row-reverse;  }  .flex-col {    flex-direction: column;  }  .flex-col-reverse {    flex-direction: column-reverse;  }  .flex-wrap {    flex-wrap: wrap;  }  .content-center {    align-content: center;  }  .content-start {    align-content: flex-start;  }  .content-end {    align-content: flex-end;  }  .content-stretch {    align-content: stretch;  }  .items-start {    align-items: flex-start;  }  .items-end {    align-items: flex-end;  }  .items-center {    align-items: center;  }  .items-stretch {    align-items: stretch;  }  .justify-start {    justify-content: flex-start;  }  .justify-end {    justify-content: flex-end;  }  .justify-center {    justify-content: center;  }  .justify-between {    justify-content: space-between;  }  .justify-items-start {    justify-items: start;  }  .justify-items-end {    justify-items: end;  }  .justify-items-center {    justify-items: center;  }  .gap-2xs {    gap: 0.25rem;  }  .gap-\\[0\\.5rem\\] {    gap: 0.5rem;  }  .gap-\\[var\\(--rem4\\)\\] {    gap: var(--rem4);  }  .gap-md {    gap: 1rem;  }  .gap-sm {    gap: 0.75rem;  }  .gap-xs {    gap: 0.5rem;  }  .gap-y-sm {    row-gap: 0.75rem;  }  .gap-y-xs {    row-gap: 0.5rem;  }  .self-start {    align-self: flex-start;  }  .overflow-hidden {    overflow: hidden;  }  .overflow-visible {    overflow: visible;  }  .truncate {    overflow: hidden;    text-overflow: ellipsis;    white-space: nowrap;  }  .text-ellipsis {    text-overflow: ellipsis;  }  .text-clip {    text-overflow: clip;  }  .whitespace-nowrap {    white-space: nowrap;  }  .whitespace-pre-line {    white-space: pre-line;  }  .rounded-\\[\\.25rem\\] {    border-radius: .25rem;  }  .rounded-\\[\\.50rem\\] {    border-radius: .50rem;  }  .rounded-\\[\\.5rem\\] {    border-radius: .5rem;  }  .rounded-\\[\\.75rem\\] {    border-radius: .75rem;  }  .rounded-\\[1rem\\] {    border-radius: 1rem;  }  .rounded-full {    border-radius: 624.9375rem;  }  .rounded-none {    border-radius: 0rem;  }  .rounded-sm {    border-radius: 0.25rem;  }  .rounded-l-\\[12px\\] {    border-top-left-radius: 12px;    border-bottom-left-radius: 12px;  }  .rounded-l-\\[8px\\] {    border-top-left-radius: 8px;    border-bottom-left-radius: 8px;  }  .rounded-r-\\[12px\\] {    border-top-right-radius: 12px;    border-bottom-right-radius: 12px;  }  .rounded-r-\\[8px\\] {    border-top-right-radius: 8px;    border-bottom-right-radius: 8px;  }  .border {    border-width: 0.0625rem;  }  .border-0 {    border-width: 0rem;  }  .border-\\[\\.25rem\\] {    border-width: .25rem;  }  .border-\\[0\\.125rem\\] {    border-width: 0.125rem;  }  .border-\\[0\\.1875rem\\] {    border-width: 0.1875rem;  }  .border-lg {    border-width: 0.25rem;  }  .border-md {    border-width: 0.125rem;  }  .border-sm {    border-width: 0.0625rem;  }  .border-b {    border-bottom-width: 0.0625rem;  }  .border-t-sm {    border-top-width: 0.0625rem;  }  .border-solid {    border-style: solid;  }  .border-dashed {    border-style: dashed;  }  .border-none {    border-style: none;  }  .border-action-downvote {    border-color: var(--color-action-downvote);  }  .border-action-upvote {    border-color: var(--color-action-upvote);  }  .border-alienblue-600 {    --tw-border-opacity: 1;    border-color: rgb(17 91 202 / var(--tw-border-opacity));  }  .border-neutral-background {    border-color: var(--color-neutral-background);  }  .border-neutral-border {    border-color: var(--color-neutral-border);  }  .border-neutral-border-weak {    border-color: var(--color-neutral-border-weak);  }  .border-tone-4 {    border-color: var(--color-tone-4);  }  .border-transparent {    border-color: transparent;  }  .bg-\\[color\\:var\\(--button-color-background-default\\)\\] {    background-color: var(--button-color-background-default);  }  .bg-\\[color\\:var\\(--color-button-plain-background-disabled\\)\\] {    background-color: var(--color-button-plain-background-disabled);  }  .bg-action-downvote {    background-color: var(--color-action-downvote);  }  .bg-action-upvote {    background-color: var(--color-action-upvote);  }  .bg-brand-background {    background-color: var(--color-brand-background);  }  .bg-danger-background {    background-color: var(--color-danger-background);  }  .bg-interactive-background-disabled {    background-color: var(--color-interactive-background-disabled);  }  .bg-interactive-content-disabled {    background-color: var(--color-interactive-content-disabled);  }  .bg-inverted-neutral-background {    background-color: var(--color-inverted-neutral-background);  }  .bg-media-background {    background-color: var(--color-media-background);  }  .bg-neutral-background {    background-color: var(--color-neutral-background);  }  .bg-neutral-background-selected {    background-color: var(--color-neutral-background-selected);  }  .bg-neutral-background-weak {    background-color: var(--color-neutral-background-weak);  }  .bg-neutral-content {    background-color: var(--color-neutral-content);  }  .bg-online {    background-color: var(--color-online);  }  .bg-primary {    background-color: var(--color-primary);  }  .bg-secondary-background {    background-color: var(--color-secondary-background);  }  .bg-secondary-background-selected {    background-color: var(--color-secondary-background-selected);  }  .bg-secondary-plain {    background-color: var(--color-secondary-plain);  }  .bg-success-background {    background-color: var(--color-success-background);  }  .bg-transparent {    background-color: transparent;  }  .bg-warning-background {    background-color: var(--color-warning-background);  }  .bg-contain {    background-size: contain;  }  .bg-cover {    background-size: cover;  }  .bg-center {    background-position: center;  }  .bg-no-repeat {    background-repeat: no-repeat;  }  .object-cover {    -o-object-fit: cover;       object-fit: cover;  }  .object-center {    -o-object-position: center;       object-position: center;  }  .p-0 {    padding: 0px;  }  .p-2xs {    padding: 0.25rem;  }  .p-md {    padding: 1rem;  }  .p-xl {    padding: 2rem;  }  .p-xs {    padding: 0.5rem;  }  .px-2xs {    padding-left: 0.25rem;    padding-right: 0.25rem;  }  .px-\\[0\\.375rem\\] {    padding-left: 0.375rem;    padding-right: 0.375rem;  }  .px-\\[var\\(--rem10\\)\\] {    padding-left: var(--rem10);    padding-right: var(--rem10);  }  .px-\\[var\\(--rem12\\)\\] {    padding-left: var(--rem12);    padding-right: var(--rem12);  }  .px-\\[var\\(--rem14\\)\\] {    padding-left: var(--rem14);    padding-right: var(--rem14);  }  .px-\\[var\\(--rem6\\)\\] {    padding-left: var(--rem6);    padding-right: var(--rem6);  }  .px-\\[var\\(--rem8\\)\\] {    padding-left: var(--rem8);    padding-right: var(--rem8);  }  .px-md {    padding-left: 1rem;    padding-right: 1rem;  }  .px-sm {    padding-left: 0.75rem;    padding-right: 0.75rem;  }  .px-xs {    padding-left: 0.5rem;    padding-right: 0.5rem;  }  .py-2xs {    padding-top: 0.25rem;    padding-bottom: 0.25rem;  }  .py-\\[0\\.125rem\\] {    padding-top: 0.125rem;    padding-bottom: 0.125rem;  }  .py-\\[var\\(--rem10\\)\\] {    padding-top: var(--rem10);    padding-bottom: var(--rem10);  }  .py-\\[var\\(--rem14\\)\\] {    padding-top: var(--rem14);    padding-bottom: var(--rem14);  }  .py-\\[var\\(--rem6\\)\\] {    padding-top: var(--rem6);    padding-bottom: var(--rem6);  }  .py-xs {    padding-top: 0.5rem;    padding-bottom: 0.5rem;  }  .pb-md {    padding-bottom: 1rem;  }  .pl-\\[var\\(--rem10\\)\\] {    padding-left: var(--rem10);  }  .pl-\\[var\\(--rem12\\)\\] {    padding-left: var(--rem12);  }  .pl-\\[var\\(--rem14\\)\\] {    padding-left: var(--rem14);  }  .pl-\\[var\\(--rem16\\)\\] {    padding-left: var(--rem16);  }  .pl-md {    padding-left: 1rem;  }  .pr-\\[10px\\] {    padding-right: 10px;  }  .pr-\\[3px\\] {    padding-right: 3px;  }  .pr-\\[var\\(--rem10\\)\\] {    padding-right: var(--rem10);  }  .pr-\\[var\\(--rem12\\)\\] {    padding-right: var(--rem12);  }  .pr-\\[var\\(--rem14\\)\\] {    padding-right: var(--rem14);  }  .pr-\\[var\\(--rem16\\)\\] {    padding-right: var(--rem16);  }  .pr-\\[var\\(--rem6\\)\\] {    padding-right: var(--rem6);  }  .pr-\\[var\\(--rem8\\)\\] {    padding-right: var(--rem8);  }  .pr-md {    padding-right: 1rem;  }  .pt-md {    padding-top: 1rem;  }  .text-center {    text-align: center;  }  .text-start {    text-align: start;  }  .text-end {    text-align: end;  }  .align-middle {    vertical-align: middle;  }  .text-10 {    font-size: 0.625rem;    line-height: 1rem;  }  .text-12 {    font-size: 0.75rem;    line-height: 1rem;  }  .text-14 {    font-size: 0.875rem;    line-height: 1.25rem;  }  .text-16 {    font-size: 1rem;    line-height: 1.25rem;  }  .text-18 {    font-size: 1.125rem;    line-height: 1.5rem;  }  .text-20 {    font-size: 1.25rem;    line-height: 1.25rem;  }  .text-24 {    font-size: 1.5rem;    line-height: 1.75rem;  }  .font-bold {    font-weight: 700;  }  .font-normal {    font-weight: 400;  }  .font-semibold {    font-weight: 600;  }  .uppercase {    text-transform: uppercase;  }  .normal-case {    text-transform: none;  }  .leading-4 {    line-height: 1rem;  }  .leading-5 {    line-height: 1.25rem;  }  .tracking-widest {    letter-spacing: 0.1em;  }  .\\!text-neutral-content-strong {    color: var(--color-neutral-content-strong) !important;  }  .text-\\[color\\:var\\(--button-color-text-default\\)\\] {    color: var(--button-color-text-default);  }  .text-\\[color\\:var\\(--color-button-plain-text-disabled\\)\\] {    color: var(--color-button-plain-text-disabled);  }  .text-\\[color\\:var\\(--color-button-secondary-text-disabled\\)\\] {    color: var(--color-button-secondary-text-disabled);  }  .text-action-downvote {    color: var(--color-action-downvote);  }  .text-action-upvote {    color: var(--color-action-upvote);  }  .text-ai-plain {    color: var(--color-ai-plain);  }  .text-brand-onBackground {    color: var(--color-brand-onBackground);  }  .text-category-nsfw {    color: var(--color-category-nsfw);  }  .text-category-spoiler {    color: var(--color-category-spoiler);  }  .text-danger-content {    color: var(--color-danger-content);  }  .text-global-white {    --tw-text-opacity: 1;    color: rgb(255 255 255 / var(--tw-text-opacity));  }  .text-interactive-content-disabled {    color: var(--color-interactive-content-disabled);  }  .text-inverted-secondary-plain {    color: var(--color-inverted-secondary-plain);  }  .text-media-onBackground {    color: var(--color-media-onBackground);  }  .text-media-onbackground {    color: var(--color-media-onbackground);  }  .text-media-onbackground-weak {    color: var(--color-media-onbackground-weak);  }  .text-neutral-background {    color: var(--color-neutral-background);  }  .text-neutral-content-disabled {    color: var(--color-neutral-content-disabled);  }  .text-neutral-content-strong {    color: var(--color-neutral-content-strong);  }  .text-neutral-content-weak {    color: var(--color-neutral-content-weak);  }  .text-primary {    color: var(--color-primary);  }  .text-primary-onBackground {    color: var(--color-primary-onBackground);  }  .text-secondary {    color: var(--color-secondary);  }  .text-secondary-onBackground {    color: var(--color-secondary-onBackground);  }  .text-secondary-plain {    color: var(--color-secondary-plain);  }  .text-secondary-plain-weak {    color: var(--color-secondary-plain-weak);  }  .text-secondary-weak {    color: var(--color-secondary-weak);  }  .text-warning-content {    color: var(--color-warning-content);  }  .underline {    text-decoration-line: underline;  }  .no-underline {    text-decoration-line: none;  }  .opacity-30 {    opacity: 0.3;  }  .opacity-40 {    opacity: 0.4;  }  .opacity-60 {    opacity: 0.6;  }  .outline {    outline-style: solid;  }  .-outline-offset-1 {    outline-offset: -1px;  }  .ring {    --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);    --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);    box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);  }  .blur-sm {    --tw-blur: blur(0.25rem);    filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);  }  .drop-shadow {    --tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / 0.1)) drop-shadow(0 1px 1px rgb(0 0 0 / 0.06));    filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);  }  .invert {    --tw-invert: invert(100%);    filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);  }  .filter {    filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);  }  .transition {    transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);    transition-duration: 150ms;  }  .ease-in-out {    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);  }  /**   * Styles defined in this file are not shared outside of this package and are only available   * to the components within this package. To share custom styles with the host application   * for purposes such as server-side rendering use custom-styles.css instead.   */  .before\\:content-\\[\\'\\2022\\'\\]::before {    --tw-content: '';    content: var(--tw-content);  }  .visited\\:text-media-onbackground:visited {    color: var(--color-media-onbackground);  }  .visited\\:text-neutral-background-weak:visited {    color: var(--color-neutral-background-weak);  }  .visited\\:text-secondary-plain:visited {    color: var(--color-secondary-plain);  }  .visited\\:text-secondary-plain-weak:visited {    color: var(--color-secondary-plain-weak);  }  @media (hover: hover) and (pointer: fine) {    .hover\\:bg-downvote-background-hover:hover {      background-color: var(--color-downvote-background-hover);    }    .hover\\:bg-neutral-background-hover:hover {      background-color: var(--color-neutral-background-hover);    }    .hover\\:bg-neutral-background-selected:hover {      background-color: var(--color-neutral-background-selected);    }    .hover\\:bg-secondary-background-hover:hover {      background-color: var(--color-secondary-background-hover);    }    .hover\\:bg-upvote-background-hover:hover {      background-color: var(--color-upvote-background-hover);    }    .hover\\:text-action-downvote:hover {      color: var(--color-action-downvote);    }    .hover\\:text-action-upvote:hover {      color: var(--color-action-upvote);    }    .hover\\:text-danger-content-hover:hover {      color: var(--color-danger-content-hover);    }    .hover\\:text-global-white:hover {      --tw-text-opacity: 1;      color: rgb(255 255 255 / var(--tw-text-opacity));    }    .hover\\:text-inverted-secondary-plain-hover:hover {      color: var(--color-inverted-secondary-plain-hover);    }    .hover\\:text-secondary-hover:hover {      color: var(--color-secondary-hover);    }    .hover\\:text-secondary-plain:hover {      color: var(--color-secondary-plain);    }    .hover\\:text-secondary-plain-hover:hover {      color: var(--color-secondary-plain-hover);    }    .hover\\:underline:hover {      text-decoration-line: underline;    }    .hover\\:no-underline:hover {      text-decoration-line: none;    }  }  .focus-visible\\:text-action-downvote:focus-visible {    color: var(--color-action-downvote);  }  .focus-visible\\:text-action-upvote:focus-visible {    color: var(--color-action-upvote);  }  .active\\:bg-interactive-pressed:active {    background-color: var(--color-interactive-pressed);  }  .active\\:bg-secondary-background:active {    background-color: var(--color-secondary-background);  }  .disabled\\:bg-interactive-background-disabled:disabled {    background-color: var(--color-interactive-background-disabled);  }  .disabled\\:text-interactive-content-disabled:disabled {    color: var(--color-interactive-content-disabled);  }  @media (hover: hover) and (pointer: fine) {    .group:hover .group-hover\\:visible {      visibility: visible;    }    .group:hover .group-hover\\:block {      display: block;    }    .group:hover .group-hover\\:bg-secondary-plain-weak {      background-color: var(--color-secondary-plain-weak);    }  }  .group.tab-bottom-border.tab-selected .group-\\[\\.tab-bottom-border\\.tab-selected\\]\\:block {    display: block;  }  .\\[\\&\\>\\:first-child\\]\\:mb-0>:first-child {    margin-bottom: 0px;  }  .\\[\\&\\>\\:first-child\\]\\:max-h-full>:first-child {    max-height: 100%;  }  .\\[\\&\\>\\:first-child\\]\\:overflow-hidden>:first-child {    overflow: hidden;  }  .\\[\\&\\>\\:first-child\\]\\:rounded-\\[inherit\\]>:first-child {    border-radius: inherit;  }  .\\[\\&\\>\\:not\\(\\.pointer-events-none\\)\\]\\:pointer-events-auto>:not(.pointer-events-none) {    pointer-events: auto;  }  .\\[\\&\\>svg\\]\\:block>svg {    display: block;  }  .\\[\\&\\>svg\\]\\:aspect-square>svg {    aspect-ratio: 1 / 1;  }  .\\[\\&\\>svg\\]\\:h-\\[1\\.25rem\\]>svg {    height: 1.25rem;  }  .\\[\\&\\>svg\\]\\:h-lg>svg {    height: 1.5rem;  }  .\\[\\&\\>svg\\]\\:h-md>svg {    height: 1rem;  }  .\\[\\&\\>svg\\]\\:h-sm>svg {    height: 0.75rem;  }  .\\[\\&\\>svg\\]\\:w-\\[1\\.25rem\\]>svg {    width: 1.25rem;  }  .\\[\\&\\>svg\\]\\:w-lg>svg {    width: 1.5rem;  }  .\\[\\&\\>svg\\]\\:w-md>svg {    width: 1rem;  }  .\\[\\&\\>svg\\]\\:w-sm>svg {    width: 0.75rem;  }  .\\[\\&\\>svg\\]\\:text-center>svg {    text-align: center;  }  .\\[\\&\\>svg\\]\\:align-middle>svg {    vertical-align: middle;  }  ",styles=sm26581800001.a0(stylesCSS);var EffectType,WebViewInternalMessageScope;function parseShareEffect(e){if(e.appIconUri){if(!new URL(e.appIconUri).host.endsWith("devvit.net"))return void console.warn(`invalid app icon "${e.appIconUri}"`)}let t;if(e.userData){const o={hash:"",params:{},path:"",userData:e.userData};t=JSON.stringify(o)}return{appIconUri:e.appIconUri,devvitShare:t,text:e.text,title:e.title}}function sanitize(e){return e?.toLowerCase()||""}function isChrome(e){return(e=sanitize(e)).includes("chrome")||e.includes("crios")}function isEdge(e){return sanitize(e).includes("edg")}function isFirefox(e){return(e=sanitize(e)).includes("firefox")||e.includes("fxios")}function isiPad(e,t){return/(iPad)/i.test(sanitize(e))||/(Mac)/i.test(sanitize(e))&&t&&t>1}function isIosUA(e,t){return isiPad(e,t)||/(iPhone|iPod)/i.test(sanitize(e))}function isSafari(e){return!isChrome(e)&&!isEdge(e)&&!isFirefox(e)&&(sanitize(e).includes("safari")||isIosUA(e))}!function(e){e[e.EFFECT_REALTIME_SUB=0]="EFFECT_REALTIME_SUB",e[e.EFFECT_RERENDER_UI=1]="EFFECT_RERENDER_UI",e[e.EFFECT_RELOAD_PART=2]="EFFECT_RELOAD_PART",e[e.EFFECT_SHOW_FORM=3]="EFFECT_SHOW_FORM",e[e.EFFECT_SHOW_TOAST=4]="EFFECT_SHOW_TOAST",e[e.EFFECT_NAVIGATE_TO_URL=5]="EFFECT_NAVIGATE_TO_URL",e[e.EFFECT_SET_INTERVALS=7]="EFFECT_SET_INTERVALS",e[e.EFFECT_CREATE_ORDER=8]="EFFECT_CREATE_ORDER",e[e.EFFECT_WEB_VIEW=9]="EFFECT_WEB_VIEW",e[e.EFFECT_CAN_RUN_AS_USER=11]="EFFECT_CAN_RUN_AS_USER",e[e.EFFECT_TELEMETRY=12]="EFFECT_TELEMETRY",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(EffectType||(EffectType={})),function(e){e[e.CLIENT=0]="CLIENT",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(WebViewInternalMessageScope||(WebViewInternalMessageScope={}));const webViewMessageIsInternalAndClientScope=e=>null!==e&&"object"==typeof e&&("scope"in e&&0===e.scope&&"type"in e&&"devvit-internal"===e.type);var __decorate=function(e,t,o,r){var n,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(i=(a<3?n(i):a>3?n(t,o,i):n(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i},__metadata=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__classPrivateFieldGet=function(e,t,o,r){if("a"===o&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===o?r:"a"===o?r.call(e):r?r.value:t.get(e)},__classPrivateFieldSet=function(e,t,o,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,o):n?n.value=o:t.set(e,o),o},_DevvitBlocksWebView_instances,_DevvitBlocksWebView_hasLoaded,_DevvitBlocksWebView_queuedMessages,_DevvitBlocksWebView_sandboxUpdated,_DevvitBlocksWebView_resolveSandboxUpdated,_DevvitBlocksWebView_clearQueue,_DevvitBlocksWebView_handleMessage,_DevvitBlocksWebView_handleInternalClientScopeMessage,_DevvitBlocksWebView_sendStateUpdate,_DevvitBlocksWebView_onLoad,_DevvitBlocksWebView_postDevvitMessage,_DevvitBlocksWebView_debugLog;initDevvitGlobal();let DevvitBlocksWebView=class extends sm265818000hy.s{constructor(){super(...arguments),_DevvitBlocksWebView_instances.add(this),this.devMode=!1,this.autoFocus=!1,this.focusable=!1,this._originDiffers=!1,_DevvitBlocksWebView_hasLoaded.set(this,!1),_DevvitBlocksWebView_queuedMessages.set(this,[]),_DevvitBlocksWebView_sandboxUpdated.set(this,void 0),_DevvitBlocksWebView_resolveSandboxUpdated.set(this,(()=>{})),_DevvitBlocksWebView_handleMessage.set(this,(e=>{e.source===this._iframe?.contentWindow&&(__classPrivateFieldGet(this,_DevvitBlocksWebView_instances,"m",_DevvitBlocksWebView_debugLog).call(this,"Got message from iframe:",e.data),webViewMessageIsInternalAndClientScope(e.data)?__classPrivateFieldGet(this,_DevvitBlocksWebView_instances,"m",_DevvitBlocksWebView_handleInternalClientScopeMessage).call(this,e.data):(e.preventDefault(),e.stopImmediatePropagation(),this.onReceivedPostMessage?this.onReceivedPostMessage(e.data):this.dispatchEvent(sm26581800001.c("devvit-web-view-message",e.data))))}))}static get styles(){return[sm265818000hy.a`:host{display:flex;flex-direction:row}iframe{flex-grow:1;border:0;max-width:100%;max-height:100%}`]}connectedCallback(){super.connectedCallback(),window.addEventListener("message",__classPrivateFieldGet(this,_DevvitBlocksWebView_handleMessage,"f"))}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("message",__classPrivateFieldGet(this,_DevvitBlocksWebView_handleMessage,"f"))}postEvent(e){__classPrivateFieldGet(this,_DevvitBlocksWebView_instances,"m",_DevvitBlocksWebView_postDevvitMessage).call(this,"devvit-message",e)}async getUpdateComplete(){const e=super.getUpdateComplete();return await __classPrivateFieldGet(this,_DevvitBlocksWebView_sandboxUpdated,"f"),e}willUpdate(e){if(e.has("state")&&this.state&&__classPrivateFieldGet(this,_DevvitBlocksWebView_instances,"m",_DevvitBlocksWebView_sendStateUpdate).call(this),e.has("src")&&this.src){const t=new URL(this.src);t.hostname.endsWith("webview.devvit.net")?this._targetOrigin=t.origin:this.devMode?this._targetOrigin="*":this._targetOrigin=void 0,__classPrivateFieldSet(this,_DevvitBlocksWebView_hasLoaded,!1,"f"),e.get("src")&&__classPrivateFieldGet(this,_DevvitBlocksWebView_instances,"m",_DevvitBlocksWebView_clearQueue).call(this),__classPrivateFieldGet(this,_DevvitBlocksWebView_instances,"m",_DevvitBlocksWebView_debugLog).call(this,"New configuration: src:",this.src,"; allow-same-origin:",this._originDiffers,"; targetOrigin: ",this._targetOrigin)}}updated(e){if(e.has("src")&&this.src){const e=new URL(this.src).host!==location.host;e!==this._originDiffers&&(this._originDiffers=e,this.pendingSrc=this.src,this.src=void 0,__classPrivateFieldSet(this,_DevvitBlocksWebView_sandboxUpdated,new Promise((e=>__classPrivateFieldSet(this,_DevvitBlocksWebView_resolveSandboxUpdated,e,"f"))),"f"))}e.has("pendingSrc")&&this.pendingSrc&&this._iframe&&(this.src=this.pendingSrc,this.pendingSrc=void 0,__classPrivateFieldGet(this,_DevvitBlocksWebView_resolveSandboxUpdated,"f").call(this),this._iframe.src=this.src,isSafari()&&this._iframe.contentWindow?.location.replace(this.src))}reset(){__classPrivateFieldGet(this,_DevvitBlocksWebView_instances,"m",_DevvitBlocksWebView_clearQueue).call(this)}postMessage(e){__classPrivateFieldGet(this,_DevvitBlocksWebView_hasLoaded,"f")?__classPrivateFieldGet(this,_DevvitBlocksWebView_instances,"m",_DevvitBlocksWebView_postDevvitMessage).call(this,"devvit-message",e):(__classPrivateFieldGet(this,_DevvitBlocksWebView_queuedMessages,"f").push(e),__classPrivateFieldGet(this,_DevvitBlocksWebView_instances,"m",_DevvitBlocksWebView_debugLog).call(this,(()=>["Not ready. Queueing message:",JSON.stringify(e)])))}render(){const e=this._originDiffers?"allow-same-origin":"",t=this.context?JSON.stringify(this.context.bridgeContext):"";return sm265818000hy.x`<iframe name="${t}" sandbox="allow-scripts ${e} allow-forms" allow="clipboard-write; web-share" referrerpolicy="origin" tabindex="${sm26581800001.ad(this.focusable?"0":void 0)}" @load="${__classPrivateFieldGet(this,_DevvitBlocksWebView_instances,"m",_DevvitBlocksWebView_onLoad)}"></iframe>`}};function isWebViewTelemetryClickEffect(e){return"click"===e.event}function isWebViewTelemetryLoadedEffect(e){return"web-view-loaded"===e.event}return _DevvitBlocksWebView_hasLoaded=new WeakMap,_DevvitBlocksWebView_queuedMessages=new WeakMap,_DevvitBlocksWebView_sandboxUpdated=new WeakMap,_DevvitBlocksWebView_resolveSandboxUpdated=new WeakMap,_DevvitBlocksWebView_handleMessage=new WeakMap,_DevvitBlocksWebView_instances=new WeakSet,_DevvitBlocksWebView_clearQueue=function(){__classPrivateFieldGet(this,_DevvitBlocksWebView_instances,"m",_DevvitBlocksWebView_debugLog).call(this,"WebView reset. Clearing queued messages:",__classPrivateFieldGet(this,_DevvitBlocksWebView_queuedMessages,"f").length),__classPrivateFieldGet(this,_DevvitBlocksWebView_queuedMessages,"f").length=0},_DevvitBlocksWebView_handleInternalClientScopeMessage=function(e){if(e.analytics?isWebViewTelemetryClickEffect(e.analytics)?this.dispatchEvent(sm26581800001.c("devvit-web-view-click",{event:e.analytics.event,definition:e.analytics.definition})):isWebViewTelemetryLoadedEffect(e.analytics)&&this.dispatchEvent(sm26581800001.c("devvit-web-view-loaded",{event:e.analytics.event,timeStart:e.analytics.timeStart,duration:e.analytics.duration,timeEnd:e.analytics.timeEnd})):e.share?this.dispatchEvent(Bubble("devvit-web-view-share",parseShareEffect(e.share))):e.immersiveMode&&this.dispatchEvent(Bubble("devvit-web-view-immersive-mode",e.immersiveMode)),!e.effect&&!e.realtimeEffect&&!e.createOrder)return;let t;t=e.realtimeEffect?{realtimeSubscriptions:e.realtimeEffect,type:EffectType.EFFECT_REALTIME_SUB}:e.createOrder?{createOrder:e.createOrder,type:EffectType.EFFECT_CREATE_ORDER}:{...e.effect,type:e.effect.type};const o=t;this.dispatchEvent(sm26581800001.c("devvit-ui-effect",{metadata:this.context?.meta??{},effect:o,onEvent:t=>{__classPrivateFieldGet(this,_DevvitBlocksWebView_instances,"m",_DevvitBlocksWebView_postDevvitMessage).call(this,"devvit-message",{...t,id:e.id??""})}}))},_DevvitBlocksWebView_sendStateUpdate=function(){if(this.state&&__classPrivateFieldGet(this,_DevvitBlocksWebView_hasLoaded,"f")){const e={state:this.state};__classPrivateFieldGet(this,_DevvitBlocksWebView_instances,"m",_DevvitBlocksWebView_postDevvitMessage).call(this,"devvit-state",e),__classPrivateFieldGet(this,_DevvitBlocksWebView_instances,"m",_DevvitBlocksWebView_postDevvitMessage).call(this,"stateUpdate",this.state)}},_DevvitBlocksWebView_onLoad=function(){if(!__classPrivateFieldGet(this,_DevvitBlocksWebView_hasLoaded,"f")&&this.src){__classPrivateFieldGet(this,_DevvitBlocksWebView_instances,"m",_DevvitBlocksWebView_debugLog).call(this,"Page loaded. Sending initial state."),__classPrivateFieldSet(this,_DevvitBlocksWebView_hasLoaded,!0,"f"),__classPrivateFieldGet(this,_DevvitBlocksWebView_instances,"m",_DevvitBlocksWebView_sendStateUpdate).call(this),__classPrivateFieldGet(this,_DevvitBlocksWebView_instances,"m",_DevvitBlocksWebView_debugLog).call(this,"Sending",__classPrivateFieldGet(this,_DevvitBlocksWebView_queuedMessages,"f").length,"queued messages");for(const e of __classPrivateFieldGet(this,_DevvitBlocksWebView_queuedMessages,"f"))__classPrivateFieldGet(this,_DevvitBlocksWebView_instances,"m",_DevvitBlocksWebView_postDevvitMessage).call(this,"devvit-message",e);this.autoFocus&&this._iframe?.focus()}},_DevvitBlocksWebView_postDevvitMessage=function(e,t){const o={type:e,data:t},r=this._targetOrigin?{targetOrigin:this._targetOrigin}:{};this._iframe?.contentWindow?.postMessage(o,r),__classPrivateFieldGet(this,_DevvitBlocksWebView_instances,"m",_DevvitBlocksWebView_debugLog).call(this,(()=>["Sending message:",JSON.stringify(o)]))},_DevvitBlocksWebView_debugLog=function(e){globalThis.devvit?.debug.webView&&console.log.apply(null,[`[webView${this.id?`#${this.id}`:""}]`,..."function"==typeof e?e():"string"==typeof e?[e]:e])},__decorate([sm26581800001.n({type:Object,attribute:!1}),__metadata("design:type",Object)],DevvitBlocksWebView.prototype,"context",void 0),__decorate([sm26581800001.n({type:String}),__metadata("design:type",Object)],DevvitBlocksWebView.prototype,"src",void 0),__decorate([sm26581800001.n({type:Boolean,attribute:"dev-mode"}),__metadata("design:type",Boolean)],DevvitBlocksWebView.prototype,"devMode",void 0),__decorate([sm26581800001.n({type:Object,attribute:!1}),__metadata("design:type",Function)],DevvitBlocksWebView.prototype,"onReceivedPostMessage",void 0),__decorate([sm26581800001.n({attribute:!1}),__metadata("design:type",Object)],DevvitBlocksWebView.prototype,"state",void 0),__decorate([sm26581800001.n({type:Boolean,attribute:"auto-focus"}),__metadata("design:type",Boolean)],DevvitBlocksWebView.prototype,"autoFocus",void 0),__decorate([sm26581800001.n({type:Boolean,attribute:"focusable"}),__metadata("design:type",Boolean)],DevvitBlocksWebView.prototype,"focusable",void 0),__decorate([sm26581800001.h(),__metadata("design:type",Boolean)],DevvitBlocksWebView.prototype,"_originDiffers",void 0),__decorate([sm26581800001.h(),__metadata("design:type",Object)],DevvitBlocksWebView.prototype,"_targetOrigin",void 0),__decorate([sm26581800001.h(),__metadata("design:type",Object)],DevvitBlocksWebView.prototype,"pendingSrc",void 0),__decorate([sm26581800001.a2("iframe"),__metadata("design:type",Object)],DevvitBlocksWebView.prototype,"_iframe",void 0),DevvitBlocksWebView=__decorate([sm26581800001.e("devvit-blocks-web-view")],DevvitBlocksWebView),{B:Bubble,D:DevvitPostData,get E(){return EffectType$1},get F(){return FormFieldType},I:Int32Value,L:Long,get O(){return OrderResultStatus},get R(){return RealtimeSubscriptionStatus},S:StringValue,T:Timestamp,get U(){return UIEventScope},get W(){return WebViewVisibility},get _(){return _m0},a:scopeToJSON,get b(){return ToastAppearance},c:styles,get d(){return msg},e:str,f:Int64Value,g:BoolValue,h:ListValue,i:initDevvitGlobal,j:Effect,k:Empty,l:Struct,m:messageTypeRegistry,n:UIEvent,o:Form,p:FormFieldValue,q:UInt32Value,r:DoubleValue,s:scopeFromJSON,t:RealtimeDefinition,u:WebViewContext,v:getDevvitDebug,w:getDevvitShareParam,x:queryParamDevvitShare}}));